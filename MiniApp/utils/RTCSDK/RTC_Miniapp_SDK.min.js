module.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=13)}([function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=0},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,c=void 0,c=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!==n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===n(c)?c:String(c)),r)}var o,c}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var c={};
/** @license zlib.js 2012 - imaya [ https://github.com/imaya/zlib.js ] The MIT License */(function(){"use strict";function e(e){throw e}var t=void 0,n=!0,i=this;function r(e,n){var r,o=e.split("."),c=i;!(o[0]in c)&&c.execScript&&c.execScript("var "+o[0]);for(;o.length&&(r=o.shift());)o.length||n===t?c=c[r]?c[r]:c[r]={}:c[r]=n}var o="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array&&"undefined"!=typeof DataView;function c(t,n){this.index="number"==typeof n?n:0,this.i=0,this.buffer=t instanceof(o?Uint8Array:Array)?t:new(o?Uint8Array:Array)(32768),2*this.buffer.length<=this.index&&e(Error("invalid index")),this.buffer.length<=this.index&&this.f()}c.prototype.f=function(){var e,t=this.buffer,n=t.length,i=new(o?Uint8Array:Array)(n<<1);if(o)i.set(t);else for(e=0;e<n;++e)i[e]=t[e];return this.buffer=i},c.prototype.d=function(e,t,n){var i,r=this.buffer,o=this.index,c=this.i,s=r[o];if(n&&1<t&&(e=8<t?(h[255&e]<<24|h[e>>>8&255]<<16|h[e>>>16&255]<<8|h[e>>>24&255])>>32-t:h[e]>>8-t),8>t+c)s=s<<t|e,c+=t;else for(i=0;i<t;++i)s=s<<1|e>>t-i-1&1,8==++c&&(c=0,r[o++]=h[s],s=0,o===r.length&&(r=this.f()));r[o]=s,this.buffer=r,this.i=c,this.index=o},c.prototype.finish=function(){var e,t=this.buffer,n=this.index;return 0<this.i&&(t[n]<<=8-this.i,t[n]=h[t[n]],n++),o?e=t.subarray(0,n):(t.length=n,e=t),e};var s,a=new(o?Uint8Array:Array)(256);for(s=0;256>s;++s){for(var l=d=s,u=7,d=d>>>1;d;d>>>=1)l<<=1,l|=1&d,--u;a[s]=(l<<u&255)>>>0}var h=a;function f(e){this.buffer=new(o?Uint16Array:Array)(2*e),this.length=0}function p(e){var t,n,i,r,c,s,a,l,u,d,h=e.length,f=0,p=Number.POSITIVE_INFINITY;for(l=0;l<h;++l)e[l]>f&&(f=e[l]),e[l]<p&&(p=e[l]);for(t=1<<f,n=new(o?Uint32Array:Array)(t),i=1,r=0,c=2;i<=f;){for(l=0;l<h;++l)if(e[l]===i){for(s=0,a=r,u=0;u<i;++u)s=s<<1|1&a,a>>=1;for(d=i<<16|l,u=s;u<t;u+=c)n[u]=d;++r}++i,r<<=1,c<<=1}return[n,f,p]}function _(e,t){this.h=g,this.w=0,this.input=o&&e instanceof Array?new Uint8Array(e):e,this.b=0,t&&(t.lazy&&(this.w=t.lazy),"number"==typeof t.compressionType&&(this.h=t.compressionType),t.outputBuffer&&(this.a=o&&t.outputBuffer instanceof Array?new Uint8Array(t.outputBuffer):t.outputBuffer),"number"==typeof t.outputIndex&&(this.b=t.outputIndex)),this.a||(this.a=new(o?Uint8Array:Array)(32768))}f.prototype.getParent=function(e){return 2*((e-2)/4|0)},f.prototype.push=function(e,t){var n,i,r,o=this.buffer;for(n=this.length,o[this.length++]=t,o[this.length++]=e;0<n&&(i=this.getParent(n),o[n]>o[i]);)r=o[n],o[n]=o[i],o[i]=r,r=o[n+1],o[n+1]=o[i+1],o[i+1]=r,n=i;return this.length},f.prototype.pop=function(){var e,t,n,i,r,o=this.buffer;for(t=o[0],e=o[1],this.length-=2,o[0]=o[this.length],o[1]=o[this.length+1],r=0;!((i=2*r+2)>=this.length)&&(i+2<this.length&&o[i+2]>o[i]&&(i+=2),o[i]>o[r]);)n=o[r],o[r]=o[i],o[i]=n,n=o[r+1],o[r+1]=o[i+1],o[i+1]=n,r=i;return{index:e,value:t,length:this.length}};var C,g=2,y={NONE:0,r:1,k:g,N:3},I=[];for(C=0;288>C;C++)switch(!0){case 143>=C:I.push([C+48,8]);break;case 255>=C:I.push([C-144+400,9]);break;case 279>=C:I.push([C-256+0,7]);break;case 287>=C:I.push([C-280+192,8]);break;default:e("invalid literal: "+C)}function v(e,t){this.length=e,this.G=t}_.prototype.j=function(){var i,r,s,a,l=this.input;switch(this.h){case 0:for(s=0,a=l.length;s<a;){var u,d,h,f=r=o?l.subarray(s,s+65535):l.slice(s,s+65535),p=(s+=r.length)===a,_=t,C=t,y=this.a,v=this.b;if(o){for(y=new Uint8Array(this.a.buffer);y.length<=v+f.length+5;)y=new Uint8Array(y.length<<1);y.set(this.a)}if(u=p?1:0,y[v++]=0|u,h=65536+~(d=f.length)&65535,y[v++]=255&d,y[v++]=d>>>8&255,y[v++]=255&h,y[v++]=h>>>8&255,o)y.set(f,v),v+=f.length,y=y.subarray(0,v);else{for(_=0,C=f.length;_<C;++_)y[v++]=f[_];y.length=v}this.b=v,this.a=y}break;case 1:var m=new c(o?new Uint8Array(this.a.buffer):this.a,this.b);m.d(1,1,n),m.d(1,2,n);var S,R,x,P=E(this,l);for(S=0,R=P.length;S<R;S++)if(x=P[S],c.prototype.d.apply(m,I[x]),256<x)m.d(P[++S],P[++S],n),m.d(P[++S],5),m.d(P[++S],P[++S],n);else if(256===x)break;this.a=m.finish(),this.b=this.a.length;break;case g:var O,D,M,N,A,T,k,L,U,V,F,j,B,H,q,W=new c(o?new Uint8Array(this.a.buffer):this.a,this.b),G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=Array(19);for(O=g,W.d(1,1,n),W.d(O,2,n),D=E(this,l),k=w(T=b(this.L,15)),U=w(L=b(this.K,7)),M=286;257<M&&0===T[M-1];M--);for(N=30;1<N&&0===L[N-1];N--);var K,Q,X,Y,J,Z,$=M,ee=N,te=new(o?Uint32Array:Array)($+ee),ne=new(o?Uint32Array:Array)(316),ie=new(o?Uint8Array:Array)(19);for(K=Q=0;K<$;K++)te[Q++]=T[K];for(K=0;K<ee;K++)te[Q++]=L[K];if(!o)for(K=0,Y=ie.length;K<Y;++K)ie[K]=0;for(K=J=0,Y=te.length;K<Y;K+=Q){for(Q=1;K+Q<Y&&te[K+Q]===te[K];++Q);if(X=Q,0===te[K])if(3>X)for(;0<X--;)ne[J++]=0,ie[0]++;else for(;0<X;)(Z=138>X?X:138)>X-3&&Z<X&&(Z=X-3),10>=Z?(ne[J++]=17,ne[J++]=Z-3,ie[17]++):(ne[J++]=18,ne[J++]=Z-11,ie[18]++),X-=Z;else if(ne[J++]=te[K],ie[te[K]]++,3>--X)for(;0<X--;)ne[J++]=te[K],ie[te[K]]++;else for(;0<X;)(Z=6>X?X:6)>X-3&&Z<X&&(Z=X-3),ne[J++]=16,ne[J++]=Z-3,ie[16]++,X-=Z}for(i=o?ne.subarray(0,J):ne.slice(0,J),V=b(ie,7),H=0;19>H;H++)z[H]=V[G[H]];for(A=19;4<A&&0===z[A-1];A--);for(F=w(V),W.d(M-257,5,n),W.d(N-1,5,n),W.d(A-4,4,n),H=0;H<A;H++)W.d(z[H],3,n);for(H=0,q=i.length;H<q;H++)if(j=i[H],W.d(F[j],V[j],n),16<=j){switch(H++,j){case 16:B=2;break;case 17:B=3;break;case 18:B=7;break;default:e("invalid code: "+j)}W.d(i[H],B,n)}var re,oe,ce,se,ae,le,ue,de,he=[k,T],fe=[U,L];for(ae=he[0],le=he[1],ue=fe[0],de=fe[1],re=0,oe=D.length;re<oe;++re)if(ce=D[re],W.d(ae[ce],le[ce],n),256<ce)W.d(D[++re],D[++re],n),se=D[++re],W.d(ue[se],de[se],n),W.d(D[++re],D[++re],n);else if(256===ce)break;this.a=W.finish(),this.b=this.a.length;break;default:e("invalid compression type")}return this.a};var m=function(){function t(t){switch(!0){case 3===t:return[257,t-3,0];case 4===t:return[258,t-4,0];case 5===t:return[259,t-5,0];case 6===t:return[260,t-6,0];case 7===t:return[261,t-7,0];case 8===t:return[262,t-8,0];case 9===t:return[263,t-9,0];case 10===t:return[264,t-10,0];case 12>=t:return[265,t-11,1];case 14>=t:return[266,t-13,1];case 16>=t:return[267,t-15,1];case 18>=t:return[268,t-17,1];case 22>=t:return[269,t-19,2];case 26>=t:return[270,t-23,2];case 30>=t:return[271,t-27,2];case 34>=t:return[272,t-31,2];case 42>=t:return[273,t-35,3];case 50>=t:return[274,t-43,3];case 58>=t:return[275,t-51,3];case 66>=t:return[276,t-59,3];case 82>=t:return[277,t-67,4];case 98>=t:return[278,t-83,4];case 114>=t:return[279,t-99,4];case 130>=t:return[280,t-115,4];case 162>=t:return[281,t-131,5];case 194>=t:return[282,t-163,5];case 226>=t:return[283,t-195,5];case 257>=t:return[284,t-227,5];case 258===t:return[285,t-258,0];default:e("invalid length: "+t)}}var n,i,r=[];for(n=3;258>=n;n++)i=t(n),r[n]=i[2]<<24|i[1]<<16|i[0];return r}(),S=o?new Uint32Array(m):m;function E(n,i){function r(t,n){var i,r,o,c,s=t.G,a=[],l=0;switch(i=S[t.length],a[l++]=65535&i,a[l++]=i>>16&255,a[l++]=i>>24,!0){case 1===s:r=[0,s-1,0];break;case 2===s:r=[1,s-2,0];break;case 3===s:r=[2,s-3,0];break;case 4===s:r=[3,s-4,0];break;case 6>=s:r=[4,s-5,1];break;case 8>=s:r=[5,s-7,1];break;case 12>=s:r=[6,s-9,2];break;case 16>=s:r=[7,s-13,2];break;case 24>=s:r=[8,s-17,3];break;case 32>=s:r=[9,s-25,3];break;case 48>=s:r=[10,s-33,4];break;case 64>=s:r=[11,s-49,4];break;case 96>=s:r=[12,s-65,5];break;case 128>=s:r=[13,s-97,5];break;case 192>=s:r=[14,s-129,6];break;case 256>=s:r=[15,s-193,6];break;case 384>=s:r=[16,s-257,7];break;case 512>=s:r=[17,s-385,7];break;case 768>=s:r=[18,s-513,8];break;case 1024>=s:r=[19,s-769,8];break;case 1536>=s:r=[20,s-1025,9];break;case 2048>=s:r=[21,s-1537,9];break;case 3072>=s:r=[22,s-2049,10];break;case 4096>=s:r=[23,s-3073,10];break;case 6144>=s:r=[24,s-4097,11];break;case 8192>=s:r=[25,s-6145,11];break;case 12288>=s:r=[26,s-8193,12];break;case 16384>=s:r=[27,s-12289,12];break;case 24576>=s:r=[28,s-16385,13];break;case 32768>=s:r=[29,s-24577,13];break;default:e("invalid distance")}for(i=r,a[l++]=i[0],a[l++]=i[1],a[l++]=i[2],o=0,c=a.length;o<c;++o)C[g++]=a[o];I[a[0]]++,v[a[3]]++,y=t.length+n-1,f=null}var c,s,a,l,u,d,h,f,p,_={},C=o?new Uint16Array(2*i.length):[],g=0,y=0,I=new(o?Uint32Array:Array)(286),v=new(o?Uint32Array:Array)(30),m=n.w;if(!o){for(a=0;285>=a;)I[a++]=0;for(a=0;29>=a;)v[a++]=0}for(I[256]=1,c=0,s=i.length;c<s;++c){for(a=u=0,l=3;a<l&&c+a!==s;++a)u=u<<8|i[c+a];if(_[u]===t&&(_[u]=[]),d=_[u],!(0<y--)){for(;0<d.length&&32768<c-d[0];)d.shift();if(c+3>=s){for(f&&r(f,-1),a=0,l=s-c;a<l;++a)p=i[c+a],C[g++]=p,++I[p];break}0<d.length?(h=R(i,c,d),f?f.length<h.length?(p=i[c-1],C[g++]=p,++I[p],r(h,0)):r(f,-1):h.length<m?f=h:r(h,0)):f?r(f,-1):(p=i[c],C[g++]=p,++I[p])}d.push(c)}return C[g++]=256,I[256]++,n.L=I,n.K=v,o?C.subarray(0,g):C}function R(e,t,n){var i,r,o,c,s,a,l=0,u=e.length;c=0,a=n.length;e:for(;c<a;c++){if(i=n[a-c-1],o=3,3<l){for(s=l;3<s;s--)if(e[i+s-1]!==e[t+s-1])continue e;o=l}for(;258>o&&t+o<u&&e[i+o]===e[t+o];)++o;if(o>l&&(r=i,l=o),258===o)break}return new v(l,t-r)}function b(e,t){var n,i,r,c,s,a=e.length,l=new f(572),u=new(o?Uint8Array:Array)(a);if(!o)for(c=0;c<a;c++)u[c]=0;for(c=0;c<a;++c)0<e[c]&&l.push(c,e[c]);if(n=Array(l.length/2),i=new(o?Uint32Array:Array)(l.length/2),1===n.length)return u[l.pop().index]=1,u;for(c=0,s=l.length/2;c<s;++c)n[c]=l.pop(),i[c]=n[c].value;for(r=function(e,t,n){function i(e){var n=p[e][_[e]];n===t?(i(e+1),i(e+1)):--h[n],++_[e]}var r,c,s,a,l,u=new(o?Uint16Array:Array)(n),d=new(o?Uint8Array:Array)(n),h=new(o?Uint8Array:Array)(t),f=Array(n),p=Array(n),_=Array(n),C=(1<<n)-t,g=1<<n-1;for(u[n-1]=t,c=0;c<n;++c)C<g?d[c]=0:(d[c]=1,C-=g),C<<=1,u[n-2-c]=(u[n-1-c]/2|0)+t;for(u[0]=d[0],f[0]=Array(u[0]),p[0]=Array(u[0]),c=1;c<n;++c)u[c]>2*u[c-1]+d[c]&&(u[c]=2*u[c-1]+d[c]),f[c]=Array(u[c]),p[c]=Array(u[c]);for(r=0;r<t;++r)h[r]=n;for(s=0;s<u[n-1];++s)f[n-1][s]=e[s],p[n-1][s]=s;for(r=0;r<n;++r)_[r]=0;for(1===d[n-1]&&(--h[0],++_[n-1]),c=n-2;0<=c;--c){for(a=r=0,l=_[c+1],s=0;s<u[c];s++)(a=f[c+1][l]+f[c+1][l+1])>e[r]?(f[c][s]=a,p[c][s]=t,l+=2):(f[c][s]=e[r],p[c][s]=r,++r);_[c]=0,1===d[c]&&i(c)}return h}(i,i.length,t),c=0,s=n.length;c<s;++c)u[n[c].index]=r[c];return u}function w(e){var t,n,i,r,c=new(o?Uint16Array:Array)(e.length),s=[],a=[],l=0;for(t=0,n=e.length;t<n;t++)s[e[t]]=1+(0|s[e[t]]);for(t=1,n=16;t<=n;t++)a[t]=l,l+=0|s[t],l<<=1;for(t=0,n=e.length;t<n;t++)for(l=a[e[t]],a[e[t]]+=1,i=c[t]=0,r=e[t];i<r;i++)c[t]=c[t]<<1|1&l,l>>>=1;return c}function x(t,n){switch(this.l=[],this.m=32768,this.e=this.g=this.c=this.q=0,this.input=o?new Uint8Array(t):t,this.s=!1,this.n=O,this.B=!1,!n&&(n={})||(n.index&&(this.c=n.index),n.bufferSize&&(this.m=n.bufferSize),n.bufferType&&(this.n=n.bufferType),n.resize&&(this.B=n.resize)),this.n){case P:this.b=32768,this.a=new(o?Uint8Array:Array)(32768+this.m+258);break;case O:this.b=0,this.a=new(o?Uint8Array:Array)(this.m),this.f=this.J,this.t=this.H,this.o=this.I;break;default:e(Error("invalid inflate mode"))}}var P=0,O=1,D={D:P,C:O};x.prototype.p=function(){for(;!this.s;){var i=X(this,3);switch(1&i&&(this.s=n),i>>>=1){case 0:var r=this.input,c=this.c,s=this.a,a=this.b,l=r.length,u=t,d=s.length,h=t;switch(this.e=this.g=0,c+1>=l&&e(Error("invalid uncompressed block header: LEN")),u=r[c++]|r[c++]<<8,c+1>=l&&e(Error("invalid uncompressed block header: NLEN")),u===~(r[c++]|r[c++]<<8)&&e(Error("invalid uncompressed block header: length verify")),c+u>r.length&&e(Error("input buffer is broken")),this.n){case P:for(;a+u>s.length;){if(u-=h=d-a,o)s.set(r.subarray(c,c+h),a),a+=h,c+=h;else for(;h--;)s[a++]=r[c++];this.b=a,s=this.f(),a=this.b}break;case O:for(;a+u>s.length;)s=this.f({v:2});break;default:e(Error("invalid inflate mode"))}if(o)s.set(r.subarray(c,c+u),a),a+=u,c+=u;else for(;u--;)s[a++]=r[c++];this.c=c,this.b=a,this.a=s;break;case 1:this.o(z,Q);break;case 2:var f,_,C,g,y=X(this,5)+257,I=X(this,5)+1,v=X(this,4)+4,m=new(o?Uint8Array:Array)(T.length),S=t,E=t,R=t,b=t,w=t;for(w=0;w<v;++w)m[T[w]]=X(this,3);if(!o)for(w=v,v=m.length;w<v;++w)m[T[w]]=0;for(f=p(m),S=new(o?Uint8Array:Array)(y+I),w=0,g=y+I;w<g;)switch(E=Y(this,f)){case 16:for(b=3+X(this,2);b--;)S[w++]=R;break;case 17:for(b=3+X(this,3);b--;)S[w++]=0;R=0;break;case 18:for(b=11+X(this,7);b--;)S[w++]=0;R=0;break;default:R=S[w++]=E}_=p(o?S.subarray(0,y):S.slice(0,y)),C=p(o?S.subarray(y):S.slice(y)),this.o(_,C);break;default:e(Error("unknown BTYPE: "+i))}}return this.t()};var M,N,A=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],T=o?new Uint16Array(A):A,k=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],L=o?new Uint16Array(k):k,U=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],V=o?new Uint8Array(U):U,F=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],j=o?new Uint16Array(F):F,B=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],H=o?new Uint8Array(B):B,q=new(o?Uint8Array:Array)(288);for(M=0,N=q.length;M<N;++M)q[M]=143>=M?8:255>=M?9:279>=M?7:8;var W,G,z=p(q),K=new(o?Uint8Array:Array)(30);for(W=0,G=K.length;W<G;++W)K[W]=5;var Q=p(K);function X(t,n){for(var i,r=t.g,o=t.e,c=t.input,s=t.c,a=c.length;o<n;)s>=a&&e(Error("input buffer is broken")),r|=c[s++]<<o,o+=8;return i=r&(1<<n)-1,t.g=r>>>n,t.e=o-n,t.c=s,i}function Y(t,n){for(var i,r,o=t.g,c=t.e,s=t.input,a=t.c,l=s.length,u=n[0],d=n[1];c<d&&!(a>=l);)o|=s[a++]<<c,c+=8;return(r=(i=u[o&(1<<d)-1])>>>16)>c&&e(Error("invalid code length: "+r)),t.g=o>>r,t.e=c-r,t.c=a,65535&i}function J(e){if("string"==typeof e){var t,n,i=e.split("");for(t=0,n=i.length;t<n;t++)i[t]=(255&i[t].charCodeAt(0))>>>0;e=i}for(var r,o=1,c=0,s=e.length,a=0;0<s;){s-=r=1024<s?1024:s;do{c+=o+=e[a++]}while(--r);o%=65521,c%=65521}return(c<<16|o)>>>0}function Z(t,n){var i,r;switch(this.input=t,this.c=0,!n&&(n={})||(n.index&&(this.c=n.index),n.verify&&(this.M=n.verify)),i=t[this.c++],r=t[this.c++],15&i){case $:this.method=$;break;default:e(Error("unsupported compression method"))}0!=((i<<8)+r)%31&&e(Error("invalid fcheck flag:"+((i<<8)+r)%31)),32&r&&e(Error("fdict flag is not supported")),this.A=new x(t,{index:this.c,bufferSize:n.bufferSize,bufferType:n.bufferType,resize:n.resize})}x.prototype.o=function(e,t){var n=this.a,i=this.b;this.u=e;for(var r,o,c,s,a=n.length-258;256!==(r=Y(this,e));)if(256>r)i>=a&&(this.b=i,n=this.f(),i=this.b),n[i++]=r;else for(s=L[o=r-257],0<V[o]&&(s+=X(this,V[o])),r=Y(this,t),c=j[r],0<H[r]&&(c+=X(this,H[r])),i>=a&&(this.b=i,n=this.f(),i=this.b);s--;)n[i]=n[i++-c];for(;8<=this.e;)this.e-=8,this.c--;this.b=i},x.prototype.I=function(e,t){var n=this.a,i=this.b;this.u=e;for(var r,o,c,s,a=n.length;256!==(r=Y(this,e));)if(256>r)i>=a&&(a=(n=this.f()).length),n[i++]=r;else for(s=L[o=r-257],0<V[o]&&(s+=X(this,V[o])),r=Y(this,t),c=j[r],0<H[r]&&(c+=X(this,H[r])),i+s>a&&(a=(n=this.f()).length);s--;)n[i]=n[i++-c];for(;8<=this.e;)this.e-=8,this.c--;this.b=i},x.prototype.f=function(){var e,t,n=new(o?Uint8Array:Array)(this.b-32768),i=this.b-32768,r=this.a;if(o)n.set(r.subarray(32768,n.length));else for(e=0,t=n.length;e<t;++e)n[e]=r[e+32768];if(this.l.push(n),this.q+=n.length,o)r.set(r.subarray(i,i+32768));else for(e=0;32768>e;++e)r[e]=r[i+e];return this.b=32768,r},x.prototype.J=function(e){var t,n,i,r=this.input.length/this.c+1|0,c=this.input,s=this.a;return e&&("number"==typeof e.v&&(r=e.v),"number"==typeof e.F&&(r+=e.F)),2>r?n=(i=(c.length-this.c)/this.u[2]/2*258|0)<s.length?s.length+i:s.length<<1:n=s.length*r,o?(t=new Uint8Array(n)).set(s):t=s,this.a=t},x.prototype.t=function(){var e,t,n,i,r,c=0,s=this.a,a=this.l,l=new(o?Uint8Array:Array)(this.q+(this.b-32768));if(0===a.length)return o?this.a.subarray(32768,this.b):this.a.slice(32768,this.b);for(t=0,n=a.length;t<n;++t)for(i=0,r=(e=a[t]).length;i<r;++i)l[c++]=e[i];for(t=32768,n=this.b;t<n;++t)l[c++]=s[t];return this.l=[],this.buffer=l},x.prototype.H=function(){var e,t=this.b;return o?this.B?(e=new Uint8Array(t)).set(this.a.subarray(0,t)):e=this.a.subarray(0,t):(this.a.length>t&&(this.a.length=t),e=this.a),this.buffer=e},Z.prototype.p=function(){var t,n=this.input;return t=this.A.p(),this.c=this.A.c,this.M&&((n[this.c++]<<24|n[this.c++]<<16|n[this.c++]<<8|n[this.c++])>>>0!==J(t)&&e(Error("invalid adler-32 checksum"))),t};var $=8;function ee(e,t){this.input=e,this.a=new(o?Uint8Array:Array)(32768),this.h=te.k;var n,i={};for(n in!t&&(t={})||"number"!=typeof t.compressionType||(this.h=t.compressionType),t)i[n]=t[n];i.outputBuffer=this.a,this.z=new _(this.input,i)}var te=y;function ne(e,t){var n,i,o,c;if(Object.keys)n=Object.keys(t);else for(i in n=[],o=0,t)n[o++]=i;for(o=0,c=n.length;o<c;++o)r(e+"."+(i=n[o]),t[i])}ee.prototype.j=function(){var t,n,i,r,c,s,a,l=0;switch(a=this.a,t=$){case $:n=Math.LOG2E*Math.log(32768)-8;break;default:e(Error("invalid compression method"))}switch(i=n<<4|t,a[l++]=i,t){case $:switch(this.h){case te.NONE:c=0;break;case te.r:c=1;break;case te.k:c=2;break;default:e(Error("unsupported compression type"))}break;default:e(Error("invalid compression method"))}return r=c<<6|0,a[l++]=r|31-(256*i+r)%31,s=J(this.input),this.z.b=l,l=(a=this.z.j()).length,o&&((a=new Uint8Array(a.buffer)).length<=l+4&&(this.a=new Uint8Array(a.length+4),this.a.set(a),a=this.a),a=a.subarray(0,l+4)),a[l++]=s>>24&255,a[l++]=s>>16&255,a[l++]=s>>8&255,a[l++]=255&s,a},r("Zlib.Inflate",Z),r("Zlib.Inflate.prototype.decompress",Z.prototype.p),ne("Zlib.Inflate.BufferType",{ADAPTIVE:D.C,BLOCK:D.D}),r("Zlib.Deflate",ee),r("Zlib.Deflate.compress",(function(e,t){return new ee(e,t).j()})),r("Zlib.Deflate.prototype.compress",ee.prototype.j),ne("Zlib.Deflate.CompressionType",{NONE:te.NONE,FIXED:te.r,DYNAMIC:te.k})}).call(c);var s=function(){function e(){i(this,e),this.eventObject={}}return o(e,[{key:"addEventListener",value:function(e,t){return Array.isArray(this.eventObject[e])||(this.eventObject[e]=[]),this.eventObject[e].push(t),this}},{key:"emitEventListener",value:function(e){var t=this.eventObject[e];if(t)for(var n=Array.prototype.slice.call(arguments,1),i=0;i<t.length;i++)try{t[i].apply(this,n)}catch(e){console.log(e)}return this}},{key:"removeEventListener",value:function(e,t){var n=this.eventObject[e];if(n)for(var i=n.length-1;i>=0;i--)n[i]==t&&(n[i]=null,n.splice(i,1));return this}},{key:"removeAllEvent",value:function(e){var t=this.eventObject[e];if(t)for(var n=t.length-1;n>=0;n--)t[n]=null;return this.eventObject[e]=null,this}}]),e}(),a=function(e){return JSON.parse(JSON.stringify(e))},l=["CRVideo_MicEnergyUpdate"],u=function(){function e(t){i(this,e),this.name=t,this.callback=function(){-1===l.indexOf(t)&&console.crlog("[CALLSVR] received undefined callback: "+t)}}return o(e,[{key:"trigger",value:function(){try{this.callback.apply(this,Array.prototype.slice.call(arguments,0))}catch(e){console.error(e)}}}]),e}();e.exports={base64:new function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";this.encode=function(n){var i,r,o,c,s,a,l,u="",d=0;for(n=t(n);d<n.length;)c=(i=n.charCodeAt(d++))>>2,s=(3&i)<<4|(r=n.charCodeAt(d++))>>4,a=(15&r)<<2|(o=n.charCodeAt(d++))>>6,l=63&o,isNaN(r)?a=l=64:isNaN(o)&&(l=64),u=u+e.charAt(c)+e.charAt(s)+e.charAt(a)+e.charAt(l);return u},this.decode=function(t){var i,r,o,c,s,a,l="",u=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<t.length;)i=e.indexOf(t.charAt(u++))<<2|(c=e.indexOf(t.charAt(u++)))>>4,r=(15&c)<<4|(s=e.indexOf(t.charAt(u++)))>>2,o=(3&s)<<6|(a=e.indexOf(t.charAt(u++))),l+=String.fromCharCode(i),64!=s&&(l+=String.fromCharCode(r)),64!=a&&(l+=String.fromCharCode(o));return l=n(l)};var t=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t},n=function(e){for(var t="",n=0,i=0,r=0;n<e.length;)(i=e.charCodeAt(n))<128?(t+=String.fromCharCode(i),n++):i>191&&i<224?(r=e.charCodeAt(n+1),t+=String.fromCharCode((31&i)<<6|63&r),n+=2):(r=e.charCodeAt(n+1),c3=e.charCodeAt(n+2),t+=String.fromCharCode((15&i)<<12|(63&r)<<6|63&c3),n+=3);return t}},Zlib:c.Zlib,charToUint8Arr:function(e){for(var t,n=[],i=0;i<e.length;i++)if((t=e.charCodeAt(i))<128)n.push(t);else if(t<2048)n.push(192|t>>6&31),n.push(128|t>>0&63);else{if(!(t<65536))throw"不是UCS-2字符集";n.push(224|t>>12&15),n.push(128|t>>6&63),n.push(128|t>>0&63)}return new Uint8Array(n)},Uint8ArrToChar:function(e){var t,n,i,r,o,c;for(t="",i=e.length,n=0;n<i;)switch((r=e[n++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=String.fromCharCode(r);break;case 12:case 13:o=e[n++],t+=String.fromCharCode((31&r)<<6|63&o);break;case 14:o=e[n++],c=e[n++],t+=String.fromCharCode((15&r)<<12|(63&o)<<6|(63&c)<<0)}return t},clone:a,parseMemberInfo:function(e){var t=e.extProperty;e.camList=t.get(Conference.MINFO_OPENEDCAMIDS)||"",void 0!==t.get(Conference.MINFO_ALLCAMS)&&(e.allCams=t.get(Conference.MINFO_ALLCAMS).split("\n").slice(0,-1)),e.subscribeCams=[],e.userId=t.get(Conference.CLIETN_PRIV_DAT),e.client_platform=t.get(Conference.CLINET_PLATFORM),e.sdk_ver=t.get(Conference.CLINET_SDK_VER),e.slice_ver=t.get(Conference.SLICE_VER)},splitCutArr:function(e,t){for(var n=0,i=[];n<e.length;)i.push(e.slice(n,n+=t));return i},PrefixInteger:function(e,t){return(Array(t).join(0)+e).slice(-t)},SDK_event:new s,parseUrl:function(e){var t={protocol:/^(.+)\:\/\//,host:/\:\/\/(.+?)[\?\#\s\/]/,path:/\w(\/.*?)[\?\#\s]/,query:/\?(.+?)[\#\/\s]/,hash:/\#(\w+)\s$/};for(var n in e+=" ",t){var i=t[n];t[n]="query"===n?i.exec(e)&&i.exec(e)[1].split("&").reduce((function(e,t){var n=t.split("=");return e[n[0]]=n[1],e}),{}):i.exec(e)&&i.exec(e)[1]}return t},privacyAttrHide:function e(t){var i=["crPswd","UserPswd","Token","MeetPswd","HostPwd","sessionID","userPhoneNum","telephone","mobile","msg","msgText","password","openId","usrExtDat"],r=a(t);for(var o in r){var c=r[o];"string"==typeof c||"number"==typeof c||"boolean"==typeof c?i.indexOf(o)>-1&&(r[o]="****"):"object"===n(c)&&(r[o]=e(c))}return r},toString:function(e){if("string"==typeof e||"number"==typeof e||"boolean"==typeof e||void 0===e||"null"==typeof e)return String(e);if("object"===n(e))try{return JSON.stringify(e)}catch(t){return console.crlog("[Error] print error: ".concat(t)),e}return e},NewCallBack:u,isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},isObject:function(e){return"[object Object]"===Object.prototype.toString.call(e)},debounce:function(e,t){var n;return function(){var i=this;n||(n=!0,setTimeout((function(){n=!1,e.apply(i,void 0)}),t))}}}},function(e,t,n){(function(e,i,r){var o;function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==l(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=!1;try{u=!!wx}catch(e){u=!1}var d,h=n(3),f=n(8),p=n(4),_=n(5),C=n(1),g=n(18);function y(){this.socketList={}}y.prototype={execute:function(e){var t=this.socketList[e];if(t){t.status=!0;for(var n=0;n<t.list.length;n++)t.list.shift()()}else this.socketList[e]={status:!0}},add:function(e,t){this.socketList[e]||(this.socketList[e]={status:!1,list:[]}),this.socketList[e].list.push(t)},del:function(e){this.socketList[e]=null,delete this.socketList[e]},isConnect:function(e){return this.socketList[e]&&this.socketList[e].status}};var I,v=new y;!function(){u&&(window=this),d=u?window:this;var t="undefined"!=typeof window?window:self;t.Ice=t.Ice||{},Ice.Slice=Ice.Slice||{},t.IceMX=t.IceMX||{},t.IceSSL=t.IceSSL||{};var n,i,r,o,c,s,a,h,f,p,_,C,g,y,I,m,S,E,R,b,w,x,P,O,D,M,N,A,T,k,L,U,V,F,j,B=Ice.Slice;!function(){var e="undefined"!=typeof window?window:self,t={module:function(t){var n=e[t];return void 0===n&&(n={},e[t]=n),n},require:function(t){return e},type:function(t){if(void 0!==t){for(var n=t.split("."),i=e,r=0,o=n.length;r<o;++r)if(void 0===(i=i[n[r]]))return;return i}}};Ice.__require=function(){return e},Ice.Slice=Ice.Slice||{},Ice.__M=t}(),function(){var e=Ice.__M,t=Ice.Slice,n=function e(t,n){return t===n||null!=t&&null!=n&&(t.prototype===n.prototype&&("function"==typeof t.equals?t.equals(n):t instanceof Array&&i.equals(t,n,e)))},i={clone:function(e){return void 0===e?e:null===e?[]:e.slice()},equals:function(e,t,i){if(e.length!=t.length)return!1;var r,o,c=i||n;for(r=0,o=e.length;r<o;++r)if(!c.call(c,e[r],t[r]))return!1;return!0},shuffle:function(e){for(var t=e.length;t>1;--t){var n=e[t-1],i=Math.floor(Math.random()*t);e[t-1]=e[i],e[i]=n}},indexOf:function(e,t,n){if(null==n)return e.indexOf(t);for(var i=0;i<e.length;++i)if(n.call(n,e[i],t))return i;return-1},filter:function(e,t,n){n=void 0===n?t:n;for(var i=[],r=0;r<e.length;++r)t.call(n,e[r],r,e)&&i.push(e[r]);return i}};i.eq=n,t.defineSequence=function(t,n,i,r,o){var c=null;Object.defineProperty(t,n,{get:function(){return null===c&&(c=Ice.StreamHelpers.generateSeqHelper(e.type(i),r,e.type(o))),c}})},Ice.ArrayUtil=i}(),Ice.Class=function(){var e,t,n;1==arguments.length?t=arguments[0]:2==arguments.length&&(e=arguments[0],t=arguments[1]),void 0!==t&&(n=t.__init__)&&delete t.__init__;var i=n||function(){};if(void 0!==e&&(i.prototype=new e,i.prototype.constructor=i),void 0!==t)for(var r in t)i.prototype[r]=t[r];return i},function(){var e=Ice.Class,t=function(e,n,i,r){if(r+="  ",null===n)return"\n"+r+e+": (null)";if(void 0===n)return"\n"+r+e+": (undefined)";if("stack"==e||"function"==typeof n)return"";if("object"!=l(n))return"\n"+r+e+': "'+n+'"';if(-1!=i.indexOf(n))return"\n"+r+e+": (recursive)";i.push(n);var o="\n"+r+e+":";for(var c in n)0!==e.indexOf("_")&&"function"!=typeof n[c]&&(o+=r+t(c,n[c],i,r));return o},n=e(Error,{__init__:function(e){e&&(this.ice_cause=e)},ice_name:function(){return"Ice::Exception"},toString:function(){if(this._inToStringAlready)return"";this._inToStringAlready=!0;var e=this.ice_name();for(var n in this)"_inToStringAlready"!=n&&(e+=t(n,this[n],[],""));return!0===Ice.__printStackTraces&&this.stack&&(e+="\n"+this.stack),this._inToStringAlready=!1,e}});n.captureStackTrace=function(e){var t=(new Error).stack;void 0!==t&&Object.defineProperty(e,"stack",{get:function(){return t}})},Ice.Exception=n;var i=e(n,{__init__:function(e){n.call(this,e),n.captureStackTrace(this)},ice_name:function(){return"Ice::LocalException"}});Ice.LocalException=i;var r=Ice.Slice;r.defineLocalException=function(e,t,n){var i=e;return i.prototype=new t,i.prototype.constructor=i,i.prototype.ice_name=function(){return n},i};var o=e(n,{__init__:function(e){n.call(this,e),n.captureStackTrace(this)},ice_name:function(){return"Ice::UserException"},__write:function(e){e.startWriteException(null),c(this,e,this.__mostDerivedType()),e.endWriteException()},__read:function(e){e.startReadException(),s(this,e,this.__mostDerivedType()),e.endReadException(!1)},__usesClasses:function(){return!1}});Ice.UserException=o;var c=function e(t,n,i){void 0!==i&&i!==o&&(n.startWriteSlice(i.__id,-1,i.__parent===o),i.prototype.__writeMemberImpl&&i.prototype.__writeMemberImpl.call(t,n),n.endWriteSlice(),e(t,n,i.__parent))},s=function e(t,n,i){void 0!==i&&i!==o&&(n.startReadSlice(),i.prototype.__readMemberImpl&&i.prototype.__readMemberImpl.call(t,n),n.endReadSlice(),e(t,n,i.__parent))},a=function(e){e.startWriteException(this.__slicedData),c(this,e,this.__mostDerivedType()),e.endWriteException()},u=function(e){e.startReadException(),s(this,e,this.__mostDerivedType()),this.__slicedData=e.endReadException(!0)};r.defineUserException=function(e,t,n,i,r,o,c){var s=e;return s.__parent=t,s.prototype=new t,s.__id="::"+n,s.prototype.ice_name=function(){return n},s.prototype.constructor=s,s.prototype.__mostDerivedType=function(){return s},o&&(s.prototype.__write=a,s.prototype.__read=u),s.prototype.__writeMemberImpl=i,s.prototype.__readMemberImpl=r,c&&(s.prototype.__usesClasses=function(){return!0}),s}}(),Ice.AsyncStatus={Queued:0,Sent:1},(n=Ice.Class({__init__:function(e,t){if(t<0||t>n.MAX_UINT32)throw new RangeError("Low word must be between 0 and 0xFFFFFFFF");if(e<0||e>n.MAX_UINT32)throw new RangeError("High word must be between 0 and 0xFFFFFFFF");this.high=e,this.low=t},hashCode:function(){return this.low},equals:function(e){return this===e||e instanceof n&&this.high===e.high&&this.low===e.low},toString:function(){return this.high+":"+this.low},toNumber:function(){if(0!=(this.high&n.SIGN_MASK)){if(this.high===n.MAX_UINT32&&0!==this.low)return-(1+~this.low);var e=1+~this.high;return e>n.HIGH_MAX?Number.NEGATIVE_INFINITY:e*n.HIGH_MASK*-1+this.low}return this.high>n.HIGH_MAX?Number.POSITIVE_INFINITY:this.high*n.HIGH_MASK+this.low}})).MAX_UINT32=4294967295,n.SIGN_MASK=2147483648,n.HIGH_MASK=4294967296,n.HIGH_MAX=2097151,Ice.Long=n,Ice.AssertionFailedException=Ice.Class(Error,{__init__:function(e){Error.call(this),Ice.Exception.captureStackTrace(this),this.message=e}}),Ice.Debug={assert:function(e,t){if(!e)throw Cr.Utils.log(void 0===t?"assertion failed":t),Cr.Utils.log(Error().stack),new Ice.AssertionFailedException(void 0===t?"assertion failed":t)}},Ice.DispatchStatus={DispatchOK:0,DispatchUserException:1,DispatchAsync:2},function(){var e=Ice.Class({__init__:function(e,t){this._name=e,this._value=t},equals:function(e){return this===e||e instanceof Object.getPrototypeOf(this).constructor&&this._value==e._value},hashCode:function(){return this._value},toString:function(){return this._name}});Ice.EnumBase=e;var t=e.prototype;try{Object.defineProperty(t,"name",{enumerable:!0,get:function(){return this._name}}),Object.defineProperty(t,"value",{enumerable:!0,get:function(){return this._value}})}catch(e){}var n=Ice.Class({__init__:function(e){this._enumType=e},write:function(e,t){this._enumType.__write(e,t)},writeOpt:function(e,t,n){this._enumType.__writeOpt(e,t,n)},read:function(e){return this._enumType.__read(e)},readOpt:function(e,t){return this._enumType.__readOpt(e,t)}});Ice.EnumHelper=n,Ice.Slice.defineEnum=function(t){var i=function(t,n){e.call(this,t,n)};(i.prototype=new e).constructor=i;var r=[],o=0,c=null;for(var s in t){var a=t[s][0],l=t[s][1],u=new i(a,l);r[l]=u,c||(c=u),Object.defineProperty(i,a,{enumerable:!0,value:u}),l>o&&(o=l)}return Object.defineProperty(i,"minWireSize",{get:function(){return 1}}),i.__write=function(e,t){t?e.writeEnum(t):e.writeEnum(c)},i.__read=function(e){return e.readEnum(i)},i.__writeOpt=function(e,t,n){void 0!==n&&e.writeOpt(t,Ice.OptionalFormat.Size)&&i.__write(e,n)},i.__readOpt=function(e,t){return e.readOptEnum(t,i)},i.__helper=new n(i),Object.defineProperty(i,"valueOf",{value:function(e){return void 0===e?i:r[e]}}),Object.defineProperty(i,"maxValue",{value:o}),Object.defineProperty(i.prototype,"maxValue",{value:o}),i}}(),Ice.generateUUID=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:7&n|8).toString(16)}))},Ice.FormatType=Ice.Slice.defineEnum([["DefaultFormat",0],["CompactFormat",1],["SlicedFormat",2]]),function(){var e=Ice.Debug;function t(e,t,n){switch(e){case 92:t.push("\\\\");break;case 39:t.push("\\'");break;case 34:t.push('\\"');break;case 8:t.push("\\b");break;case 12:t.push("\\f");break;case 10:t.push("\\n");break;case 13:t.push("\\r");break;case 9:t.push("\\t");break;default:if(e>=32&&e<=126){var i=String.fromCharCode(e);null!==n&&-1!==n.indexOf(i)?(t.push("\\"),t.push(i)):t.push(i)}else{t.push("\\");for(var r=e.toString(8),o=r.length;o<3;o++)t.push("0");t.push(r)}}}function n(e,t){var n,i=e.charCodeAt(t);if(!(i>=32&&i<=126))throw n=t>0?"character after `"+e.substring(0,t)+"'":"first character",n+=" is not a printable ASCII character (ordinal "+i+")",new Error(n);return i}function i(t,i,r,o){if(e.assert(i>=0),e.assert(r<=t.length),i>=r)throw new Error("EOF while decoding string");var c;if("\\"!=t.charAt(i))c=n(t,i++);else{if(i+1==r)throw new Error("trailing backslash");switch(t.charAt(++i)){case"\\":case"'":case'"':c=t.charCodeAt(i++);break;case"b":++i,c="\b".charCodeAt(0);break;case"f":++i,c="\f".charCodeAt(0);break;case"n":++i,c="\n".charCodeAt(0);break;case"r":++i,c="\r".charCodeAt(0);break;case"t":++i,c="\t".charCodeAt(0);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":for(var s=0,a=0;a<3&&i<r;++a){var l=t.charAt(i++);if(-1=="01234567".indexOf(l)){--i;break}s=8*s+parseInt(l)}if(s>255){var u="octal value \\"+s.toString(8)+" ("+s+") is out of range";throw new Error(u)}c=s;break;default:c=n(t,i++)}}return o.value=i,c}Ice.StringUtil={findFirstOf:function(e,t,n){n=void 0===n?0:n;for(var i=e.length,r=n;r<i;r++){var o=e.charAt(r);if(-1!=t.indexOf(o))return r}return-1},findFirstNotOf:function(e,t,n){n=void 0===n?0:n;for(var i=e.length,r=n;r<i;r++){var o=e.charAt(r);if(-1==t.indexOf(o))return r}return-1},escapeString:function(e,n){var i,r;if(null!==(n=void 0===n?null:n))for(i=0,r=n.length;i<r;++i)if(n.charCodeAt(i)<32||n.charCodeAt(i)>126)throw new Error("special characters must be in ASCII range 32-126");var o,c=[];for(i=0,r=e.length;i<r;++i)(o=e.charCodeAt(i))<128?t(o,c,n):o>127&&o<2048?(t(o>>6|192,c,n),t(63&o|128,c,n)):(t(o>>12|224,c,n),t(o>>6&63|128,c,n),t(63&o|128,c,n));return c.join("")},unescapeString:function(t,n,r){n=void 0===n?0:n,r=void 0===r?t.length:r,e.assert(n>=0&&n<=r&&r<=t.length);var o=[];return function(e,t,n,r){var o,c,s,a={value:0};for(;t<n;)o=i(e,t,n,a),t=a.value,o<128?r.push(String.fromCharCode(o)):o>191&&o<224?(c=i(e,t,n,a),t=a.value,r.push(String.fromCharCode((31&o)<<6|63&c))):(c=i(e,t,n,a),s=i(e,t=a.value,n,a),t=a.value,r.push(String.fromCharCode((15&o)<<12|(63&c)<<6|63&s)))}(t,n,r,o),o.join("")},splitString:function(e,t){for(var n=[],i="",r=0,o=null;r<e.length;)if(null!==o||'"'!==e.charAt(r)&&"'"!==e.charAt(r)){if(null===o&&"\\"===e.charAt(r)&&r+1<e.length&&('"'===e.charAt(r+1)||"'"===e.charAt(r+1)))++r;else if(null!==o&&"\\"===e.charAt(r)&&r+1<e.length&&e.charAt(r+1)===o)++r;else{if(null!==o&&e.charAt(r)===o){++r,o=null;continue}if(-1!==t.indexOf(e.charAt(r))&&null===o){++r,i.length>0&&(n.push(i),i="");continue}}r<e.length&&(i+=e.charAt(r++))}else o=e.charAt(r++);return i.length>0&&n.push(i),null!==o?null:n},checkQuote:function(e,t){t=void 0===t?0:t;var n=e.charAt(t);if('"'==n||"'"==n){t++;for(var i,r=e.length;t<r&&-1!=(i=e.indexOf(n,t));){if("\\"!=e.charAt(i-1))return i;t=i+1}return-1}return 0},hashCode:function(e){for(var t=0,n=e.length,i=0;i<n;i++)t=31*t+e.charCodeAt(i);return t},toInt:function(e){var t=parseInt(e,10);if(isNaN(t))throw new Error("conversion of `"+e+"' to int failed");return t}}}(),function(){var e=Ice.__M,t=Ice.StringUtil;function n(e,t,n,i,r){for(var o=e._table[r];null!==o;o=o._nextInBucket)if(o._hash===i&&e.keysEqual(t,o._key))return void(o._value=n);e.add(t,n,i,r)}function i(e,t){return e===t}var r=Ice.Class({__init__:function(e,t){var n,o,c,s,a;if("function"==typeof e?(o=e,c=t):e instanceof r&&(o=(n=e).keyComparator,c=n.valueComparator),this._size=0,this._head=null,this._initialCapacity=32,this._loadFactor=.75,this._table=[],this._keyComparator="function"==typeof o?o:i,this._valueComparator="function"==typeof c?c:i,n instanceof r&&n._size>0){for(this._threshold=n._threshold,a=n._table.length,this._table.length=a,s=0;s<a;s++)this._table[s]=null;this.merge(n)}else for(this._threshold=this._initialCapacity*this._loadFactor,s=0;s<this._initialCapacity;s++)this._table[s]=null},set:function(e,t){var i=this.computeHash(e),r=this.hashIndex(i.hash,this._table.length);return n(this,i.key,t,i.hash,r)},get:function(e){var t=this.computeHash(e),n=this.findEntry(t.key,t.hash);return void 0!==n?n._value:void 0},has:function(e){var t=this.computeHash(e);return void 0!==this.findEntry(t.key,t.hash)},del:function(e){for(var t=this.computeHash(e),n=this.hashIndex(t.hash,this._table.length),i=null,r=this._table[n];null!==r;r=r._nextInBucket){if(r._hash===t.hash&&this.keysEqual(t.key,r._key))return this._size--,null!==i?i._nextInBucket=r._nextInBucket:this._table[n]=r._nextInBucket,null!==r._prev&&(r._prev._next=r._next),null!==r._next&&(r._next._prev=r._prev),this._head===r&&(this._head=r._next),r._value;i=r}},clear:function(){for(var e=0;e<this._table.length;++e)this._table[e]=null;this._head=null,this._size=0},forEach:function(e,t){t=void 0===t?e:t;for(var n=this._head;null!==n;n=n._next)e.call(t,n._key,n._value)},keys:function(){for(var e=[],t=0,n=this._head;null!==n;n=n._next)e[t++]=n._key;return e},values:function(){for(var e=[],t=0,n=this._head;null!==n;n=n._next)e[t++]=n._value;return e},equals:function(e,t){if(null===e||!(e instanceof r)||this._size!==e._size)return!1;for(var n=this,i=t||function(e,t){return n._valueComparator.call(n._valueComparator,e,t)},o=this._head;null!==o;o=o._next){var c=e.findEntry(o._key,o._hash);if(void 0===c||!i(o._value,c._value))return!1}return!0},clone:function(){return new r(this)},merge:function(e){for(var t=e._head;null!==t;t=t._next)n(this,t._key,t._value,t._hash,this.hashIndex(t._hash,this._table.length))},add:function(e,t,n,i){var r=Object.create(null,{key:{enumerable:!0,get:function(){return this._key}},value:{enumerable:!0,get:function(){return this._value}},next:{enumerable:!0,get:function(){return this._next}},_key:{enumerable:!1,writable:!0,value:e},_value:{enumerable:!1,writable:!0,value:t},_prev:{enumerable:!1,writable:!0,value:null},_next:{enumerable:!1,writable:!0,value:null},_nextInBucket:{enumerable:!1,writable:!0,value:null},_hash:{enumerable:!1,writable:!0,value:n}});r._nextInBucket=this._table[i],this._table[i]=r,r._next=this._head,null!==this._head&&(this._head._prev=r),this._head=r,this._size++,this._size>=this._threshold&&this.resize(2*this._table.length)},resize:function(e){this._table;for(var t=[],n=0;n<e;n++)t[n]=null;for(var i=this._head;null!==i;i=i._next){var r=this.hashIndex(i._hash,e);i._nextInBucket=t[r],t[r]=i}this._table=t,this._threshold=e*this._loadFactor},findEntry:function(e,t){for(var n=this.hashIndex(t,this._table.length),i=this._table[n];null!==i;i=i._nextInBucket)if(i._hash===t&&this.keysEqual(e,i._key))return i},hashIndex:function(e,t){return e&t-1},computeHash:function(e){var n;if(0===e||-0===e)return{key:0,hash:0};if(null===e)return null===r._null&&(n=Ice.generateUUID(),r._null={key:n,hash:t.hashCode(n)}),r._null;if(void 0===e)throw new Error("cannot compute hash for undefined value");if("function"==typeof e.hashCode)return{key:e,hash:e.hashCode()};var i=l(e);if("string"===i||e instanceof String)return{key:e,hash:t.hashCode(e)};if("number"===i||e instanceof Number)return isNaN(e)?(null===r._nan&&(n=Ice.generateUUID(),r._nan={key:n,hash:t.hashCode(n)}),r._nan):{key:e,hash:e.toFixed(0)};if("boolean"===i||e instanceof Boolean)return{key:e,hash:e?1:0};throw new Error("cannot compute hash for value of type "+i)},keysEqual:function(e,t){return this._keyComparator.call(this._keyComparator,e,t)}});Ice.HashMap=r,r.compareEquals=function(e,t){return e===t||null!=e&&null!=t&&e.equals(t)},r.compareIdentity=i,r._null=null,r._nan=null;var o=r.prototype;Object.defineProperty(o,"size",{get:function(){return this._size}}),Object.defineProperty(o,"entries",{get:function(){return this._head}}),Ice.Slice.defineDictionary=function(t,n,i,o,c,s,a,l,u){t[n]=void 0!==a||void 0!==u?function(e){return new r(e||a,u)}:r;var d=null;Object.defineProperty(t,i,{get:function(){return null===d&&(d=Ice.StreamHelpers.generateDictHelper(e.type(o),e.type(c),s,e.type(l),t[n])),d}})}}(),Ice.OptionalFormat=Ice.Slice.defineEnum([["F1",0],["F2",1],["F4",2],["F8",3],["Size",4],["VSize",5],["FSize",6],["Class",7]]),function(){var e=Ice.Class,t=Object.defineProperty,n=(Ice.HashMap,Ice.OptionalFormat),i={FSizeOptHelper:function(){this.writeOpt=function(e,t,i){if(void 0!==i&&e.writeOpt(t,n.FSize)){var r=e.startSize();this.write(e,i),e.endSize(r)}},this.readOpt=function(e,t){var i;return e.readOpt(t,n.FSize)&&(e.skip(4),i=this.read(e)),i}},VSizeOptHelper:function(){this.writeOpt=function(e,t,i){void 0!==i&&e.writeOpt(t,n.VSize)&&(e.writeSize(this.minWireSize),this.write(e,i))},this.readOpt=function(e,t){var i;return e.readOpt(t,n.VSize)&&(e.skipSize(),i=this.read(e)),i}},VSizeContainerOptHelper:function(e){this.writeOpt=function(t,i,r){if(void 0!==r&&t.writeOpt(i,n.VSize)){var o=this.size(r);t.writeSize(o>254?o*e+5:o*e+1),this.write(t,r)}},this.readOpt=function(e,t){var i;return e.readOpt(t,n.VSize)&&(e.skipSize(),i=this.read(e)),i}},VSizeContainer1OptHelper:function(){this.writeOpt=function(e,t,i){void 0!==i&&e.writeOpt(t,n.VSize)&&this.write(e,i)},this.readOpt=function(e,t){var i;return e.readOpt(t,n.VSize)&&(i=this.read(e)),i}}},r=e({write:function(e,t){if(null===t||0===t.length)e.writeSize(0);else{var n=this.elementHelper;e.writeSize(t.length);for(var i=0;i<t.length;++i)n.write(e,t[i])}},read:function(e){var t=this.elementHelper,n=e.readAndCheckSeqSize(t.minWireSize),i=[];i.length=n;for(var r=0;r<n;++r)i[r]=t.read(e);return i},size:function(e){return null==e?0:e.length}});t(r.prototype,"minWireSize",{get:function(){return 1}});var o=new r;o.write=function(e,t){return e.writeByteSeq(t)},o.read=function(e){return e.readByteSeq()},t(o,"elementHelper",{get:function(){return Ice.ByteHelper}}),i.VSizeContainer1OptHelper.call(o);var c=function(e){var t=e.readAndCheckSeqSize(1),n=[];n.length=t;for(var i=this.elementType,r=function(t){e.readObject((function(e){n[t]=e}),i)},o=0;o<t;++o)r(o);return n};i.generateSeqHelper=function(e,n,s){if(e===Ice.ByteHelper)return o;var a=new r;return n?1===e.minWireSize?i.VSizeContainer1OptHelper.call(a):i.VSizeContainerOptHelper.call(a,e.minWireSize):i.FSizeOptHelper.call(a),t(a,"elementHelper",{get:function(){return e}}),e==Ice.ObjectHelper&&(t(a,"elementType",{get:function(){return s}}),a.read=c),a};var s=e({write:function(e,t){if(null==t||0===t.size)e.writeSize(0);else{var n=this.keyHelper,i=this.valueHelper;e.writeSize(t.size);for(var r=t.entries;null!==r;r=r.next)n.write(e,r.key),i.write(e,r.value)}},read:function(e){for(var t=new(0,this.mapType),n=e.readSize(),i=this.keyHelper,r=this.valueHelper,o=0;o<n;++o)t.set(i.read(e),r.read(e));return t},size:function(e){return null==e?0:e.size}});Object.defineProperty(s.prototype,"minWireSize",{get:function(){return 1}});var a=function(e){for(var t=e.readSize(),n=new(0,this.mapType),i=this.valueType,r=function(t){e.readObject((function(e){n.set(t,e)}),i)},o=this.keyHelper,c=0;c<t;++c)r(o.read(e));return n};i.generateDictHelper=function(e,n,r,o,c){var l=new s;return r?i.VSizeContainerOptHelper.call(l,e.minWireSize+n.minWireSize):i.FSizeOptHelper.call(l),t(l,"mapType",{get:function(){return c}}),t(l,"keyHelper",{get:function(){return e}}),t(l,"valueHelper",{get:function(){return n}}),n==Ice.ObjectHelper&&(t(l,"valueType",{get:function(){return o}}),l.read=a),l},Ice.StreamHelpers=i}(),function(){function t(){var t={setTimeout:function(){setTimeout.apply(null,arguments)},clearTimeout:function(){clearTimeout.apply(null,arguments)},setInterval:function(){setInterval.apply(null,arguments)},clearInterval:function(){clearInterval.apply(null,arguments)}};return t.setImmediate="function"==typeof e?function(){e.apply(null,arguments)}:function(){setTimeout.apply(null,arguments)},t}var n,i=Ice.HashMap,r=Number.MAX_SAFE_INTEGER||9007199254740991,o=new i,c={},s=0,a=function(){return s==r&&(s=0),s++};c.setTimeout=function(e,t){var i=a();return o.set(i,e),n.postMessage({type:0,id:i,ms:t}),i},c.clearTimeout=function(e){o.del(e),n.postMessage({type:3,id:e})},c.setInterval=function(e,t){var i=a();return o.set(i,e),n.postMessage({type:1,id:i,ms:t}),i},c.clearInterval=function(e){o.del(e),n.postMessage({type:4,id:e})},c.setImmediate=function(e){var t=a();return o.set(t,e),n.postMessage({type:2,id:t}),t},c.onmessage=function(e){var t;void 0!==(t=1===e.data.type?o.get(e.data.id):o.del(e.data.id))&&t.call()};var l;if(void 0!==n||u)u&&(Ice.Timer=t());else try{l=URL.createObjectURL(new Blob(["("+function(){var e={};self.onmessage=function(t){0==t.data.type?e[t.data.id]=setTimeout((function(){self.postMessage(t.data)}),t.data.ms):1==t.data.type?e[t.data.id]=setInterval((function(){self.postMessage(t.data)}),t.data.ms):2==t.data.type?self.postMessage(t.data):3==t.data.type?(clearTimeout(e[t.data.id]),delete e[t.data.id]):4==t.data.type&&(clearInterval(e[t.data.id]),delete e[t.data.id])}}.toString()+"());"],{type:"text/javascript"})),(n=new Worker(l)).onmessage=c.onmessage,Ice.Timer=c}catch(e){URL.revokeObjectURL(l),Ice.Timer=t()}}(),function(){var e=Ice.Class,t=0,n=e({__init__:function(){this.__address=t++},hashCode:function(){return this.__address},ice_isA:function(e,t){return this.__mostDerivedType().__ids.indexOf(e)>=0},ice_ping:function(e){},ice_ids:function(e){return this.__mostDerivedType().__ids},ice_id:function(e){return this.__mostDerivedType().__id},toString:function(){return"[object "+this.ice_id()+"]"},ice_preMarshal:function(){},ice_postUnmarshal:function(){},__write:function(e){e.startWriteObject(null),i(this,e,this.__mostDerivedType()),e.endWriteObject()},__read:function(e){e.startReadObject(),r(this,e,this.__mostDerivedType()),e.endReadObject(!1)},ice_instanceof:function(e){return!!e&&(this instanceof e||this.__mostDerivedType().__instanceof(e))},__mostDerivedType:function(){return n},equals:function(e){return this===e}});n.write=function(e,t){e.writeObject(t)},n.writeOpt=function(e,t,n){e.writeOptObject(t,n)},n.read=function(e){var t={value:null};return e.readObject((function(e){t.value=e}),n),t},n.readOpt=function(e,t){var i={value:void 0};return e.readOptObject(t,(function(e){i.value=e}),n),i},n.ice_staticId=function(){return n.__id},n.__instanceof=function(e){if(e===this)return!0;for(var t in this.__implements)if(this.__implements[t].__instanceof(e))return!0;return!!this.__parent&&this.__parent.__instanceof(e)},n.__ids=["::Ice::Object"],n.__id=n.__ids[0],n.__compactId=-1,n.__preserved=!1;var i=function e(t,i,r){void 0!==r&&r!==n&&(i.startWriteSlice(r.__id,r.__compactId,r.__parent===n),r.prototype.__writeMemberImpl&&r.prototype.__writeMemberImpl.call(t,i),i.endWriteSlice(),e(t,i,r.__parent))},r=function e(t,i,r){void 0!==r&&r!==n&&(i.startReadSlice(),r.prototype.__readMemberImpl&&r.prototype.__readMemberImpl.call(t,i),i.endReadSlice(),e(t,i,r.__parent))},o=function(e){e.startWriteObject(this.__slicedData),i(this,e,this.__mostDerivedType()),e.endWriteObject()},c=function(e){e.startReadObject(),r(this,e,this.__mostDerivedType()),this.__slicedData=e.endReadObject(!0)};Ice.Object=n;var s=Ice.Slice;s.defineLocalObject=function(e,t){var n=e||function(){};return void 0!==t&&(n.prototype=new t,n.__parent=t,n.prototype.constructor=e),n},s.defineObject=function(e,t,i,r,s,a,l,u,d){var h=e||function(){};return h.prototype=new t,h.__parent=t,h.__ids=s,h.__id=s[r],h.__compactId=a,h.__instanceof=n.__instanceof,h.__implements=i,h.write=function(e,t){e.writeObject(t)},h.writeOpt=function(e,t,n){e.writeOptObject(t,n)},h.read=function(e){var t={value:null};return e.readObject((function(e){t.value=e}),h),t},h.readOpt=function(e,t){var n={value:void 0};return e.readOptObject(t,(function(e){n.value=e}),h),n},h.ice_staticId=function(){return s[r]},h.prototype.constructor=h,h.prototype.__mostDerivedType=function(){return h},d&&(h.prototype.__write=o,h.prototype.__read=c),h.prototype.__writeMemberImpl=l,h.prototype.__readMemberImpl=u,h}}(),i=Ice.StringUtil,Ice.HashUtil={addBoolean:function(e,t){return(e<<5)+e^(t?0:1)},addString:function(e,t){return null!=t&&(e=(e<<5)+e^i.hashCode(t)),e},addNumber:function(e,t){return(e<<5)+e^t},addHashable:function(e,t){return null!=t&&(e=(e<<5)+e^t.hashCode()),e},addArray:function(e,t,n){if(null!=t)for(var i=0;i<t.length;++i)e=n(e,t[i]);return e}},r=Ice.ArrayUtil,o=r.eq,c=function(e){if(this===e)return!0;if(null==e)return!1;if(this.prototype!==e.prototype)return!1;var t,n;for(var i in this)if(t=this[i],n=e[i],"function"!=typeof t&&!o(t,n))return!1;return!0},s=function(){var e,t=new this.constructor;for(var n in this)if(null==(e=this[n]))t[n]=e;else{if("function"==typeof e)continue;"function"==typeof e.clone?t[n]=e.clone():t[n]=e instanceof Array?r.clone(e):e}return t},a=function e(t,n){if("function"==typeof n.hashCode)return Ice.HashUtil.addHashable(t,n);if(n instanceof Array)return Ice.HashUtil.addArray(t,n,e);var i=l(n);return n instanceof String||"string"==i?Ice.HashUtil.addString(t,n):n instanceof Number||"number"==i?Ice.HashUtil.addNumber(t,n):n instanceof Boolean||"boolean"==i?Ice.HashUtil.addBoolean(t,n):void 0},h=function(){var e,t=5381;for(var n in this)null!=(e=this[n])&&"function"!=typeof e&&(t=a(t,e));return t},Ice.Slice.defineStruct=function(e,t,n,i,r,o){var a=e;return a.prototype.clone=s,a.prototype.equals=c,t&&(a.prototype.hashCode=h),i&&n&&(a.prototype.__write=n,a.prototype.__read=i,a.write=function(e,t){t||(a.prototype._nullMarshalValue||(a.prototype._nullMarshalValue=new this),t=a.prototype._nullMarshalValue),t.__write(e)},a.read=function(e,t){return t&&t instanceof this||(t=new this),t.__read(e),t},Object.defineProperty(a,"minWireSize",{get:function(){return r}}),o?Ice.StreamHelpers.VSizeOptHelper.call(a):Ice.StreamHelpers.FSizeOptHelper.call(a)),a},Ice.CompactIdRegistry=new Ice.HashMap,B.defineSequence(Ice,"BoolSeqHelper","Ice.BoolHelper",!0),B.defineSequence(Ice,"ByteSeqHelper","Ice.ByteHelper",!0),B.defineSequence(Ice,"ShortSeqHelper","Ice.ShortHelper",!0),B.defineSequence(Ice,"IntSeqHelper","Ice.IntHelper",!0),B.defineSequence(Ice,"LongSeqHelper","Ice.LongHelper",!0),B.defineSequence(Ice,"FloatSeqHelper","Ice.FloatHelper",!0),B.defineSequence(Ice,"DoubleSeqHelper","Ice.DoubleHelper",!0),B.defineSequence(Ice,"StringSeqHelper","Ice.StringHelper",!1),B.defineSequence(Ice,"ObjectSeqHelper","Ice.ObjectHelper",!1,"Ice.Object"),B.defineSequence(Ice,"ObjectProxySeqHelper","Ice.ObjectPrx",!1),Ice.ReferenceMode={ModeTwoway:0,ModeOneway:1,ModeBatchOneway:2,ModeDatagram:3,ModeBatchDatagram:4,ModeLast:4},function(){var e=Ice.Long;ArrayBuffer.prototype.slice||(ArrayBuffer.prototype.slice=function(e,t){var n=new Uint8Array(this);t=void 0===t?n.length:t;for(var i=new Uint8Array(new ArrayBuffer(t-e)),r=0,o=i.length;r<o;r++)i[r]=n[r+e];return i.buffer});var t=Ice.Class({__init__:function(e){void 0!==e?(this.b=e,this.v=new DataView(this.b)):(this.b=null,this.v=null),this._position=0,this._limit=0,this._shrinkCounter=0},empty:function(){return 0===this._limit},resize:function(e){0===e?this.clear():e>this.capacity&&this.reserve(e),this._limit=e},clear:function(){this.b=null,this.v=null,this._position=0,this._limit=0},expand:function(e){var t=0===this.capacity?e:this._position+e;t>this._limit&&this.resize(t)},reset:function(){this._limit>0&&2*this._limit<this.capacity?++this._shrinkCounter>2&&(this.reserve(this._limit),this._shrinkCounter=0):this._shrinkCounter=0,this._limit=0,this._position=0},reserve:function(e){if(e>this.capacity){var t=Math.max(e,2*this.capacity);if(t=Math.max(1024,t),this.b){var n=new Uint8Array(t);n.set(new Uint8Array(this.b)),this.b=n.buffer}else this.b=new ArrayBuffer(t);this.v=new DataView(this.b)}else{if(!(e<this.capacity))return;this.b=this.b.slice(0,this.capacity),this.v=new DataView(this.b)}},put:function(e){if(this._position===this._limit)throw new Error("BufferOverflowException");this.v.setUint8(this._position,e),this._position++},putAt:function(e,t){if(e>=this._limit)throw new Error("IndexOutOfBoundsException");this.v.setUint8(e,t)},putArray:function(e){if(!(e instanceof Uint8Array))throw new TypeError("argument is not a Uint8Array");if(e.byteLength>0){if(this._position+e.length>this._limit)throw new Error("BufferOverflowException");new Uint8Array(this.b,0,this.b.byteLength).set(e,this._position),this._position+=e.byteLength}},putShort:function(e){if(this._position+2>this._limit)throw new Error("BufferOverflowException");this.v.setInt16(this._position,e,!0),this._position+=2},putInt:function(e){if(this._position+4>this._limit)throw new Error("BufferOverflowException");this.v.setInt32(this._position,e,!0),this._position+=4},putIntAt:function(e,t){if(e+4>this._limit||e<0)throw new Error("IndexOutOfBoundsException");this.v.setInt32(e,t,!0)},putFloat:function(e){if(this._position+4>this._limit)throw new Error("BufferOverflowException");this.v.setFloat32(this._position,e,!0),this._position+=4},putDouble:function(e){if(this._position+8>this._limit)throw new Error("BufferOverflowException");this.v.setFloat64(this._position,e,!0),this._position+=8},putLong:function(e){if(this._position+8>this._limit)throw new Error("BufferOverflowException");this.v.setInt32(this._position,e.low,!0),this._position+=4,this.v.setInt32(this._position,e.high,!0),this._position+=4},writeString:function(e,t){var n=unescape(encodeURIComponent(t));e.writeSize(n.length),e.expand(n.length),this.putString(n,n.length)},putString:function(e,t){if(this._position+t>this._limit)throw new Error("BufferOverflowException");for(var n=0;n<t;++n)this.v.setUint8(this._position,e.charCodeAt(n)),this._position++},get:function(){if(this._position>=this._limit)throw new Error("BufferUnderflowException");var e=this.v.getUint8(this._position);return this._position++,e},getAt:function(e){if(e<0||e>=this._limit)throw new Error("IndexOutOfBoundsException");return this.v.getUint8(e)},getArray:function(e){if(this._position+e>this._limit)throw new Error("BufferUnderflowException");var t=this.b.slice(this._position,this._position+e);return this._position+=e,new Uint8Array(t)},getArrayAt:function(e,t){if(e+t>this._limit)throw new Error("BufferUnderflowException");return t=void 0===t?this.b.byteLength-e:t,new Uint8Array(this.b.slice(e,e+t))},getShort:function(){if(this._limit-this._position<2)throw new Error("BufferUnderflowException");var e=this.v.getInt16(this._position,!0);return this._position+=2,e},getInt:function(){if(this._limit-this._position<4)throw new Error("BufferUnderflowException");var e=this.v.getInt32(this._position,!0);return this._position+=4,e},getFloat:function(){if(this._limit-this._position<4)throw new Error("BufferUnderflowException");var e=this.v.getFloat32(this._position,!0);return this._position+=4,e},getDouble:function(){if(this._limit-this._position<8)throw new Error("BufferUnderflowException");var e=this.v.getFloat64(this._position,!0);return this._position+=8,e},getLong:function(){if(this._limit-this._position<8)throw new Error("BufferUnderflowException");var t=new e;return t.low=this.v.getUint32(this._position,!0),this._position+=4,t.high=this.v.getUint32(this._position,!0),this._position+=4,t},getString:function(e){if(this._position+e>this._limit)throw new Error("BufferUnderflowException");for(var t=new DataView(this.b,this._position,e),n="",i=0;i<e;++i)n+=String.fromCharCode(t.getUint8(i));return this._position+=e,n=decodeURIComponent(escape(n))}}),n=t.prototype;Object.defineProperty(n,"position",{get:function(){return this._position},set:function(e){e>=0&&e<=this._limit&&(this._position=e)}}),Object.defineProperty(n,"limit",{get:function(){return this._limit},set:function(e){e<=this.capacity&&(this._limit=e,this._position>e&&(this._position=e))}}),Object.defineProperty(n,"capacity",{get:function(){return null===this.b?0:this.b.byteLength}}),Object.defineProperty(n,"remaining",{get:function(){return this._limit-this._position}}),t.createNative=function(e){return void 0===e?new Uint8Array(0):new Uint8Array(e)},Ice.Buffer=t}(),function(){var e=Ice.Buffer,t={},n="A".charCodeAt(0),i="a".charCodeAt(0),r="0".charCodeAt(0);function o(e){return e<26?String.fromCharCode(n+e):e<52?String.fromCharCode(i+(e-26)):e<62?String.fromCharCode(r+(e-52)):62==e?"+":"/"}function c(e){return e>="A"&&e<="Z"?e.charCodeAt(0)-n:e>="a"&&e<="z"?e.charCodeAt(0)-i+26:e>="0"&&e<="9"?e.charCodeAt(0)-r+52:"+"==e?62:63}t.encode=function(e){if(null===e||0===e.length)return"";e.length;for(var t,n,i,r,c,s,a,l=[],u=0;u<e.length;u+=3)t=255&e[u],n=0,i=0,u+1<e.length&&(n=255&e[u+1]),u+2<e.length&&(i=255&e[u+2]),r=t>>2&255,c=255&((3&t)<<4|n>>4),s=255&((15&n)<<2|i>>6),a=63&i,l.push(o(r)),l.push(o(c)),u+1<e.length?l.push(o(s)):l.push("="),u+2<e.length?l.push(o(a)):l.push("=");for(var d=l.join(""),h=[],f=0;d.length-f>76;)h.push(d.substring(f,f+76)),h.push("\r\n"),f+=76;return h.push(d.substring(f)),h.join("")},t.decode=function(n){for(var i=[],r=0;r<n.length;r++){var o=n.charAt(r);t.isBase64(o)&&i.push(o)}if(0===i.length)return null;var s,a,l,u,d,h,f,p,_=3*i.length/4+1,C=new e;C.resize(_);for(var g=0;g<i.length;g+=4)"A",h="A",f="A",p="A",d=i[g],g+1<i.length&&(h=i[g+1]),g+2<i.length&&(f=i[g+2]),g+3<i.length&&(p=i[g+3]),s=255&c(d),a=255&c(h),l=255&c(f),u=255&c(p),C.put(s<<2|a>>4),"="!=f&&C.put((15&a)<<4|l>>2),"="!=p&&C.put((3&l)<<6|u);return C.remaining>0?C.getArrayAt(0,C.position):C.getArrayAt(0)},t.isBase64=function(e){return e>="A"&&e<="Z"||(e>="a"&&e<="z"||(e>="0"&&e<="9"||("+"==e||("/"==e||"="==e))))},Ice.Base64=t}(),Ice.Identity=B.defineStruct((function(e,t){this.name=void 0!==e?e:"",this.category=void 0!==t?t:""}),!0,(function(e){e.writeString(this.name),e.writeString(this.category)}),(function(e){this.name=e.readString(),this.category=e.readString()}),2,!1),B.defineDictionary(Ice,"ObjectDict","ObjectDictHelper","Ice.Identity","Ice.ObjectHelper",!1,Ice.HashMap.compareEquals,"Ice.Object"),B.defineSequence(Ice,"IdentitySeqHelper","Ice.Identity",!1),Ice.ProtocolVersion=B.defineStruct((function(e,t){this.major=void 0!==e?e:0,this.minor=void 0!==t?t:0}),!0,(function(e){e.writeByte(this.major),e.writeByte(this.minor)}),(function(e){this.major=e.readByte(),this.minor=e.readByte()}),2,!0),Ice.EncodingVersion=B.defineStruct((function(e,t){this.major=void 0!==e?e:0,this.minor=void 0!==t?t:0}),!0,(function(e){e.writeByte(this.major),e.writeByte(this.minor)}),(function(e){this.major=e.readByte(),this.minor=e.readByte()}),2,!0),function(){Ice.SliceInfo=function(){this.typeId="",this.compactId=-1,this.bytes=[],this.objects=[],this.hasOptionalMembers=!1,this.isLastSlice=!1};Ice.SlicedData=function(e){this.slices=e};var e=Ice.Class(Ice.Object,{__init__:function(e){this._unknownTypeId=e},getUnknownTypeId:function(){return this._unknownTypeId},__write:function(e){e.startWriteObject(this._slicedData),e.endWriteObject()},__read:function(e){e.startReadObject(),this._slicedData=e.endReadObject(!0)}});Ice.UnknownSlicedObject=e}(),function(){var e=Ice.HashMap,t=Ice.Debug,n=Ice.Class({__init__:function(){this._adapterEndpointsTable=new e,this._objectTable=new e(e.compareEquals)},clear:function(){this._adapterEndpointsTable.clear(),this._objectTable.clear()},getAdapterEndpoints:function(e,t,n){if(0===t)return n.value=!1,null;var i=this._adapterEndpointsTable.get(e);return void 0!==i?(n.value=this.checkTTL(i.time,t),i.endpoints):(n.value=!1,null)},addAdapterEndpoints:function(e,t){this._adapterEndpointsTable.set(e,new i(Date.now(),t))},removeAdapterEndpoints:function(e){var t=this._adapterEndpointsTable.get(e);return this._adapterEndpointsTable.del(e),void 0!==t?t.endpoints:null},getObjectReference:function(e,t,n){if(0===t)return n.value=!1,null;var i=this._objectTable.get(e);return void 0!==i?(n.value=this.checkTTL(i.time,t),i.reference):(n.value=!1,null)},addObjectReference:function(e,t){this._objectTable.set(e,new r(Date.now(),t))},removeObjectReference:function(e){var t=this._objectTable.get(e);return this._objectTable.del(e),void 0!==t?t.reference:null},checkTTL:function(e,n){return t.assert(0!==n),n<0||Date.now()-e<=1e3*n}});Ice.LocatorTable=n;var i=function(e,t){this.time=e,this.endpoints=t},r=function(e,t){this.time=e,this.reference=t}}(),function(){var e=Ice.Timer,t=0,n=1,i=2,r=function(e,t){var i=e.__state===n?t.onResponse:t.onException;try{if("function"!=typeof i)t.promise.setState(e.__state,e._args);else{var r=i.apply(null,e._args);r&&"function"==typeof r.then?r.then((function(){var e=arguments;t.promise.succeed.apply(t.promise,e)}),(function(){var e=arguments;t.promise.fail.apply(t.promise,e)})):t.promise.succeed(r)}}catch(e){t.promise.fail.call(t.promise,e)}},o=Ice.Class({__init__:function(){this.__state=t,this.__listeners=[]},then:function(t,n){var i=new o,r=this;return e.setImmediate((function(){r.__listeners.push({promise:i,onResponse:t,onException:n}),r.resolve()})),i},exception:function(e){return this.then(null,e)},finally2:function(t){var n=new o,i=this,r=function(e){return function(){var i=arguments;try{var r=t.apply(null,i);if(r&&"function"==typeof r.then){var o=function(){e.apply(n,i)};r.then(o).exception(o)}else e.apply(n,i)}catch(t){e.apply(n,i)}}};return e.setImmediate((function(){i.then(r(n.succeed),r(n.fail))})),n},delay:function(t){var n=new o,i=this,r=function(n,i){return function(){var r=arguments;e.setTimeout((function(){i.apply(n,r)}),t)}};return e.setImmediate((function(){i.then(r(n,n.succeed),r(n,n.fail))})),n},resolve:function(){if(this.__state!==t)for(var e;e=this.__listeners.pop();)r(this,e)},setState:function(e,n){this.__state===t&&e!==t&&(this.__state=e,this._args=n,this.resolve())},succeed:function(){var e=arguments;return this.setState(n,e),this},fail:function(){var e=arguments;return this.setState(i,e),this},succeeded:function(){return this.__state===n},failed:function(){return this.__state===i},completed:function(){return this.__state!==t}});o.all=function(){if(1===arguments.length&&arguments[0]instanceof Array)return o.all.apply(this,arguments[0]);var e=new o,t=Array.prototype.slice.call(arguments),n=new Array(arguments.length),i=t.length;0===i&&e.succeed.apply(e,n);for(var r=0;r<t.length;++r)!function(r){t[r]&&"function"==typeof t[r].then?t[r].then((function(){n[r]=arguments,0===--i&&e.succeed.apply(e,n)}),(function(){e.fail.apply(e,arguments)})):(n[r]=t[r],0===--i&&e.succeed.apply(e,n))}(r);return e},o.try2=function(e){return(new o).succeed().then(e)},o.delay=function(e){if(arguments.length>1){var t=new o,n=Array.prototype.slice.call(arguments);return e=n.pop(),t.succeed.apply(t,n).delay(e)}return(new o).succeed().delay(e)},Ice.Promise=o}(),f=Ice.Class({__init__:function(e){void 0!==e&&e.length>0?this._prefix=e+": ":this._prefix="",this._dateformat={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1}},print:function(e){this.write(e,!1)},trace:function(e,t){var n=[];new Date,n.push("-- "),n.push(this.timestamp()),n.push(" "),n.push(this._prefix),n.push(e),n.push(": "),n.push(t),this.write(n.join(""),!0)},warning:function(e){var t=[];new Date,t.push("-! "),t.push(this.timestamp()),t.push(" "),t.push(this._prefix),t.push("warning: "),t.push(e),this.write(t.join(""),!0)},error:function(e){var t=[];new Date,t.push("!! "),t.push(this.timestamp()),t.push(" "),t.push(this._prefix),t.push("error: "),t.push(e),this.write(t.join(""),!0)},cloneWithPrefix:function(e){return new f(e)},write:function(e,t){t&&(e=e.replace(/\n/g,"\n   ")),Cr.Utils.log(e)},timestamp:function(){var e=new Date;return e.toLocaleString("en-US",this._dateformat)+"."+e.getMilliseconds()}}),Ice.Logger=f,Ice.InitializationException=B.defineLocalException((function(e,t){Ice.LocalException.call(this,t),this.reason=void 0!==e?e:""}),Ice.LocalException,"Ice::InitializationException"),Ice.PluginInitializationException=B.defineLocalException((function(e,t){Ice.LocalException.call(this,t),this.reason=void 0!==e?e:""}),Ice.LocalException,"Ice::PluginInitializationException"),Ice.CollocationOptimizationException=B.defineLocalException((function(e){Ice.LocalException.call(this,e)}),Ice.LocalException,"Ice::CollocationOptimizationException"),Ice.AlreadyRegisteredException=B.defineLocalException((function(e,t,n){Ice.LocalException.call(this,n),this.kindOfObject=void 0!==e?e:"",this.id=void 0!==t?t:""}),Ice.LocalException,"Ice::AlreadyRegisteredException"),Ice.NotRegisteredException=B.defineLocalException((function(e,t,n){Ice.LocalException.call(this,n),this.kindOfObject=void 0!==e?e:"",this.id=void 0!==t?t:""}),Ice.LocalException,"Ice::NotRegisteredException"),Ice.TwowayOnlyException=B.defineLocalException((function(e,t){Ice.LocalException.call(this,t),this.operation=void 0!==e?e:""}),Ice.LocalException,"Ice::TwowayOnlyException"),Ice.CloneNotImplementedException=B.defineLocalException((function(e){Ice.LocalException.call(this,e)}),Ice.LocalException,"Ice::CloneNotImplementedException"),Ice.UnknownException=B.defineLocalException((function(e,t){Ice.LocalException.call(this,t),this.unknown=void 0!==e?e:""}),Ice.LocalException,"Ice::UnknownException"),Ice.UnknownLocalException=B.defineLocalException((function(e,t){Ice.UnknownException.call(this,e,t)}),Ice.UnknownException,"Ice::UnknownLocalException"),Ice.UnknownUserException=B.defineLocalException((function(e,t){Ice.UnknownException.call(this,e,t)}),Ice.UnknownException,"Ice::UnknownUserException"),Ice.VersionMismatchException=B.defineLocalException((function(e){Ice.LocalException.call(this,e)}),Ice.LocalException,"Ice::VersionMismatchException"),Ice.CommunicatorDestroyedException=B.defineLocalException((function(e){Ice.LocalException.call(this,e)}),Ice.LocalException,"Ice::CommunicatorDestroyedException"),Ice.ObjectAdapterDeactivatedException=B.defineLocalException((function(e,t){Ice.LocalException.call(this,t),this.name=void 0!==e?e:""}),Ice.LocalException,"Ice::ObjectAdapterDeactivatedException"),Ice.ObjectAdapterIdInUseException=B.defineLocalException((function(e,t){Ice.LocalException.call(this,t),this.id=void 0!==e?e:""}),Ice.LocalException,"Ice::ObjectAdapterIdInUseException"),Ice.NoEndpointException=B.defineLocalException((function(e,t){Ice.LocalException.call(this,t),this.proxy=void 0!==e?e:""}),Ice.LocalException,"Ice::NoEndpointException"),Ice.EndpointParseException=B.defineLocalException((function(e,t){Ice.LocalException.call(this,t),this.str=void 0!==e?e:""}),Ice.LocalException,"Ice::EndpointParseException"),Ice.EndpointSelectionTypeParseException=B.defineLocalException((function(e,t){Ice.LocalException.call(this,t),this.str=void 0!==e?e:""}),Ice.LocalException,"Ice::EndpointSelectionTypeParseException"),Ice.VersionParseException=B.defineLocalException((function(e,t){Ice.LocalException.call(this,t),this.str=void 0!==e?e:""}),Ice.LocalException,"Ice::VersionParseException"),Ice.IdentityParseException=B.defineLocalException((function(e,t){Ice.LocalException.call(this,t),this.str=void 0!==e?e:""}),Ice.LocalException,"Ice::IdentityParseException"),Ice.ProxyParseException=B.defineLocalException((function(e,t){Ice.LocalException.call(this,t),this.str=void 0!==e?e:""}),Ice.LocalException,"Ice::ProxyParseException"),Ice.IllegalIdentityException=B.defineLocalException((function(e,t){Ice.LocalException.call(this,t),this.id=void 0!==e?e:new Ice.Identity}),Ice.LocalException,"Ice::IllegalIdentityException"),Ice.IllegalServantException=B.defineLocalException((function(e,t){Ice.LocalException.call(this,t),this.reason=void 0!==e?e:""}),Ice.LocalException,"Ice::IllegalServantException"),Ice.RequestFailedException=B.defineLocalException((function(e,t,n,i){Ice.LocalException.call(this,i),this.id=void 0!==e?e:new Ice.Identity,this.facet=void 0!==t?t:"",this.operation=void 0!==n?n:""}),Ice.LocalException,"Ice::RequestFailedException"),Ice.ObjectNotExistException=B.defineLocalException((function(e,t,n,i){Ice.RequestFailedException.call(this,e,t,n,i)}),Ice.RequestFailedException,"Ice::ObjectNotExistException"),Ice.FacetNotExistException=B.defineLocalException((function(e,t,n,i){Ice.RequestFailedException.call(this,e,t,n,i)}),Ice.RequestFailedException,"Ice::FacetNotExistException"),Ice.OperationNotExistException=B.defineLocalException((function(e,t,n,i){Ice.RequestFailedException.call(this,e,t,n,i)}),Ice.RequestFailedException,"Ice::OperationNotExistException"),Ice.SyscallException=B.defineLocalException((function(e,t){Ice.LocalException.call(this,t),this.error=void 0!==e?e:0}),Ice.LocalException,"Ice::SyscallException"),Ice.SocketException=B.defineLocalException((function(e,t){Ice.SyscallException.call(this,e,t)}),Ice.SyscallException,"Ice::SocketException"),Ice.FileException=B.defineLocalException((function(e,t,n){Ice.SyscallException.call(this,e,n),this.path=void 0!==t?t:""}),Ice.SyscallException,"Ice::FileException"),Ice.ConnectFailedException=B.defineLocalException((function(e,t){Ice.SocketException.call(this,e,t)}),Ice.SocketException,"Ice::ConnectFailedException"),Ice.ConnectionRefusedException=B.defineLocalException((function(e,t){Ice.ConnectFailedException.call(this,e,t)}),Ice.ConnectFailedException,"Ice::ConnectionRefusedException"),Ice.ConnectionLostException=B.defineLocalException((function(e,t){Ice.SocketException.call(this,e,t)}),Ice.SocketException,"Ice::ConnectionLostException"),Ice.DNSException=B.defineLocalException((function(e,t,n){Ice.LocalException.call(this,n),this.error=void 0!==e?e:0,this.host=void 0!==t?t:""}),Ice.LocalException,"Ice::DNSException"),Ice.OperationInterruptedException=B.defineLocalException((function(e){Ice.LocalException.call(this,e)}),Ice.LocalException,"Ice::OperationInterruptedException"),Ice.TimeoutException=B.defineLocalException((function(e){Ice.LocalException.call(this,e)}),Ice.LocalException,"Ice::TimeoutException"),Ice.ConnectTimeoutException=B.defineLocalException((function(e){Ice.TimeoutException.call(this,e)}),Ice.TimeoutException,"Ice::ConnectTimeoutException"),Ice.CloseTimeoutException=B.defineLocalException((function(e){Ice.TimeoutException.call(this,e)}),Ice.TimeoutException,"Ice::CloseTimeoutException"),Ice.ConnectionTimeoutException=B.defineLocalException((function(e){Ice.TimeoutException.call(this,e)}),Ice.TimeoutException,"Ice::ConnectionTimeoutException"),Ice.InvocationTimeoutException=B.defineLocalException((function(e){Ice.TimeoutException.call(this,e)}),Ice.TimeoutException,"Ice::InvocationTimeoutException"),Ice.InvocationCanceledException=B.defineLocalException((function(e){Ice.LocalException.call(this,e)}),Ice.LocalException,"Ice::InvocationCanceledException"),Ice.ProtocolException=B.defineLocalException((function(e,t){Ice.LocalException.call(this,t),this.reason=void 0!==e?e:""}),Ice.LocalException,"Ice::ProtocolException"),Ice.BadMagicException=B.defineLocalException((function(e,t,n){Ice.ProtocolException.call(this,e,n),this.badMagic=void 0!==t?t:null}),Ice.ProtocolException,"Ice::BadMagicException"),Ice.UnsupportedProtocolException=B.defineLocalException((function(e,t,n,i){Ice.ProtocolException.call(this,e,i),this.bad=void 0!==t?t:new Ice.ProtocolVersion,this.supported=void 0!==n?n:new Ice.ProtocolVersion}),Ice.ProtocolException,"Ice::UnsupportedProtocolException"),Ice.UnsupportedEncodingException=B.defineLocalException((function(e,t,n,i){Ice.ProtocolException.call(this,e,i),this.bad=void 0!==t?t:new Ice.EncodingVersion,this.supported=void 0!==n?n:new Ice.EncodingVersion}),Ice.ProtocolException,"Ice::UnsupportedEncodingException"),Ice.UnknownMessageException=B.defineLocalException((function(e,t){Ice.ProtocolException.call(this,e,t)}),Ice.ProtocolException,"Ice::UnknownMessageException"),Ice.ConnectionNotValidatedException=B.defineLocalException((function(e,t){Ice.ProtocolException.call(this,e,t)}),Ice.ProtocolException,"Ice::ConnectionNotValidatedException"),Ice.UnknownRequestIdException=B.defineLocalException((function(e,t){Ice.ProtocolException.call(this,e,t)}),Ice.ProtocolException,"Ice::UnknownRequestIdException"),Ice.UnknownReplyStatusException=B.defineLocalException((function(e,t){Ice.ProtocolException.call(this,e,t)}),Ice.ProtocolException,"Ice::UnknownReplyStatusException"),Ice.CloseConnectionException=B.defineLocalException((function(e,t){Ice.ProtocolException.call(this,e,t)}),Ice.ProtocolException,"Ice::CloseConnectionException"),Ice.ForcedCloseConnectionException=B.defineLocalException((function(e,t){Ice.ProtocolException.call(this,e,t)}),Ice.ProtocolException,"Ice::ForcedCloseConnectionException"),Ice.IllegalMessageSizeException=B.defineLocalException((function(e,t){Ice.ProtocolException.call(this,e,t)}),Ice.ProtocolException,"Ice::IllegalMessageSizeException"),Ice.CompressionException=B.defineLocalException((function(e,t){Ice.ProtocolException.call(this,e,t)}),Ice.ProtocolException,"Ice::CompressionException"),Ice.DatagramLimitException=B.defineLocalException((function(e,t){Ice.ProtocolException.call(this,e,t)}),Ice.ProtocolException,"Ice::DatagramLimitException"),Ice.MarshalException=B.defineLocalException((function(e,t){Ice.ProtocolException.call(this,e,t)}),Ice.ProtocolException,"Ice::MarshalException"),Ice.ProxyUnmarshalException=B.defineLocalException((function(e,t){Ice.MarshalException.call(this,e,t)}),Ice.MarshalException,"Ice::ProxyUnmarshalException"),Ice.UnmarshalOutOfBoundsException=B.defineLocalException((function(e,t){Ice.MarshalException.call(this,e,t)}),Ice.MarshalException,"Ice::UnmarshalOutOfBoundsException"),Ice.NoObjectFactoryException=B.defineLocalException((function(e,t,n){Ice.MarshalException.call(this,e,n),this.type=void 0!==t?t:""}),Ice.MarshalException,"Ice::NoObjectFactoryException"),Ice.UnexpectedObjectException=B.defineLocalException((function(e,t,n,i){Ice.MarshalException.call(this,e,i),this.type=void 0!==t?t:"",this.expectedType=void 0!==n?n:""}),Ice.MarshalException,"Ice::UnexpectedObjectException"),Ice.MemoryLimitException=B.defineLocalException((function(e,t){Ice.MarshalException.call(this,e,t)}),Ice.MarshalException,"Ice::MemoryLimitException"),Ice.StringConversionException=B.defineLocalException((function(e,t){Ice.MarshalException.call(this,e,t)}),Ice.MarshalException,"Ice::StringConversionException"),Ice.EncapsulationException=B.defineLocalException((function(e,t){Ice.MarshalException.call(this,e,t)}),Ice.MarshalException,"Ice::EncapsulationException"),Ice.FeatureNotSupportedException=B.defineLocalException((function(e,t){Ice.LocalException.call(this,t),this.unsupportedFeature=void 0!==e?e:""}),Ice.LocalException,"Ice::FeatureNotSupportedException"),Ice.SecurityException=B.defineLocalException((function(e,t){Ice.LocalException.call(this,t),this.reason=void 0!==e?e:""}),Ice.LocalException,"Ice::SecurityException"),Ice.FixedProxyException=B.defineLocalException((function(e){Ice.LocalException.call(this,e)}),Ice.LocalException,"Ice::FixedProxyException"),Ice.ResponseSentException=B.defineLocalException((function(e){Ice.LocalException.call(this,e)}),Ice.LocalException,"Ice::ResponseSentException"),function(){var e=Ice.StringUtil,t={};function n(t){var n=t.indexOf(".");if(-1===n)throw new Ice.VersionParseException("malformed version value `"+t+"'");var i,r=t.substring(0,n);try{i=e.toInt(r)}catch(e){throw new Ice.VersionParseException("invalid version value `"+t+"'")}if(i<1||i>255)throw new Ice.VersionParseException("range error in version `"+t+"'");return i}function i(t){var n=t.indexOf(".");if(-1===n)throw new Ice.VersionParseException("malformed version value `"+t+"'");var i,r=t.substring(n+1);try{i=e.toInt(r)}catch(e){throw new Ice.VersionParseException("invalid version value `"+t+"'")}if(i<0||i>255)throw new Ice.VersionParseException("range error in version `"+t+"'");return i}function r(e,t){return e+"."+t}Ice.Encoding_1_0=new Ice.EncodingVersion(1,0),Ice.Encoding_1_1=new Ice.EncodingVersion(1,1),Ice.Protocol_1_0=new Ice.ProtocolVersion(1,0),t.headerSize=14,t.magic=Ice.Buffer.createNative([73,99,101,80]),t.protocolMajor=1,t.protocolMinor=0,t.protocolEncodingMajor=1,t.protocolEncodingMinor=0,t.encodingMajor=1,t.encodingMinor=1,t.requestMsg=0,t.requestBatchMsg=1,t.replyMsg=2,t.validateConnectionMsg=3,t.closeConnectionMsg=4,t.replyOK=0,t.replyUserException=1,t.replyObjectNotExist=2,t.replyFacetNotExist=3,t.replyOperationNotExist=4,t.replyUnknownLocalException=5,t.replyUnknownUserException=6,t.replyUnknownException=7,t.requestHdr=Ice.Buffer.createNative([t.magic[0],t.magic[1],t.magic[2],t.magic[3],t.protocolMajor,t.protocolMinor,t.protocolEncodingMajor,t.protocolEncodingMinor,t.requestMsg,0,0,0,0,0,0,0,0,0]),t.requestBatchHdr=Ice.Buffer.createNative([t.magic[0],t.magic[1],t.magic[2],t.magic[3],t.protocolMajor,t.protocolMinor,t.protocolEncodingMajor,t.protocolEncodingMinor,t.requestBatchMsg,0,0,0,0,0,0,0,0,0]),t.replyHdr=Ice.Buffer.createNative([t.magic[0],t.magic[1],t.magic[2],t.magic[3],t.protocolMajor,t.protocolMinor,t.protocolEncodingMajor,t.protocolEncodingMinor,t.replyMsg,0,0,0,0,0]),t.currentProtocol=new Ice.ProtocolVersion(t.protocolMajor,t.protocolMinor),t.currentProtocolEncoding=new Ice.EncodingVersion(t.protocolEncodingMajor,t.protocolEncodingMinor),t.currentEncoding=new Ice.EncodingVersion(t.encodingMajor,t.encodingMinor),t.checkSupportedProtocol=function(e){if(e.major!==t.currentProtocol.major||e.minor>t.currentProtocol.minor)throw new Ice.UnsupportedProtocolException("",e,t.currentProtocol)},t.checkSupportedProtocolEncoding=function(e){if(e.major!==t.currentProtocolEncoding.major||e.minor>t.currentProtocolEncoding.minor)throw new Ice.UnsupportedEncodingException("",e,t.currentProtocolEncoding)},t.checkSupportedEncoding=function(e){if(e.major!==t.currentEncoding.major||e.minor>t.currentEncoding.minor)throw new Ice.UnsupportedEncodingException("",e,t.currentEncoding)},t.getCompatibleProtocol=function(e){return e.major!==t.currentProtocol.major||e.minor<t.currentProtocol.minor?e:t.currentProtocol},t.getCompatibleEncoding=function(e){return e.major!==t.currentEncoding.major||e.minor<t.currentEncoding.minor?e:t.currentEncoding},t.isSupported=function(e,t){return e.major===t.major&&e.minor<=t.minor},Ice.stringToProtocolVersion=function(e){return new Ice.ProtocolVersion(n(e),i(e))},Ice.stringToEncodingVersion=function(e){return new Ice.EncodingVersion(n(e),i(e))},Ice.protocolVersionToString=function(e){return r(e.major,e.minor)},Ice.encodingVersionToString=function(e){return r(e.major,e.minor)},Ice.Protocol=t}(),p=function(e,t,n){this._pattern=e,this._deprecated=t,this._deprecatedBy=n},Object.defineProperty(p.prototype,"pattern",{get:function(){return this._pattern}}),Object.defineProperty(p.prototype,"deprecated",{get:function(){return this._deprecated}}),Object.defineProperty(p.prototype,"deprecatedBy",{get:function(){return this._deprecatedBy}}),Ice.Property=p,function(){var e={},t=Ice.Property;e.IceProps=[new t("/^Ice.ACM.Client/",!0,null),new t("/^Ice.ACM.Server/",!0,null),new t("/^Ice.ACM.Timeout/",!1,null),new t("/^Ice.ACM.Heartbeat/",!1,null),new t("/^Ice.ACM.Close/",!1,null),new t("/^Ice.ACM/",!1,null),new t("/^Ice.ACM.Client.Timeout/",!1,null),new t("/^Ice.ACM.Client.Heartbeat/",!1,null),new t("/^Ice.ACM.Client.Close/",!1,null),new t("/^Ice.ACM.Client/",!1,null),new t("/^Ice.ACM.Server.Timeout/",!1,null),new t("/^Ice.ACM.Server.Heartbeat/",!1,null),new t("/^Ice.ACM.Server.Close/",!1,null),new t("/^Ice.ACM.Server/",!1,null),new t("/^Ice.Admin.ACM.Timeout/",!1,null),new t("/^Ice.Admin.ACM.Heartbeat/",!1,null),new t("/^Ice.Admin.ACM.Close/",!1,null),new t("/^Ice.Admin.ACM/",!1,null),new t("/^Ice.Admin.AdapterId/",!1,null),new t("/^Ice.Admin.Endpoints/",!1,null),new t("/^Ice.Admin.Locator.EndpointSelection/",!1,null),new t("/^Ice.Admin.Locator.ConnectionCached/",!1,null),new t("/^Ice.Admin.Locator.PreferSecure/",!1,null),new t("/^Ice.Admin.Locator.LocatorCacheTimeout/",!1,null),new t("/^Ice.Admin.Locator.InvocationTimeout/",!1,null),new t("/^Ice.Admin.Locator.Locator/",!1,null),new t("/^Ice.Admin.Locator.Router/",!1,null),new t("/^Ice.Admin.Locator.CollocationOptimized/",!1,null),new t("/^Ice.Admin.Locator.Context../",!1,null),new t("/^Ice.Admin.Locator/",!1,null),new t("/^Ice.Admin.PublishedEndpoints/",!1,null),new t("/^Ice.Admin.ReplicaGroupId/",!1,null),new t("/^Ice.Admin.Router.EndpointSelection/",!1,null),new t("/^Ice.Admin.Router.ConnectionCached/",!1,null),new t("/^Ice.Admin.Router.PreferSecure/",!1,null),new t("/^Ice.Admin.Router.LocatorCacheTimeout/",!1,null),new t("/^Ice.Admin.Router.InvocationTimeout/",!1,null),new t("/^Ice.Admin.Router.Locator/",!1,null),new t("/^Ice.Admin.Router.Router/",!1,null),new t("/^Ice.Admin.Router.CollocationOptimized/",!1,null),new t("/^Ice.Admin.Router.Context../",!1,null),new t("/^Ice.Admin.Router/",!1,null),new t("/^Ice.Admin.ProxyOptions/",!1,null),new t("/^Ice.Admin.ThreadPool.Size/",!1,null),new t("/^Ice.Admin.ThreadPool.SizeMax/",!1,null),new t("/^Ice.Admin.ThreadPool.SizeWarn/",!1,null),new t("/^Ice.Admin.ThreadPool.StackSize/",!1,null),new t("/^Ice.Admin.ThreadPool.Serialize/",!1,null),new t("/^Ice.Admin.ThreadPool.ThreadIdleTime/",!1,null),new t("/^Ice.Admin.ThreadPool.ThreadPriority/",!1,null),new t("/^Ice.Admin.MessageSizeMax/",!1,null),new t("/^Ice.Admin.DelayCreation/",!1,null),new t("/^Ice.Admin.Enabled/",!1,null),new t("/^Ice.Admin.Facets/",!1,null),new t("/^Ice.Admin.InstanceName/",!1,null),new t("/^Ice.Admin.Logger.KeepLogs/",!1,null),new t("/^Ice.Admin.Logger.KeepTraces/",!1,null),new t("/^Ice.Admin.Logger.Properties/",!1,null),new t("/^Ice.Admin.ServerId/",!1,null),new t("/^Ice.BackgroundLocatorCacheUpdates/",!1,null),new t("/^Ice.BatchAutoFlush/",!0,null),new t("/^Ice.BatchAutoFlushSize/",!1,null),new t("/^Ice.ChangeUser/",!1,null),new t("/^Ice.ClientAccessPolicyProtocol/",!1,null),new t("/^Ice.Compression.Level/",!1,null),new t("/^Ice.CollectObjects/",!1,null),new t("/^Ice.Config/",!1,null),new t("/^Ice.ConsoleListener/",!1,null),new t("/^Ice.Default.CollocationOptimized/",!1,null),new t("/^Ice.Default.EncodingVersion/",!1,null),new t("/^Ice.Default.EndpointSelection/",!1,null),new t("/^Ice.Default.Host/",!1,null),new t("/^Ice.Default.Locator.EndpointSelection/",!1,null),new t("/^Ice.Default.Locator.ConnectionCached/",!1,null),new t("/^Ice.Default.Locator.PreferSecure/",!1,null),new t("/^Ice.Default.Locator.LocatorCacheTimeout/",!1,null),new t("/^Ice.Default.Locator.InvocationTimeout/",!1,null),new t("/^Ice.Default.Locator.Locator/",!1,null),new t("/^Ice.Default.Locator.Router/",!1,null),new t("/^Ice.Default.Locator.CollocationOptimized/",!1,null),new t("/^Ice.Default.Locator.Context../",!1,null),new t("/^Ice.Default.Locator/",!1,null),new t("/^Ice.Default.LocatorCacheTimeout/",!1,null),new t("/^Ice.Default.InvocationTimeout/",!1,null),new t("/^Ice.Default.Package/",!1,null),new t("/^Ice.Default.PreferSecure/",!1,null),new t("/^Ice.Default.Protocol/",!1,null),new t("/^Ice.Default.Router.EndpointSelection/",!1,null),new t("/^Ice.Default.Router.ConnectionCached/",!1,null),new t("/^Ice.Default.Router.PreferSecure/",!1,null),new t("/^Ice.Default.Router.LocatorCacheTimeout/",!1,null),new t("/^Ice.Default.Router.InvocationTimeout/",!1,null),new t("/^Ice.Default.Router.Locator/",!1,null),new t("/^Ice.Default.Router.Router/",!1,null),new t("/^Ice.Default.Router.CollocationOptimized/",!1,null),new t("/^Ice.Default.Router.Context../",!1,null),new t("/^Ice.Default.Router/",!1,null),new t("/^Ice.Default.SlicedFormat/",!1,null),new t("/^Ice.Default.SourceAddress/",!1,null),new t("/^Ice.Default.Timeout/",!1,null),new t("/^Ice.EventLog.Source/",!1,null),new t("/^Ice.FactoryAssemblies/",!1,null),new t("/^Ice.HTTPProxyHost/",!1,null),new t("/^Ice.HTTPProxyPort/",!1,null),new t("/^Ice.ImplicitContext/",!1,null),new t("/^Ice.InitPlugins/",!1,null),new t("/^Ice.IPv4/",!1,null),new t("/^Ice.IPv6/",!1,null),new t("/^Ice.LogFile/",!1,null),new t("/^Ice.LogStdErr.Convert/",!1,null),new t("/^Ice.MessageSizeMax/",!1,null),new t("/^Ice.Nohup/",!1,null),new t("/^Ice.NullHandleAbort/",!1,null),new t("/^Ice.Override.CloseTimeout/",!1,null),new t("/^Ice.Override.Compress/",!1,null),new t("/^Ice.Override.ConnectTimeout/",!1,null),new t("/^Ice.Override.Timeout/",!1,null),new t("/^Ice.Override.Secure/",!1,null),new t("/^Ice.Package../",!1,null),new t("/^Ice.Plugin../",!1,null),new t("/^Ice.PluginLoadOrder/",!1,null),new t("/^Ice.PreferIPv6Address/",!1,null),new t("/^Ice.PrintAdapterReady/",!1,null),new t("/^Ice.PrintProcessId/",!1,null),new t("/^Ice.PrintStackTraces/",!1,null),new t("/^Ice.ProgramName/",!1,null),new t("/^Ice.RetryIntervals/",!1,null),new t("/^Ice.ServerIdleTime/",!1,null),new t("/^Ice.SOCKSProxyHost/",!1,null),new t("/^Ice.SOCKSProxyPort/",!1,null),new t("/^Ice.StdErr/",!1,null),new t("/^Ice.StdOut/",!1,null),new t("/^Ice.SyslogFacility/",!1,null),new t("/^Ice.ThreadPool.Client.Size/",!1,null),new t("/^Ice.ThreadPool.Client.SizeMax/",!1,null),new t("/^Ice.ThreadPool.Client.SizeWarn/",!1,null),new t("/^Ice.ThreadPool.Client.StackSize/",!1,null),new t("/^Ice.ThreadPool.Client.Serialize/",!1,null),new t("/^Ice.ThreadPool.Client.ThreadIdleTime/",!1,null),new t("/^Ice.ThreadPool.Client.ThreadPriority/",!1,null),new t("/^Ice.ThreadPool.Server.Size/",!1,null),new t("/^Ice.ThreadPool.Server.SizeMax/",!1,null),new t("/^Ice.ThreadPool.Server.SizeWarn/",!1,null),new t("/^Ice.ThreadPool.Server.StackSize/",!1,null),new t("/^Ice.ThreadPool.Server.Serialize/",!1,null),new t("/^Ice.ThreadPool.Server.ThreadIdleTime/",!1,null),new t("/^Ice.ThreadPool.Server.ThreadPriority/",!1,null),new t("/^Ice.ThreadPriority/",!1,null),new t("/^Ice.Trace.Admin.Properties/",!1,null),new t("/^Ice.Trace.Admin.Logger/",!1,null),new t("/^Ice.Trace.Locator/",!1,null),new t("/^Ice.Trace.Network/",!1,null),new t("/^Ice.Trace.Protocol/",!1,null),new t("/^Ice.Trace.Retry/",!1,null),new t("/^Ice.Trace.Slicing/",!1,null),new t("/^Ice.Trace.ThreadPool/",!1,null),new t("/^Ice.UDP.RcvSize/",!1,null),new t("/^Ice.UDP.SndSize/",!1,null),new t("/^Ice.TCP.Backlog/",!1,null),new t("/^Ice.TCP.RcvSize/",!1,null),new t("/^Ice.TCP.SndSize/",!1,null),new t("/^Ice.UseApplicationClassLoader/",!1,null),new t("/^Ice.UseSyslog/",!1,null),new t("/^Ice.Warn.AMICallback/",!1,null),new t("/^Ice.Warn.Connections/",!1,null),new t("/^Ice.Warn.Datagrams/",!1,null),new t("/^Ice.Warn.Dispatch/",!1,null),new t("/^Ice.Warn.Endpoints/",!1,null),new t("/^Ice.Warn.UnknownProperties/",!1,null),new t("/^Ice.Warn.UnusedProperties/",!1,null),new t("/^Ice.CacheMessageBuffers/",!1,null),new t("/^Ice.ThreadInterruptSafe/",!1,null),new t("/^Ice.Voip/",!1,null)],e.validProps=[e.IceProps],e.clPropNames=["Ice"],Ice.PropertyNames=e}(),_=Ice.HashMap,C=Ice.AlreadyRegisteredException,g=Ice.NotRegisteredException,y=Ice.Class({__init__:function(){this._factoryMap=new _},add:function(e,t){var n;if(void 0!==this._factoryMap.get(t))throw(n=new C).id=t,n.kindOfObject="object factory",n;this._factoryMap.set(t,e)},remove:function(e){var t,n;if(void 0===(t=this._factoryMap.get(e)))throw(n=new g).id=e,n.kindOfObject="object factory",n;this._factoryMap.del(e),t.destroy()},find:function(e){return this._factoryMap.get(e)},destroy:function(){var e=this._factoryMap.entries;for(this._factoryMap=new _;null!==e;)e.value.destroy(),e=e.next}}),Ice.ObjectFactoryManager=y,function(){var e=Ice.Promise,t=Ice.Class(e,{__init__:function(t,n,i,r,o){e.call(this),void 0!==t&&(this._communicator=t,this._instance=null!==t?t.instance:null,this._operation=n,this._connection=i,this._proxy=r,this._adapter=o)}}),n=t.prototype,i=Object.defineProperty;i(n,"communicator",{get:function(){return this._communicator}}),i(n,"connection",{get:function(){return this._connection}}),i(n,"proxy",{get:function(){return this._proxy}}),i(n,"adapter",{get:function(){return this._adapter}}),i(n,"operation",{get:function(){return this._operation}}),Ice.AsyncResultBase=t}(),B.defineDictionary(Ice,"Context","ContextHelper","Ice.StringHelper","Ice.StringHelper",!1,void 0,void 0),Ice.OperationMode=B.defineEnum([["Normal",0],["Nonmutating",1],["Idempotent",2]]),Ice.Current=B.defineStruct((function(e,t,n,i,r,o,c,s,a){this.adapter=void 0!==e?e:null,this.con=void 0!==t?t:null,this.id=void 0!==n?n:new Ice.Identity,this.facet=void 0!==i?i:"",this.operation=void 0!==r?r:"",this.mode=void 0!==o?o:Ice.OperationMode.Normal,this.ctx=void 0!==c?c:null,this.requestId=void 0!==s?s:0,this.encoding=void 0!==a?a:new Ice.EncodingVersion}),!1),Ice.ObjectFactory=Ice.Class({create:function(e){throw new Error("not implemented")},destroy:function(){throw new Error("not implemented")}}),I=Ice.Class(Error,{__init__:function(e){e instanceof Ice.LocalException?this._ex=e:(Ice.Debug.assert(e instanceof I),this._ex=e._ex)}}),m=I.prototype,Object.defineProperty(m,"inner",{get:function(){return this._ex}}),Ice.RetryException=I,Ice.EndpointSelectionType=B.defineEnum([["Random",0],["Ordered",1]]),function(){Ice.Promise;var e=Ice.ReferenceMode,t=Ice.Class({__init__:function(t,n,i){this._reference=t,this._response=t.getMode()==e.ModeTwoway,this._connection=n,this._compress=i},update:function(e,t){try{if(e===this)return t;if(e.getConnection()===this._connection)return t}catch(e){}return this},sendAsyncRequest:function(e){return e.__invokeRemote(this._connection,this._compress,this._response)},asyncRequestCanceled:function(e){return this._connection.asyncRequestCanceled(e)},getReference:function(){return this._reference},getConnection:function(){return this._connection}});Ice.ConnectionRequestHandler=t}(),function(){var e=Ice.Debug,t=Ice.HashMap,n=Ice.Protocol,i=Ice.StringUtil,r=Ice.OperationMode,o=Ice.Identity,c={traceSend:function(e,t,n){if(n.protocol>=1){var i=e.pos;e.pos=0;var r=[],o=l(r,e);t.trace(n.protocolCat,"sending "+u(o)+" "+r.join("")),e.pos=i}},traceRecv:function(e,t,n){if(n.protocol>=1){var i=e.pos;e.pos=0;var r=[],o=l(r,e);t.trace(n.protocolCat,"received "+u(o)+" "+r.join("")),e.pos=i}},trace:function(e,t,n,i){if(i.protocol>=1){var r=t.pos;t.pos=0;var o=[];o.push(e),l(o,t),n.trace(i.protocolCat,o.join("")),t.pos=r}}};new t;function s(e,t){var n=new o;n.__read(t),e.push("\nidentity = "+t.instance.identityToString(n));var r=Ice.StringSeqHelper.read(t);e.push("\nfacet = "),r.length>0&&e.push(i.escapeString(r[0],""));var c=t.readString();e.push("\noperation = "+c)}function a(e,t){s(e,t);var n=t.readByte();switch(e.push("\nmode = "+n+" "),r.valueOf(n)){case r.Normal:e.push("(normal)");break;case r.Nonmutating:e.push("(nonmutating)");break;case r.Idempotent:e.push("(idempotent)");break;default:e.push("(unknown)")}var i=t.readSize();for(e.push("\ncontext = ");i-- >0;){var o=t.readString(),c=t.readString();e.push(o+"/"+c),i>0&&e.push(", ")}var a=t.skipEncaps();a.equals(Ice.Encoding_1_0)||(e.push("\nencoding = "),e.push(Ice.encodingVersionToString(a)))}function l(t,i){var r=function(e,t){t.readByte(),t.readByte(),t.readByte(),t.readByte(),t.readByte(),t.readByte(),t.readByte(),t.readByte();var n=t.readByte();e.push("\nmessage type = "+n+" ("+u(n)+")");var i=t.readByte();switch(e.push("\ncompression status = "+i+" "),i){case 0:e.push("(not compressed; do not compress response, if any)");break;case 1:e.push("(not compressed; compress response, if any)");break;case 2:e.push("(compressed; compress response, if any)");break;default:e.push("(unknown)")}var r=t.readInt();return e.push("\nmessage size = "+r),n}(t,i);switch(r){case n.closeConnectionMsg:case n.validateConnectionMsg:break;case n.requestMsg:!function(e,t){var n=t.readInt();e.push("\nrequest id = "+n),0===n&&e.push(" (oneway)"),a(e,t)}(t,i);break;case n.requestBatchMsg:!function(e,t){var n=t.readInt();e.push("\nnumber of requests = "+n);for(var i=0;i<n;++i)e.push("\nrequest #"+i+":"),a(e,t)}(t,i);break;case n.replyMsg:!function(t,i){var r=i.readInt();t.push("\nrequest id = "+r);var o=i.readByte();switch(t.push("\nreply status = "+o+" "),o){case n.replyOK:t.push("(ok)");break;case n.replyUserException:t.push("(user exception)");break;case n.replyObjectNotExist:case n.replyFacetNotExist:case n.replyOperationNotExist:switch(o){case n.replyObjectNotExist:t.push("(object not exist)");break;case n.replyFacetNotExist:t.push("(facet not exist)");break;case n.replyOperationNotExist:t.push("(operation not exist)");break;default:e.assert(!1)}s(t,i);break;case n.replyUnknownException:case n.replyUnknownLocalException:case n.replyUnknownUserException:switch(o){case n.replyUnknownException:t.push("(unknown exception)");break;case n.replyUnknownLocalException:t.push("(unknown local exception)");break;case n.replyUnknownUserException:t.push("(unknown user exception)");break;default:e.assert(!1)}var c=i.readString();t.push("\nunknown = "+c);break;default:t.push("(unknown)")}if(o===n.replyOK||o===n.replyUserException){var a=i.skipEncaps();a.equals(Ice.Encoding_1_0)||(t.push("\nencoding = "),t.push(Ice.encodingVersionToString(a)))}}(t,i)}return r}function u(e){switch(e){case n.requestMsg:return"request";case n.requestBatchMsg:return"batch request";case n.replyMsg:return"reply";case n.closeConnectionMsg:return"close connection";case n.validateConnectionMsg:return"validate connection";default:return"unknown"}}c.dumpStream=function(e){var t=e.pos;e.pos=0;var n=e.readBlob(e.size());c.dumpOctets(n),e.pos=t},c.dumpOctets=function(e){for(var t=[],n=0;n<e.length;n+=8){var i;for(i=n;i-n<8;i++)if(i<e.length){var r,o=e[i];o<0&&(o+=256),r=o<10?"  "+o:o<100?" "+o:""+o,t.push(r+" ")}else t.push("    ");for(t.push('"'),i=n;i<e.length&&i-n<8;i++)e[i]>=32&&e[i]<127?t.push(String.fromCharCode(e[i])):t.push(".");t.push('"\n')}Cr.Utils.log(t.join(""))},Ice.TraceUtil=c}(),function(){var e=Ice.Logger,t=null;Ice.getProcessLogger=function(){return null===t&&(t=new e("","")),t},Ice.setProcessLogger=function(e){t=e}}(),S=Ice.UnexpectedObjectException,E=Ice.MemoryLimitException,Ice.ExUtil={throwUOE:function(e,t){var n=t.ice_id();throw new S("expected element of type `"+e+"' but received '"+n,n,e)},throwMemoryLimitException:function(e,t){throw new E("requested "+e+" bytes, maximum allowed is "+t+" bytes (see Ice.MessageSizeMax)")}},function(){var e=Ice.StringUtil,t=Ice.HashMap,n=(Ice.Promise,Ice.PropertyNames),i=Ice.Debug,r=(Ice.ProcessLogger,Ice.getProcessLogger),o=Ice.InitializationException,c=Ice.Class({__init__:function(e,n){if(this._properties=new t,null!=n)for(var i=n._properties.entries;null!==i;i=i.next)this._properties.set(i.key,{value:i.value.value,used:!1});if(null!=e){var r=this.parseIceCommandLineOptions(e);e.length=0;for(var o=0;o<r.length;++o)e.push(r[o])}},getProperty:function(e){return this.getPropertyWithDefault(e,"")},getPropertyWithDefault:function(e,t){var n=this._properties.get(e);return void 0!==n?(n.used=!0,n.value):t},getPropertyAsInt:function(e){return this.getPropertyAsIntWithDefault(e,0)},getPropertyAsIntWithDefault:function(e,t){var n=this._properties.get(e);return void 0!==n?(n.used=!0,parseInt(n.value)):t},getPropertyAsList:function(e){return this.getPropertyAsListWithDefault(e,0)},getPropertyAsListWithDefault:function(t,n){null==n&&(n=[]);var i=this._properties.get(t);if(void 0!==i){i.used=!0;var o=e.splitString(i.value,", \t\r\n");return null===o?(r().warning("mismatched quotes in property "+t+"'s value, returning default value"),n):(0===o.length&&(o=n),o)}return n},getPropertiesForPrefix:function(e){for(var n=new t,i=this._properties.entries;null!==i;i=i.next)null!=e&&0!==i.key.indexOf(e)||(i.value.used=!0,n.set(i.key,i.value.value));return n},setProperty:function(e,t){null!=e&&(e=e.trim());var c=r();if(null==e||0===e.length)throw new o("Attempt to set property with empty key");var s=e.indexOf(".");if(-1!==s)for(var a=e.substr(0,s),l=0;l<n.validProps.length;++l){var u=n.validProps[l][0].pattern;if(s=u.indexOf("."),i.assert(-1!=s),u.substring(0,s-1)==a){for(var d,h=!1,f=!1,p=0;p<n.validProps[l][p].length&&!h;++p){u=n.validProps[l][p].pattern();var _=new RegExp(u);if((h=_.test(e))&&n.validProps[l][p].deprecated&&(c.warning("deprecated property: "+e),null!==n.validProps[l][p].deprecatedBy&&(e=n.validProps[l][p].deprecatedBy)),h)break;if(h=(_=new RegExp(u.toUpperCase())).test(e.toUpperCase())){f=!0,d=(d=(d=u.substr(2)).substr(0,d.length-1)).replace(/\\/g,"");break}}h?f&&c.warning("unknown property: `"+e+"'; did you mean `"+d+"'"):c.warning("unknown property: "+e)}}if(null!=t&&t.length>0){var C=this._properties.get(e);void 0!==C?C.value=t:this._properties.set(e,{value:t,used:!1})}else this._properties.del(e)},getCommandLineOptions:function(){for(var e=[],t=this._properties.entries;null!==t;t=t.next)e.push("--"+t.key+"="+t.pv.value);return e},parseCommandLineOptions:function(e,t){e.length>0&&"."!=e.charAt(e.length-1)&&(e+="."),e="--"+e;var n=[],i=this;return t.forEach((function(t){0===t.indexOf(e)?(-1===t.indexOf("=")&&(t+="=1"),i.parseLine(t.substring(2))):n.push(t)})),n},parseIceCommandLineOptions:function(e){for(var t=e.slice(),i=0;i<n.clPropNames.length;++i)t=this.parseCommandLineOptions(n.clPropNames[i],t);return t},parse:function(e){for(var t,n=e.match(/[^\r\n]+/g);t=n.shift();)this.parseLine(t)},parseLine:function(e){for(var t="",n="",i=0,o="",c="",s=!1,a=0;a<e.length;++a){var l=e.charAt(a);switch(i){case 0:switch(l){case"\\":if(a<e.length-1)switch(l=e.charAt(++a)){case"\\":case"#":case"=":t+=o,o="",t+=l;break;case" ":0!==t.length&&(o+=l);break;default:t+=o,o="",t+="\\",t+=l}else t+=o,t+=l;break;case" ":case"\t":case"\r":case"\n":0!==t.length&&(o+=l);break;case"=":o="",i=1;break;case"#":s=!0;break;default:t+=o,o="",t+=l}break;case 1:switch(l){case"\\":if(a<e.length-1)switch(l=e.charAt(++a)){case"\\":case"#":case"=":n+=0===n.length?c:o,o="",c="",n+=l;break;case" ":o+=l,c+=l;break;default:n+=0===n.length?c:o,o="",c="",n+="\\",n+=l}else n+=0===n.length?c:o,n+=l;break;case" ":case"\t":case"\r":case"\n":0!==n.length&&(o+=l);break;case"#":s=!0;break;default:n+=0===n.length?c:o,o="",c="",n+=l}}if(s)break}n+=c,0===i&&0!==t.length||1==i&&0===t.length?r().warning('invalid config file entry: "'+e+'"'):0!==t.length&&this.setProperty(t,n)},clone:function(){return new c(null,this)},getUnusedProperties:function(){for(var e=[],t=this._properties.entries;null!==t;t=t.next)t.pv.used||e.push(t.key);return e}});c.createProperties=function(e,t){return new c(e,t)},Ice.Properties=c}(),function(){var e=Ice.Debug,t=Ice.HashMap,n=Ice.StringUtil,i=Ice.Class({__init__:function(e,n){this._instance=e,this._adapterName=n,this._servantMapMap=new t(t.compareEquals),this._defaultServantMap=new t,this._locatorMap=new t},addServant:function(i,r,o){e.assert(null!==this._instance),null===o&&(o="");var c=this._servantMapMap.get(r);if(void 0===c)c=new t,this._servantMapMap.set(r,c);else if(c.has(o)){var s=new Ice.AlreadyRegisteredException;throw s.id=this._instance.identityToString(r),s.kindOfObject="servant",o.length>0&&(s.id+=" -f "+n.escapeString(o,"")),s}c.set(o,i)},addDefaultServant:function(t,n){if(e.assert(null!==this._instance),void 0!==this._defaultServantMap.get(n)){var i=new Ice.AlreadyRegisteredException;throw i.kindOfObject="default servant",i.id=n,i}this._defaultServantMap.set(n,t)},removeServant:function(t,i){e.assert(null!==this._instance),null===i&&(i="");var r=this._servantMapMap.get(t);if(void 0===r||!r.has(i)){var o=new Ice.NotRegisteredException;throw o.id=this._instance.identityToString(t),o.kindOfObject="servant",i.length>0&&(o.id+=" -f "+n.escapeString(i,"")),o}var c=r.get(i);return r.del(i),0===r.size&&this._servantMapMap.del(t),c},removeDefaultServant:function(t){e.assert(null!==this._instance);var n=this._defaultServantMap.get(t);if(void 0===n){var i=new Ice.NotRegisteredException;throw i.kindOfObject="default servant",i.id=t,i}return this._defaultServantMap.del(t),n},removeAllFacets:function(t){e.assert(null!==this._instance);var n=this._servantMapMap.get(t);if(void 0===n){var i=new Ice.NotRegisteredException;throw i.id=this._instance.identityToString(t),i.kindOfObject="servant",i}return this._servantMapMap.del(t),n},findServant:function(e,t){null===t&&(t="");var n=this._servantMapMap.get(e),i=null;return void 0===n?void 0===(i=this._defaultServantMap.get(e.category))&&(i=this._defaultServantMap.get("")):i=n.get(t),void 0===i?null:i},findDefaultServant:function(t){e.assert(null!==this._instance);var n=this._defaultServantMap.get(t);return void 0===n?null:n},findAllFacets:function(n){e.assert(null!==this._instance);var i=this._servantMapMap.get(n);return void 0!==i?i.clone():new t},hasServant:function(t){var n=this._servantMapMap.get(t);return void 0!==n&&(e.assert(n.size>0),!0)},addServantLocator:function(t,i){if(e.assert(null!==this._instance),void 0!==this._locatorMap.get(i)){var r=new Ice.AlreadyRegisteredException;throw r.id=n.escapeString(i,""),r.kindOfObject="servant locator",r}this._locatorMap.set(i,t)},removeServantLocator:function(t){e.assert(null!==this._instance);var i=this._locatorMap.get(t);if(void 0===i){var r=new Ice.NotRegisteredException;throw r.id=n.escapeString(t,""),r.kindOfObject="servant locator",r}return this._locatorMap.del(t),i},findServantLocator:function(e){var t=this._locatorMap.get(e);return void 0===t?null:t},destroy:function(){e.assert(null!==this._instance);var t=this._instance.initializationData().logger;this._servantMapMap.clear(),this._defaultServantMap.clear();var n=this._locatorMap.clone();this._locatorMap.clear(),this._instance=null;for(var i=n.entries;null!==i;i=i.next){var r=i.value;try{r.deactivate(i.key)}catch(e){var o="exception during locator deactivation:\nobject adapter: `"+this._adapterName+"'\nlocator category: `"+i.key+"'\n"+e.toString();t.error(o)}}}});Ice.ServantManager=i}(),function(){var e=Ice.__M,t=Ice.Debug,n=Ice.ExUtil,i=Ice.FormatType,r=Ice.HashMap,o=Ice.Object,c=Ice.OptionalFormat,s=Ice.Protocol,a=Ice.TraceUtil,l=Ice.ArrayUtil,u=Ice.SlicedData,d={NoSlice:0,ObjectSlice:1,ExceptionSlice:2};Number.isNaN=Number.isNaN||function(e){return"number"==typeof e&&isNaN(e)};var h=function(e,t){this.index=e,this.patcher=t},f=Ice.Class,p=f({__init__:function(e,t,n,i){this._stream=e,this._encaps=t,this._sliceObjects=n,this._servantFactoryManager=i,this._patchMap=null,this._unmarshaledMap=new r,this._typeIdMap=null,this._typeIdIndex=0,this._objectList=null},readOpt:function(){return!1},readPendingObjects:function(){},readTypeId:function(e){var t,n;if(null===this._typeIdMap&&(this._typeIdMap=new r),e){if(n=this._stream.readSize(),void 0===(t=this._typeIdMap.get(n)))throw new Ice.UnmarshalOutOfBoundsException}else t=this._stream.readString(),this._typeIdMap.set(++this._typeIdIndex,t);return t},newInstance:function(e){var t=this._servantFactoryManager.find(e),n=null;return void 0!==t&&(n=t.create(e)),null==n&&void 0!==(t=this._servantFactoryManager.find(""))&&(n=t.create(e)),null==n&&(n=this._stream.createObject(e)),n},addPatchEntry:function(e,n){t.assert(e>0);var i=this._unmarshaledMap.get(e);if(null==i){null===this._patchMap&&(this._patchMap=new r);var o=this._patchMap.get(e);void 0===o&&(o=[],this._patchMap.set(e,o)),o.push(n)}else n.call(null,i)},unmarshal:function(e,n){var i,r,o;if(this._unmarshaledMap.set(e,n),n.__read(this._stream),null!==this._patchMap&&void 0!==(o=this._patchMap.get(e))){for(t.assert(o.length>0),i=0,r=o.length;i<r;++i)o[i](n);this._patchMap.del(e)}if(null!==this._patchMap&&0!==this._patchMap.size||null!==this._objectList){if(null===this._objectList&&(this._objectList=[]),this._objectList.push(n),null===this._patchMap||0===this._patchMap.size){for(i=0,r=this._objectList.length;i<r;i++)try{this._objectList[i].ice_postUnmarshal()}catch(e){this._stream.instance.initializationData().logger.warning("exception raised by ice_postUnmarshal:\n"+e.toString())}this._objectList=[]}}else try{n.ice_postUnmarshal()}catch(e){this._stream.instance.initializationData().logger.warning("exception raised by ice_postUnmarshal:\n"+e.toString())}}}),_=f(p,{__init__:function(e,t,n,i){p.call(this,e,t,n,i),this._sliceType=d.NoSlice},readObject:function(e){t.assert(null!==e);var n=this._stream.readInt();if(n>0)throw new Ice.MarshalException("invalid object id");0===(n=-n)?e.call(null,null):this.addPatchEntry(n,e)},throwException:function(){t.assert(this._sliceType===d.NoSlice);var e=this._stream.readBool();this._sliceType=d.ExceptionSlice,this._skipFirstSlice=!1,this.startSlice();for(var n=this._typeId;;){var i=this._stream.createUserException(this._typeId);if(null!==i)throw i.__read(this._stream),e&&this.readPendingObjects(),i;this.skipSlice();try{this.startSlice()}catch(e){throw e instanceof Ice.UnmarshalOutOfBoundsException&&(e.reason="unknown exception type `"+n+"'"),e}}},startInstance:function(e){t.assert(this._sliceType===e),this._skipFirstSlice=!0},endInstance:function(){if(this._sliceType===d.ObjectSlice){if(this.startSlice(),0!==this._stream.readSize())throw new Ice.MarshalException("invalid Object slice");this.endSlice()}return this._sliceType=d.NoSlice,null},startSlice:function(){var e;if(this._skipFirstSlice)return this._skipFirstSlice=!1,this._typeId;if(this._sliceType===d.ObjectSlice?(e=this._stream.readBool(),this._typeId=this.readTypeId(e)):this._typeId=this._stream.readString(),this._sliceSize=this._stream.readInt(),this._sliceSize<4)throw new Ice.UnmarshalOutOfBoundsException;return this._typeId},endSlice:function(){},skipSlice:function(){if(this._stream.instance.traceLevels().slicing>0){var e=this._stream.instance.initializationData().logger;this._sliceType===d.ObjectSlice?a.traceSlicing("object",this._typeId,this._stream.instance.traceLevels().slicingCat,e):a.traceSlicing("exception",this._typeId,this._stream.instance.traceLevels().slicingCat,e)}t.assert(this._sliceSize>=4),this._stream.skip(this._sliceSize-4)},readPendingObjects:function(){var e,t;do{for(e=t=this._stream.readSize();e>0;--e)this.readInstance()}while(t>0);if(null!==this._patchMap&&0!==this._patchMap.size)throw new Ice.MarshalException("index for class received, but no instance")},readInstance:function(){var e,t=this._stream.readInt(),n=null;if(t<=0)throw new Ice.MarshalException("invalid object id");for(this._sliceType=d.ObjectSlice,this._skipFirstSlice=!1,this.startSlice(),e=this._typeId;;){if(this._typeId==o.ice_staticId())throw new Ice.NoObjectFactoryException("",e);if(n=this.newInstance(this._typeId))break;if(!this._sliceObjects)throw new Ice.NoObjectFactoryException("no object factory found and object slicing is disabled",this._typeId);this.skipSlice(),this.startSlice()}this.unmarshal(t,n)}}),C=f(p,{__init__:function(e,t,n,i){p.call(this,e,t,n,i),this._current=null,this._objectIdIndex=1},readObject:function(e){t.assert(void 0!==e);var n=this._stream.readSize();if(n<0)throw new Ice.MarshalException("invalid object id");if(0===n)null!==e&&e.call(null,null);else if(null!==this._current&&0!=(8&this._current.sliceFlags)){if(null!==e){null===this._current.indirectPatchList&&(this._current.indirectPatchList=[]);var i=new h;i.index=n-1,i.patcher=e,this._current.indirectPatchList.push(i)}}else this.readInstance(n,e)},throwException:function(){t.assert(null===this._current),this.push(d.ExceptionSlice),this.startSlice();for(var e=this._current.typeId;;){var n=this._stream.createUserException(this._current.typeId);if(null!==n)throw n.__read(this._stream),n;if(this.skipSlice(),0!=(32&this._current.sliceFlags)){if(0===e.indexOf("::"))throw new Ice.UnknownUserException(e.substr(2));throw new Ice.UnknownUserException(e)}this.startSlice()}},startInstance:function(e){t.assert(void 0!==e),t.assert(null!==this._current.sliceType&&this._current.sliceType===e),this._current.skipFirstSlice=!0},endInstance:function(e){var t=null;return e&&(t=this.readSlicedData()),null!==this._current.slices&&(this._current.slices.length=0,this._current.indirectionTables.length=0),this._current=this._current.previous,t},startSlice:function(){if(this._current.skipFirstSlice)return this._current.skipFirstSlice=!1,this._current.typeId;if(this._current.sliceFlags=this._stream.readByte(),this._current.sliceType===d.ObjectSlice?3==(3&this._current.sliceFlags)?(this._current.typeId="",this._current.compactId=this._stream.readSize()):0!=(3&this._current.sliceFlags)?(this._current.typeId=this.readTypeId(0!=(2&this._current.sliceFlags)),this._current.compactId=-1):(this._current.typeId="",this._current.compactId=-1):(this._current.typeId=this._stream.readString(),this._current.compactId=-1),0!=(16&this._current.sliceFlags)){if(this._current.sliceSize=this._stream.readInt(),this._current.sliceSize<4)throw new Ice.UnmarshalOutOfBoundsException}else this._current.sliceSize=0;return this._current.typeId},endSlice:function(){var e,n,i,r=[];if(0!=(4&this._current.sliceFlags)&&this._stream.skipOpts(),0!=(8&this._current.sliceFlags)){for(i=this._stream.readAndCheckSeqSize(1),n=0;n<i;++n)r[n]=this.readInstance(this._stream.readSize(),null);if(0===r.length)throw new Ice.MarshalException("empty indirection table");if((null===this._current.indirectPatchList||0===this._current.indirectPatchList.length)&&0==(4&this._current.sliceFlags))throw new Ice.MarshalException("no references to indirection table");if(null!==this._current.indirectPatchList){for(n=0,i=this._current.indirectPatchList.length;n<i;++n){if(e=this._current.indirectPatchList[n],t.assert(e.index>=0),e.index>=r.length)throw new Ice.MarshalException("indirection out of range");this.addPatchEntry(r[e.index],e.patcher)}this._current.indirectPatchList.length=0}}},skipSlice:function(){if(this._stream.instance.traceLevels().slicing>0){var e=this._stream.instance.initializationData().logger,n=this._stream.instance.traceLevels().slicingCat;this._current.sliceType===d.ExceptionSlice?a.traceSlicing("exception",this._current.typeId,n,e):a.traceSlicing("object",this._current.typeId,n,e)}var i=this._stream.pos;if(0==(16&this._current.sliceFlags)){if(this._current.sliceType===d.ObjectSlice)throw new Ice.NoObjectFactoryException("no object factory found and compact format prevents slicing (the sender should use the sliced format instead)",this._current.typeId);if(0===this._current.typeId.indexOf("::"))throw new Ice.UnknownUserException(this._current.typeId.substring(2));throw new Ice.UnknownUserException(this._current.typeId)}t.assert(this._current.sliceSize>=4),this._stream.skip(this._current.sliceSize-4);var r=new Ice.SliceInfo;r.typeId=this._current.typeId,r.compactId=this._current.compactId,r.hasOptionalMembers=0!=(4&this._current.sliceFlags),r.isLastSlice=0!=(32&this._current.sliceFlags);var o=this._stream._buf,c=o.position,s=c;if(r.hasOptionalMembers&&--s,o.position=i,r.bytes=o.getArray(s-i),o.position=c,null===this._current.slices&&(this._current.slices=[],this._current.indirectionTables=[]),0!=(8&this._current.sliceFlags)){for(var l=this._stream.readAndCheckSeqSize(1),u=[],h=0;h<l;++h)u[h]=this.readInstance(this._stream.readSize(),null);this._current.indirectionTables.push(u)}else this._current.indirectionTables.push(null);this._current.slices.push(r)},readOpt:function(e,t){return(null===this._current||0!=(4&this._current.sliceFlags))&&this._stream.readOptImpl(e,t)},readInstance:function(e,n){t.assert(e>0);var i,r=null;if(e>1)return null!==n&&this.addPatchEntry(e,n),e;for(this.push(d.ObjectSlice),e=++this._objectIdIndex,this.startSlice(),i=this._current.typeId;this._current.compactId>=0&&(this._current.typeId="",0===this._current.typeId.length&&(this._current.typeId=this._stream.getTypeId(this._current.compactId))),!(this._current.typeId.length>0&&null!=(r=this.newInstance(this._current.typeId)));){if(!this._sliceObjects)throw new Ice.NoObjectFactoryException("no object factory found and object slicing is disabled",this._current.typeId);if(this.skipSlice(),0!=(32&this._current.sliceFlags)){r=new Ice.UnknownSlicedObject(i);break}this.startSlice()}if(this.unmarshal(e,r),null===this._current&&null!==this._patchMap&&0!==this._patchMap.size)throw new Ice.MarshalException("index for class received, but no instance");return null!==n&&n.call(null,r),e},readSlicedData:function(){var e,n,i,r,c,s;if(null===this._current.slices)return null;for(t.assert(this._current.slices.length===this._current.indirectionTables.length),e=0,n=this._current.slices.length;e<n;++e)for(i=this._current.indirectionTables[e],(r=this._current.slices[e]).objects=[],s=i?i.length:0,c=0;c<s;++c)this.addPatchEntry(i[c],g(r.objects,c,o));return new u(l.clone(this._current.slices))},push:function(e){null===this._current?this._current=new C.InstanceData(null):this._current=this._current.next?this._current.next:new C.InstanceData(this._current),this._current.sliceType=e,this._current.skipFirstSlice=!1}});C.InstanceData=function(e){null!==e&&(e.next=this),this.previous=e,this.next=null,this.sliceType=null,this.skipFirstSlice=!1,this.slices=null,this.indirectionTables=null,this.sliceFlags=0,this.sliceSize=0,this.typeId=null,this.compactId=0,this.indirectPatchList=null};var g=function(e,t,i){return function(r){null===r||r instanceof i||n.throwUOE(i.ice_staticId(),r),e[t]=r}},y=f({__init__:function(e,t){this._stream=e,this._encaps=t,this._marshaledMap=new r,this._typeIdMap=null,this._typeIdIndex=0},writeOpt:function(){return!1},writePendingObjects:function(){},registerTypeId:function(e){null===this._typeIdMap&&(this._typeIdMap=new r);var t=this._typeIdMap.get(e);return void 0!==t?t:(this._typeIdMap.set(e,++this._typeIdIndex),-1)}}),I=f(y,{__init__:function(e,t){y.call(this,e,t),this._sliceType=d.NoSlice,this._writeSlice=0,this._objectIdIndex=0,this._toBeMarshaledMap=new r},writeObject:function(e){t.assert(void 0!==e),null!==e?this._stream.writeInt(-this.registerObject(e)):this._stream.writeInt(0)},writeUserException:function(e){t.assert(null!=e);var n=e.__usesClasses();this._stream.writeBool(n),e.__write(this._stream),n&&this.writePendingObjects()},startInstance:function(e){this._sliceType=e},endInstance:function(){this._sliceType===d.ObjectSlice&&(this.startSlice(o.ice_staticId(),-1,!0),this._stream.writeSize(0),this.endSlice()),this._sliceType=d.NoSlice},startSlice:function(e){if(this._sliceType===d.ObjectSlice){var t=this.registerTypeId(e);t<0?(this._stream.writeBool(!1),this._stream.writeString(e)):(this._stream.writeBool(!0),this._stream.writeSize(t))}else this._stream.writeString(e);this._stream.writeInt(0),this._writeSlice=this._stream.pos},endSlice:function(){var e=this._stream.pos-this._writeSlice+4;this._stream.rewriteInt(e,this._writeSlice-4)},writePendingObjects:function(){for(var e,t=this,n=function(e,n){t._stream.writeInt(n);try{e.ice_preMarshal()}catch(e){t._stream.instance.initializationData().logger.warning("exception raised by ice_preMarshal:\n"+e.toString())}e.__write(t._stream)};this._toBeMarshaledMap.size>0;)this._marshaledMap.merge(this._toBeMarshaledMap),e=this._toBeMarshaledMap,this._toBeMarshaledMap=new r,this._stream.writeSize(e.size),e.forEach(n);this._stream.writeSize(0)},registerObject:function(e){t.assert(null!==e);var n=this._toBeMarshaledMap.get(e);return void 0!==n||void 0!==(n=this._marshaledMap.get(e))?n:(this._toBeMarshaledMap.set(e,++this._objectIdIndex),this._objectIdIndex)}}),v=f(y,{__init__:function(e,t){y.call(this,e,t),this._current=null,this._objectIdIndex=1},writeObject:function(e){var n,o;t.assert(void 0!==e),null===e?this._stream.writeSize(0):null!==this._current&&this._encaps.format===i.SlicedFormat?(null===this._current.indirectionTable&&(this._current.indirectionTable=[],this._current.indirectionMap=new r),void 0===(n=this._current.indirectionMap.get(e))?(this._current.indirectionTable.push(e),o=this._current.indirectionTable.length,this._current.indirectionMap.set(e,o),this._stream.writeSize(o)):this._stream.writeSize(n)):this.writeInstance(e)},writePendingObjects:function(){},writeUserException:function(e){t.assert(null!=e),e.__write(this._stream)},startInstance:function(e,t){null===this._current?this._current=new v.InstanceData(null):this._current=null===this._current.next?new v.InstanceData(this._current):this._current.next,this._current.sliceType=e,this._current.firstSlice=!0,null!=t&&this.writeSlicedData(t)},endInstance:function(){this._current=this._current.previous},startSlice:function(e,n,r){if(t.assert(!(null!==this._current.indirectionTable&&0!==this._current.indirectionTable.length||null!==this._current.indirectionMap&&0!==this._current.indirectionMap.size)),this._current.sliceFlagsPos=this._stream.pos,this._current.sliceFlags=0,this._encaps.format===i.SlicedFormat&&(this._current.sliceFlags|=16),r&&(this._current.sliceFlags|=32),this._stream.writeByte(0),this._current.sliceType===d.ObjectSlice){if(this._encaps.format===i.SlicedFormat||this._current.firstSlice)if(n>=0)this._current.sliceFlags|=3,this._stream.writeSize(n);else{var o=this.registerTypeId(e);o<0?(this._current.sliceFlags|=1,this._stream.writeString(e)):(this._current.sliceFlags|=2,this._stream.writeSize(o))}}else this._stream.writeString(e);0!=(16&this._current.sliceFlags)&&this._stream.writeInt(0),this._current.writeSlice=this._stream.pos,this._current.firstSlice=!1},endSlice:function(){var e,n,r;if(0!=(4&this._current.sliceFlags)&&this._stream.writeByte(255),0!=(16&this._current.sliceFlags)&&(e=this._stream.pos-this._current.writeSlice+4,this._stream.rewriteInt(e,this._current.writeSlice-4)),null!==this._current.indirectionTable&&0!==this._current.indirectionTable.length){for(t.assert(this._encaps.format===i.SlicedFormat),this._current.sliceFlags|=8,this._stream.writeSize(this._current.indirectionTable.length),n=0,r=this._current.indirectionTable.length;n<r;++n)this.writeInstance(this._current.indirectionTable[n]);this._current.indirectionTable.length=0,this._current.indirectionMap.clear()}this._stream.rewriteByte(this._current.sliceFlags,this._current.sliceFlagsPos)},writeOpt:function(e,t){return null===this._current?this._stream.writeOptImpl(e,t):!!this._stream.writeOptImpl(e,t)&&(this._current.sliceFlags|=4,!0)},writeSlicedData:function(e){var n,o,c,s,a;if(t.assert(null!=e),this._encaps.format===i.SlicedFormat)for(n=0,o=e.slices.length;n<o;++n){if(c=e.slices[n],this.startSlice(c.typeId,c.compactId,c.isLastSlice),this._stream.writeBlob(c.bytes),c.hasOptionalMembers&&(this._current.sliceFlags|=4),null!==c.objects&&c.objects.length>0)for(null===this._current.indirectionTable&&(this._current.indirectionTable=[],this._current.indirectionMap=new r),s=0,a=c.objects.length;s<a;++s)this._current.indirectionTable.push(c.objects[s]);this.endSlice()}},writeInstance:function(e){t.assert(null!=e);var n=this._marshaledMap.get(e);if(void 0===n){this._marshaledMap.set(e,++this._objectIdIndex);try{e.ice_preMarshal()}catch(e){this._stream.instance.initializationData().logger.warning("exception raised by ice_preMarshal:\n"+e.toString())}this._stream.writeSize(1),e.__write(this._stream)}else this._stream.writeSize(n)}});v.InstanceData=function(e){t.assert(void 0!==e),null!==e&&(e.next=this),this.previous=e,this.next=null,this.sliceType=null,this.firstSlice=!1,this.sliceFlags=0,this.writeSlice=0,this.sliceFlagsPos=0,this.indirectionTable=null,this.indirectionMap=null};var m=f({__init__:function(){this.start=0,this.sz=0,this.encoding=null,this.encoding_1_0=!1,this.decoder=null,this.next=null},reset:function(){this.decoder=null},setEncoding:function(e){this.encoding=e,this.encoding_1_0=e.equals(Ice.Encoding_1_0)}}),S=f({__init__:function(){this.start=0,this.format=i.DefaultFormat,this.encoding=null,this.encoding_1_0=!1,this.encoder=null,this.next=null},reset:function(){this.encoder=null},setEncoding:function(e){this.encoding=e,this.encoding_1_0=e.equals(Ice.Encoding_1_0)}}),E=f({__init__:function(e,t,n){this._instance=e,this._closure=null,this._encoding=t,this._readEncapsStack=null,this._writeEncapsStack=null,this._readEncapsCache=null,this._writeEncapsCache=null,this._sliceObjects=!0,this._startSeq=-1,this._sizePos=-1,this._buf=void 0!==n?new Ice.Buffer(n):new Ice.Buffer},reset:function(){this._buf.reset(),this.clear()},clear:function(){null!==this._readEncapsStack&&(t.assert(this._readEncapsStack.next),this._readEncapsStack.next=this._readEncapsCache,this._readEncapsCache=this._readEncapsStack,this._readEncapsCache.reset(),this._readEncapsStack=null),null!==this._writeEncapsStack&&(t.assert(this._writeEncapsStack.next),this._writeEncapsStack.next=this._writeEncapsCache,this._writeEncapsCache=this._writeEncapsStack,this._writeEncapsCache.reset(),this._writeEncapsStack=null),this._startSeq=-1,this._sliceObjects=!0},swap:function(e){var n,i,r,o,c;t.assert(this._instance===e._instance),n=e._buf,e._buf=this._buf,this._buf=n,i=e._closure,e._closure=this._closure,this._closure=i,this.resetEncaps(),e.resetEncaps(),r=e._startSeq,e._startSeq=this._startSeq,this._startSeq=r,o=e._minSeqSize,e._minSeqSize=this._minSeqSize,this._minSeqSize=o,c=e._sizePos,e._sizePos=this._sizePos,this._sizePos=c},resetEncaps:function(){this._readEncapsStack=null,this._writeEncapsStack=null},resize:function(e){this._buf.resize(e),this._buf.position=e},prepareWrite:function(){return this._buf.position=0,this._buf},startWriteObject:function(e){t.assert(null!==this._writeEncapsStack&&null!==this._writeEncapsStack.encoder),this._writeEncapsStack.encoder.startInstance(d.ObjectSlice,e)},endWriteObject:function(){t.assert(null!==this._writeEncapsStack&&null!==this._writeEncapsStack.encoder),this._writeEncapsStack.encoder.endInstance()},startReadObject:function(){t.assert(null!==this._readEncapsStack&&null!==this._readEncapsStack.decoder),this._readEncapsStack.decoder.startInstance(d.ObjectSlice)},endReadObject:function(e){return t.assert(null!==this._readEncapsStack&&null!==this._readEncapsStack.decoder),this._readEncapsStack.decoder.endInstance(e)},startWriteException:function(e){t.assert(null!==this._writeEncapsStack&&null!==this._writeEncapsStack.encoder),this._writeEncapsStack.encoder.startInstance(d.ExceptionSlice,e)},endWriteException:function(){t.assert(null!==this._writeEncapsStack&&null!==this._writeEncapsStack.encoder),this._writeEncapsStack.encoder.endInstance()},startReadException:function(){t.assert(null!==this._readEncapsStack&&null!==this._readEncapsStack.decoder),this._readEncapsStack.decoder.startInstance(d.ExceptionSlice)},endReadException:function(e){return t.assert(null!==this._readEncapsStack&&null!==this._readEncapsStack.decoder),this._readEncapsStack.decoder.endInstance(e)},startWriteEncaps:function(e,t){void 0===e&&(null!==this._writeEncapsStack?(e=this._writeEncapsStack.encoding,t=this._writeEncapsStack.format):(e=this._encoding,t=i.DefaultFormat)),s.checkSupportedEncoding(e);var n=this._writeEncapsCache;null!==n?(n.reset(),this._writeEncapsCache=this._writeEncapsCache.next):n=new S,n.next=this._writeEncapsStack,this._writeEncapsStack=n,this._writeEncapsStack.format=t,this._writeEncapsStack.setEncoding(e),this._writeEncapsStack.start=this._buf.limit,this.writeInt(0),this._writeEncapsStack.encoding.__write(this)},endWriteEncaps:function(){t.assert(this._writeEncapsStack);var e=this._writeEncapsStack.start,n=this._buf.limit-e;this._buf.putIntAt(e,n);var i=this._writeEncapsStack;this._writeEncapsStack=i.next,i.next=this._writeEncapsCache,this._writeEncapsCache=i,this._writeEncapsCache.reset()},endWriteEncapsChecked:function(){if(null===this._writeEncapsStack)throw new Ice.EncapsulationException("not in an encapsulation");this.endWriteEncaps()},writeEmptyEncaps:function(e){s.checkSupportedEncoding(e),this.writeInt(6),e.__write(this)},writeEncaps:function(e){if(e.length<6)throw new Ice.EncapsulationException;this.expand(e.length),this._buf.putArray(e)},getWriteEncoding:function(){return null!==this._writeEncapsStack?this._writeEncapsStack.encoding:this._encoding},startReadEncaps:function(){var e=this._readEncapsCache;null!==e?(e.reset(),this._readEncapsCache=this._readEncapsCache.next):e=new m,e.next=this._readEncapsStack,this._readEncapsStack=e,this._readEncapsStack.start=this._buf.position;var t=this.readInt();if(t<6)throw new Ice.UnmarshalOutOfBoundsException;if(t-4>this._buf.remaining)throw new Ice.UnmarshalOutOfBoundsException;this._readEncapsStack.sz=t;var n=new Ice.EncodingVersion;return n.__read(this),s.checkSupportedEncoding(n),this._readEncapsStack.setEncoding(n),n},endReadEncaps:function(){if(t.assert(null!==this._readEncapsStack),this._readEncapsStack.encoding_1_0){if(this._buf.position!==this._readEncapsStack.start+this._readEncapsStack.sz){if(this._buf.position+1!==this._readEncapsStack.start+this._readEncapsStack.sz)throw new Ice.EncapsulationException;try{this._buf.get()}catch(e){throw new Ice.UnmarshalOutOfBoundsException}}}else if(this.skipOpts(),this._buf.position!==this._readEncapsStack.start+this._readEncapsStack.sz)throw new Ice.EncapsulationException;var e=this._readEncapsStack;this._readEncapsStack=e.next,e.next=this._readEncapsCache,this._readEncapsCache=e,this._readEncapsCache.reset()},skipEmptyEncaps:function(e){if(t.assert(void 0!==e),6!==this.readInt())throw new Ice.EncapsulationException;var n=this._buf.position;if(n+2>this._buf.limit)throw new Ice.UnmarshalOutOfBoundsException;null!==e?e.__read(this):this._buf.position=n+2},endReadEncapsChecked:function(){if(null===this._readEncapsStack)throw new Ice.EncapsulationException("not in an encapsulation");this.endReadEncaps()},readEncaps:function(e){t.assert(void 0!==e);var n=this.readInt();if(n<6)throw new Ice.UnmarshalOutOfBoundsException;if(n-4>this._buf.remaining)throw new Ice.UnmarshalOutOfBoundsException;null!==e?(e.__read(this),this._buf.position=this._buf.position-6):this._buf.position=this._buf.position-4;try{return this._buf.getArray(n)}catch(e){throw new Ice.UnmarshalOutOfBoundsException}},getReadEncoding:function(){return null!==this._readEncapsStack?this._readEncapsStack.encoding:this._encoding},getReadEncapsSize:function(){return t.assert(null!==this._readEncapsStack),this._readEncapsStack.sz-6},skipEncaps:function(){var e=this.readInt();if(e<6)throw new Ice.UnmarshalOutOfBoundsException;var t=new Ice.EncodingVersion;t.__read(this);try{this._buf.position=this._buf.position+e-6}catch(e){throw new Ice.UnmarshalOutOfBoundsException}return t},startWriteSlice:function(e,n,i){t.assert(null!==this._writeEncapsStack&&null!==this._writeEncapsStack.encoder),this._writeEncapsStack.encoder.startSlice(e,n,i)},endWriteSlice:function(){t.assert(null!==this._writeEncapsStack&&null!==this._writeEncapsStack.encoder),this._writeEncapsStack.encoder.endSlice()},startReadSlice:function(){return t.assert(null!==this._readEncapsStack&&null!==this._readEncapsStack.decoder),this._readEncapsStack.decoder.startSlice()},endReadSlice:function(){t.assert(null!==this._readEncapsStack&&null!==this._readEncapsStack.decoder),this._readEncapsStack.decoder.endSlice()},skipSlice:function(){t.assert(null!==this._readEncapsStack&&null!==this._readEncapsStack.decoder),this._readEncapsStack.decoder.skipSlice()},readPendingObjects:function(){null!==this._readEncapsStack&&null!==this._readEncapsStack.decoder?this._readEncapsStack.decoder.readPendingObjects():(null!==this._readEncapsStack&&this._readEncapsStack.encoding_1_0||null===this._readEncapsStack&&this._encoding.equals(Ice.Encoding_1_0))&&this.skipSize()},writePendingObjects:function(){null!==this._writeEncapsStack&&null!==this._writeEncapsStack.encoder?this._writeEncapsStack.encoder.writePendingObjects():(null!==this._writeEncapsStack&&this._writeEncapsStack.encoding_1_0||null===this._writeEncapsStack&&this._encoding.equals(Ice.Encoding_1_0))&&this.writeSize(0)},writeSize:function(e){e>254?(this.expand(5),this._buf.put(255),this._buf.putInt(e)):(this.expand(1),this._buf.put(e))},readSize:function(){try{var e=this._buf.get();if(255===e){var t=this._buf.getInt();if(t<0)throw new Ice.UnmarshalOutOfBoundsException;return t}return e}catch(e){throw new Ice.UnmarshalOutOfBoundsException}},readAndCheckSeqSize:function(e){var t=this.readSize();if(0===t)return t;if(-1===this._startSeq||this._buf.position>this._startSeq+this._minSeqSize?(this._startSeq=this._buf.position,this._minSeqSize=t*e):this._minSeqSize+=t*e,this._startSeq+this._minSeqSize>this._buf.limit)throw new Ice.UnmarshalOutOfBoundsException;return t},startSize:function(){var e=this._buf.position;return this.writeInt(0),e},endSize:function(e){t.assert(e>=0),this.rewriteInt(this._buf.position-e-4,e)},writeBlob:function(e){null!==e&&(this.expand(e.length),this._buf.putArray(e))},readBlob:function(e){if(this._buf.remaining<e)throw new Ice.UnmarshalOutOfBoundsException;try{return this._buf.getArray(e)}catch(e){throw new Ice.UnmarshalOutOfBoundsException}},writeOpt:function(e,n){return t.assert(null!==this._writeEncapsStack),null!==this._writeEncapsStack.encoder?this._writeEncapsStack.encoder.writeOpt(e,n):this.writeOptImpl(e,n)},readOpt:function(e,n){return t.assert(null!==this._readEncapsStack),null!==this._readEncapsStack.decoder?this._readEncapsStack.decoder.readOpt(e,n):this.readOptImpl(e,n)},writeOptValue:function(e,t,n,i){void 0!==i&&this.writeOpt(e,t)&&n.call(this,i)},readOptValue:function(e,t,n){return this.readOpt(e,t)?n.call(this):void 0},writeByte:function(e){this.expand(1),this._buf.put(e)},rewriteByte:function(e,t){this._buf.putAt(t,e)},readByte:function(){try{return this._buf.get()}catch(e){throw new Ice.UnmarshalOutOfBoundsException}},writeByteSeq:function(e){null===e||0===e.length?this.writeSize(0):(this.writeSize(e.length),this.expand(e.length),this._buf.putArray(e))},readByteSeq:function(){return this._buf.getArray(this.readAndCheckSeqSize(1))},writeBool:function(e){this.expand(1),this._buf.put(e?1:0)},rewriteBool:function(e,t){this._buf.putAt(t,e?1:0)},readBool:function(){try{return 1===this._buf.get()}catch(e){throw new Ice.UnmarshalOutOfBoundsException}},writeShort:function(e){this.expand(2),this._buf.putShort(e)},readShort:function(){try{return this._buf.getShort()}catch(e){throw new Ice.UnmarshalOutOfBoundsException}},writeInt:function(e){this.expand(4),this._buf.putInt(e)},rewriteInt:function(e,t){this._buf.putIntAt(t,e)},readInt:function(){try{return this._buf.getInt()}catch(e){throw new Ice.UnmarshalOutOfBoundsException}},writeLong:function(e){this.expand(8),this._buf.putLong(e)},readLong:function(){try{return this._buf.getLong()}catch(e){throw new Ice.UnmarshalOutOfBoundsException}},writeFloat:function(e){this.expand(4),this._buf.putFloat(e)},readFloat:function(){try{return this._buf.getFloat()}catch(e){throw new Ice.UnmarshalOutOfBoundsException}},writeDouble:function(e){this.expand(8),this._buf.putDouble(e)},readDouble:function(){try{return this._buf.getDouble()}catch(e){throw new Ice.UnmarshalOutOfBoundsException}},writeString:function(e){null==e||0===e.length?this.writeSize(0):this._buf.writeString(this,e)},readString:function(){var e=this.readSize();if(0===e)return"";if(this._buf.remaining<e)throw new Ice.UnmarshalOutOfBoundsException;try{return this._buf.getString(e)}catch(e){throw new Ice.UnmarshalOutOfBoundsException}},writeProxy:function(e){this._instance.proxyFactory().proxyToStream(e,this)},writeOptProxy:function(e,t){if(void 0!==t&&this.writeOpt(e,c.FSize)){var n=this.startSize();this.writeProxy(t),this.endSize(n)}},readProxy:function(e){return this._instance.proxyFactory().streamToProxy(this,e)},readOptProxy:function(e,t){return this.readOpt(e,c.FSize)?(this.skip(4),this.readProxy(t)):void 0},writeEnum:function(e){this.isWriteEncoding_1_0()?e.maxValue<127?this.writeByte(e.value):e.maxValue<32767?this.writeShort(e.value):this.writeInt(e.value):this.writeSize(e.value)},readEnum:function(e){var t;t=this.getReadEncoding().equals(Ice.Encoding_1_0)?e.maxValue<127?this.readByte():e.maxValue<32767?this.readShort():this.readInt():this.readSize();var n=e.valueOf(t);if(void 0===n)throw new Ice.MarshalException("enumerator value "+t+" is out of range");return n},readOptEnum:function(e,t){return this.readOpt(e,c.Size)?this.readEnum(t):void 0},writeObject:function(e){this.initWriteEncaps(),this._writeEncapsStack.encoder.writeObject(e)},writeOptObject:function(e,t){void 0!==t&&this.writeOpt(e,c.Class)&&this.writeObject(t)},readObject:function(e,t){this.initReadEncaps(),this._readEncapsStack.decoder.readObject.call(this._readEncapsStack.decoder,(function(i){null===i||i.ice_instanceof(t)||n.throwUOE(t.ice_staticId(),i),e(i)}))},readOptObject:function(e,t,n){this.readOpt(e,c.Class)?this.readObject(t,n):t(void 0)},writeUserException:function(e){this.initWriteEncaps(),this._writeEncapsStack.encoder.writeUserException(e)},throwException:function(){this.initReadEncaps(),this._readEncapsStack.decoder.throwException()},sliceObjects:function(e){this._sliceObjects=e},readOptImpl:function(e,t){var n,i,r,o;if(this.isReadEncoding_1_0())return!1;for(;;){if(this._buf.position>=this._readEncapsStack.start+this._readEncapsStack.sz)return!1;if(255===(n=this.readByte()))return this._buf.position-=1,!1;if(i=c.valueOf(7&n),30===(r=n>>3)&&(r=this.readSize()),r>e)return o=r<30?1:r<255?2:6,this._buf.position-=o,!1;if(!(r<e)){if(i!==t)throw new Ice.MarshalException("invalid optional data member `"+r+"': unexpected format");return!0}this.skipOpt(i)}},writeOptImpl:function(e,t){if(this.isWriteEncoding_1_0())return!1;var n=t.value;return e<30?(n|=e<<3,this.writeByte(n)):(n|=240,this.writeByte(n),this.writeSize(e)),!0},skipOpt:function(e){switch(e){case c.F1:this.skip(1);break;case c.F2:this.skip(2);break;case c.F4:this.skip(4);break;case c.F8:this.skip(8);break;case c.Size:this.skipSize();break;case c.VSize:this.skip(this.readSize());break;case c.FSize:this.skip(this.readInt());break;case c.Class:this.readObject(null,Ice.Object)}},skipOpts:function(){for(var e,t,n;;){if(this._buf.position>=this._readEncapsStack.start+this._readEncapsStack.sz)return;if(255===(t=(e=this.readByte())<0?e+256:e))return;n=c.valueOf(7&t),t>>3==30&&this.skipSize(),this.skipOpt(n)}},skip:function(e){if(e>this._buf.remaining)throw new Ice.UnmarshalOutOfBoundsException;this._buf.position+=e},skipSize:function(){255===this.readByte()&&this.skip(4)},isEmpty:function(){return this._buf.empty()},expand:function(e){this._buf.expand(e)},createObject:function(t){var n,i=null;try{var r=t.length>2?t.substr(2).replace(/::/g,"."):"";void 0!==(n=e.type(r))&&(i=new n)}catch(e){throw new Ice.NoObjectFactoryException("no object factory",t,e)}return i},getTypeId:function(e){var t=Ice.CompactIdRegistry.get(e);return void 0===t?"":t},isReadEncoding_1_0:function(){return null!==this._readEncapsStack?this._readEncapsStack.encoding_1_0:this._encoding.equals(Ice.Encoding_1_0)},isWriteEncoding_1_0:function(){return this._writeEncapsStack?this._writeEncapsStack.encoding_1_0:this._encoding.equals(Ice.Encoding_1_0)},initReadEncaps:function(){if(null===this._readEncapsStack&&(this._readEncapsStack=this._readEncapsCache,null!==this._readEncapsStack?this._readEncapsCache=this._readEncapsCache.next:this._readEncapsStack=new m,this._readEncapsStack.setEncoding(this._encoding),this._readEncapsStack.sz=this._buf.limit),null===this._readEncapsStack.decoder){var e=this._instance.servantFactoryManager();this._readEncapsStack.encoding_1_0?this._readEncapsStack.decoder=new _(this,this._readEncapsStack,this._sliceObjects,e):this._readEncapsStack.decoder=new C(this,this._readEncapsStack,this._sliceObjects,e)}},initWriteEncaps:function(){this._writeEncapsStack||(this._writeEncapsStack=this._writeEncapsCache,this._writeEncapsStack?this._writeEncapsCache=this._writeEncapsCache.next:this._writeEncapsStack=new S,this._writeEncapsStack.setEncoding(this._encoding)),this._writeEncapsStack.format===i.DefaultFormat&&(this._writeEncapsStack.format=this._instance.defaultsAndOverrides().defaultFormat),this._writeEncapsStack.encoder||(this._writeEncapsStack.encoding_1_0?this._writeEncapsStack.encoder=new I(this,this._writeEncapsStack):this._writeEncapsStack.encoder=new v(this,this._writeEncapsStack))},createUserException:function(t){var n,i=null;try{var r=t.length>2?t.substr(2).replace(/::/g,"."):"";void 0!==(n=e.type(r))&&(i=new n)}catch(e){throw new Ice.MarshalException(e)}return i}}),R=Object.defineProperty;R(E.prototype,"pos",{get:function(){return this._buf.position},set:function(e){this._buf.position=e}}),R(E.prototype,"size",{get:function(){return this._buf.limit}}),R(E.prototype,"instance",{get:function(){return this._instance}}),R(E.prototype,"closure",{get:function(){return this._type},set:function(e){this._type=e}}),R(E.prototype,"buffer",{get:function(){return this._buf}});var b=function(e,t,n,i,r,o){var c={write:function(t,n){return e.call(t,n)},read:function(e){return t.call(e)},writeOpt:function(t,n,r){t.writeOptValue(n,i,e,r)},readOpt:function(e,n){return e.readOptValue(n,i,t)}};return void 0!==r&&void 0!==o&&(c.validate=function(e){return e>=r&&e<=o}),R(c,"minWireSize",{get:function(){return n}}),c},w=E.prototype;Ice.ByteHelper=b(w.writeByte,w.readByte,1,Ice.OptionalFormat.F1,0,255),Ice.ShortHelper=b(w.writeShort,w.readShort,2,Ice.OptionalFormat.F2,-32768,32767),Ice.IntHelper=b(w.writeInt,w.readInt,4,Ice.OptionalFormat.F4,-2147483648,2147483647),Ice.FloatHelper=b(w.writeFloat,w.readFloat,4,Ice.OptionalFormat.F4,-34028234664e28,34028234664e28),Ice.FloatHelper.validate=function(e){return Number.isNaN(e)||e==Number.POSITIVE_INFINITY||e==Number.NEGATIVE_INFINITY||e>=-34028234664e28&&e<=34028234664e28},Ice.DoubleHelper=b(w.writeDouble,w.readDouble,8,Ice.OptionalFormat.F8,-Number.MAX_VALUE,Number.MAX_VALUE),Ice.DoubleHelper.validate=function(e){return Number.isNaN(e)||e==Number.POSITIVE_INFINITY||e==Number.NEGATIVE_INFINITY||e>=-Number.MAX_VALUE&&e<=Number.MAX_VALUE},Ice.BoolHelper=b(w.writeBool,w.readBool,1,Ice.OptionalFormat.F1),Ice.LongHelper=b(w.writeLong,w.readLong,8,Ice.OptionalFormat.F8),Ice.LongHelper.validate=function(e){return e.low>=0&&e.low<=4294967295&&e.high>=0&&e.high<=4294967295},Ice.StringHelper=b(w.writeString,w.readString,1,Ice.OptionalFormat.VSize),Ice.ObjectHelper={write:function(e,t){e.writeObject(t)},read:function(e){var t;return e.readObject((function(e){t=e}),Ice.Object),t},writeOpt:function(e,t,n){e.writeOptValue(t,Ice.OptionalFormat.Class,w.writeObject,n)},readOpt:function(e,t){var n;return e.readOptObject(t,(function(e){n=e}),Ice.Object),n}},R(Ice.ObjectHelper,"minWireSize",{get:function(){return 1}}),Ice.BasicStream=E}(),Ice.SocketOperation={None:0,Read:1,Write:2,Connect:2},R=Ice.Class({__init__:function(e,t,n,i){this._instance=e,this._traceLevel=e.traceLevels().network,this._traceCategory=e.traceLevels().networkCat,this._logger=e.initializationData().logger,this._properties=e.initializationData().properties,this._type=t,this._protocol=n,this._secure=i},traceLevel:function(){return this._traceLevel},traceCategory:function(){return this._traceCategory},logger:function(){return this._logger},protocol:function(){return this._protocol},type:function(){return this._type},secure:function(){return this._secure},properties:function(){return this._properties},defaultHost:function(){return this._instance.defaultsAndOverrides().defaultHost},defaultSourceAddress:function(){return this._instance.defaultsAndOverrides().defaultSourceAddress},defaultEncoding:function(){return this._instance.defaultsAndOverrides().defaultEncoding},defaultTimeout:function(){return this._instance.defaultsAndOverrides().defaultTimeout},messageSizeMax:function(){return this._instance.messageSizeMax()}}),Ice.ProtocolInstance=R,B.defineSequence(Ice,"EndpointSeqHelper","Ice.ObjectHelper",!1,"Ice.Endpoint"),b=Ice.AsyncResultBase,w=Ice.Debug,Ice.Promise,x=Ice.Protocol,P=Ice.UserException,O=Ice.BasicStream,(D=Ice.Class(b,{__init__:function(e,t,n,i,r,o){b.call(this,e,t,n,i,r),void 0!==e&&(this._completed=o,this._is=null,this._os=null!==e?new O(this._instance,x.currentProtocolEncoding):null,this._state=0,this._exception=null,this._sentSynchronously=!1)},cancel:function(){this.__cancel(new Ice.InvocationCanceledException)},isCompleted:function(){return(this._state&D.Done)>0},isSent:function(){return(this._state&D.Sent)>0},throwLocalException:function(){if(null!==this._exception)throw this._exception},sentSynchronously:function(){return this._sentSynchronously},__markSent:function(e){w.assert(0==(this._state&D.Done)),this._state|=D.Sent,e&&(this._state|=D.Done|D.OK,this._cancellationHandler=null,this.succeed(this))},__markFinished:function(e,t){w.assert(0==(this._state&D.Done)),this._state|=D.Done,e&&(this._state|=D.OK),this._cancellationHandler=null,t?t(this):this.succeed(this)},__markFinishedEx:function(e){w.assert(0==(this._state&D.Done)),this._exception=e,this._state|=D.Done,this._cancellationHandler=null,this.fail(e,this)},__cancel:function(e){this._cancellationException=e,this._cancellationHandler&&this._cancellationHandler.asyncRequestCanceled(this,e)},__cancelable:function(e){if(this._cancellationException)try{throw this._cancellationException}finally{this._cancellationException=null}this._cancellationHandler=e},__os:function(){return this._os},__is:function(){return this._is},__startReadParams:function(){return this._is.startReadEncaps(),this._is},__endReadParams:function(){this._is.endReadEncaps()},__readEmptyParams:function(){this._is.skipEmptyEncaps(null)},__readParamEncaps:function(){return this._is.readEncaps(null)},__throwUserException:function(){if(w.assert(0!=(this._state&D.Done)),0==(this._state&D.OK))try{this._is.startReadEncaps(),this._is.throwException()}catch(e){throw e instanceof P&&this._is.endReadEncaps(),e}}})).OK=1,D.Done=2,D.Sent=4,Ice.AsyncResult=D,Ice.Address=function(e,t){this.host=e,this.port=t},function(){var e=Ice.BasicStream,t=Ice.Debug,n=(Ice.ExUtil,Ice.Class),i=Ice.Protocol,r=n({__init__:function(t,n){if(this._batchStreamInUse=!1,this._batchRequestNum=0,this._batchStream=new e(t,i.currentProtocolEncoding),this._batchStream.writeBlob(i.requestBatchHdr),this._batchMarker=this._batchStream.size,this._exception=null,this._maxSize=t.batchAutoFlushSize(),this._maxSize>0&&n){var r=t.initializationData().properties.getPropertyAsIntWithDefault("Ice.UDP.SndSize",65507);r<this._maxSize&&(this._maxSize=r)}},prepareBatchRequest:function(e){if(this._exception)throw this._exception;this._batchStream.swap(e)},finishBatchRequest:function(e,n,i){this._batchStream.swap(e);try{this._maxSize>0&&this._batchStream.size>=this._maxSize&&n.ice_flushBatchRequests(),t.assert(this._batchMarker<this._batchStream.size),this._batchMarker=this._batchStream.size,++this._batchRequestNum}finally{this._batchStream.resize(this._batchMarker)}},abortBatchRequest:function(e){this._batchStream.swap(e),this._batchStream.resize(this._batchMarker)},swap:function(e){if(0===this._batchRequestNum)return 0;var t=null;if(this._batchMarker<this._batchStream.size){var n=this._batchStream.size-this._batchMarker;this._batchStream.pos=this._batchMarker,t=this._batchStream.buffer.getArray(n),this._batchStream.resize(this._batchMarker)}var r=this._batchRequestNum;return this._batchStream.swap(e),this._batchRequestNum=0,this._batchStream.writeBlob(i.requestBatchHdr),this._batchMarker=this._batchStream.size,null!==t&&this._batchStream.writeBlob(t),r},destroy:function(e){this._exception=e},isEmpty:function(){return this._batchStream.size===i.requestBatchHdr.length}});Ice.BatchRequestQueue=r}(),function(){var e=Ice.HashMap,t=Ice.CommunicatorDestroyedException,n=Ice.Class({__init__:function(t){this._logger=t,this._destroyed=!1,this._tokenId=0,this._tokens=new e},destroy:function(){var e=this;this._tokens.forEach((function(t,n){e.cancel(t)})),this._destroyed=!0,this._tokens.clear()},schedule:function(e,i){if(this._destroyed)throw new t;var r=this._tokenId++,o=this,c=n.setTimeout((function(){o.handleTimeout(r)}),i);return this._tokens.set(r,{callback:e,id:c,isInterval:!1}),r},scheduleRepeated:function(e,i){if(this._destroyed)throw new t;var r=this._tokenId++,o=this,c=n.setInterval((function(){o.handleInterval(r)}),i);return this._tokens.set(r,{callback:e,id:c,isInterval:!0}),r},cancel:function(e){if(this._destroyed)return!1;var t=this._tokens.get(e);return void 0!==t&&(this._tokens.del(e),t.isInterval?n.clearInterval(t.id):n.clearTimeout(t.id),!0)},handleTimeout:function(e){if(!this._destroyed){var t=this._tokens.get(e);if(void 0!==t){this._tokens.del(e);try{t.callback()}catch(e){this._logger.warning("uncaught exception while executing timer:\n"+e)}}}},handleInterval:function(e){if(!this._destroyed){var t=this._tokens.get(e);if(void 0!==t)try{t.callback()}catch(e){this._logger.warning("uncaught exception while executing timer:\n"+e)}}}});n.setTimeout=Ice.Timer.setTimeout,n.clearTimeout=Ice.Timer.clearTimeout,n.setInterval=Ice.Timer.setInterval,n.clearInterval=Ice.Timer.clearInterval,n.setImmediate=Ice.Timer.setImmediate,Ice.Timer=n}(),function(){var e=Ice.Class,t=e({__init__:function(e){this._instance=e,this._requests=[]},add:function(e,t){if(null===this._instance)throw new Ice.CommunicatorDestroyedException;var i=new n(this._instance,this,e);e.__cancelable(i),i.token=this._instance.timer().schedule((function(){i.run()}),t),this._requests.push(i)},destroy:function(){for(var e=0;e<this._requests.length;++e)this._instance.timer().cancel(this._requests[e].token),this._requests[e].destroy();this._requests=[],this._instance=null},remove:function(e){var t=this._requests.indexOf(e);t>=0&&this._requests.splice(t,1)},cancel:function(e){var t=this._requests.indexOf(e);return t>=0&&(this._requests.splice(t,1),this._instance.timer().cancel(e.token))}});Ice.RetryQueue=t;var n=e({__init__:function(e,t,n,i){this._instance=e,this._queue=t,this._outAsync=n},run:function(){this._outAsync.__retry(),this._queue.remove(this)},destroy:function(){try{this._outAsync.__abort(new Ice.CommunicatorDestroyedException)}catch(e){}},asyncRequestCanceled:function(e,t){this._queue.cancel(this)&&(this._instance.traceLevels().retry>=1&&this._instance.initializationData().logger.trace(this._instance.traceLevels().retryCat,"operation retry canceled\n"+t.toString()),this._outAsync.__completedEx(t))}})}(),function(){var e=Ice.ArrayUtil,t=Ice.Debug,n=Ice.HashMap,i=Ice.Promise,r=Ice.Class({__init__:function(e){this._router=e,t.assert(null!==this._router),this._clientEndpoints=null,this._serverEndpoints=null,this._adapter=null,this._identities=new n(n.compareEquals),this._evictedIdentities=[]},destroy:function(){this._clientEndpoints=[],this._serverEndpoints=[],this._adapter=null,this._identities.clear()},equals:function(e){return this===e||e instanceof r&&this._router.equals(e._router)},hashCode:function(){return this._router.hashCode()},getRouter:function(){return this._router},getClientEndpoints:function(){var e=new i;if(null!==this._clientEndpoints)e.succeed(this._clientEndpoints);else{var t=this;this._router.getClientProxy().then((function(n){t.setClientEndpoints(n,e)})).exception((function(t){e.fail(t)}))}return e},getServerEndpoints:function(){if(null!==this._serverEndpoints)return(new i).succeed(this._serverEndpoints);var e=this;return this._router.getServerProxy().then((function(t){return e.setServerEndpoints(t)}))},addProxy:function(e){if(t.assert(null!==e),this._identities.has(e.ice_getIdentity()))return(new i).succeed();var n=this;return this._router.addProxies([e]).then((function(t){n.addAndEvictProxies(e,t)}))},setAdapter:function(e){this._adapter=e},getAdapter:function(){return this._adapter},clearCache:function(e){this._identities.del(e.getIdentity())},setClientEndpoints:function(e,t){if(null===this._clientEndpoints)if(null===e)this._clientEndpoints=this._router.__reference().getEndpoints(),t.succeed(this._clientEndpoints);else{e=e.ice_router(null);var n=this;this._router.ice_getConnection().then((function(i){var r=e.ice_timeout(i.timeout());n._clientEndpoints=r.__reference().getEndpoints(),t.succeed(n._clientEndpoints)})).exception((function(e){t.fail(e)}))}else t.succeed(this._clientEndpoints)},setServerEndpoints:function(e){if(null===e)throw new Ice.NoEndpointException;return e=e.ice_router(null),this._serverEndpoints=e.__reference().getEndpoints(),this._serverEndpoints},addAndEvictProxies:function(t,n){var i=e.indexOf(this._evictedIdentities,t.ice_getIdentity(),(function(e,t){return e.equals(t)}));i>=0?this._evictedIdentities.splice(i,1):this._identities.set(t.ice_getIdentity(),1);for(var r=0;r<n.length;++r)this._identities.del(n[r].ice_getIdentity())}});Ice.RouterInfo=r}(),function(){var e=Ice.AsyncStatus,t=Ice.AsyncResult,n=Ice.BasicStream,i=Ice.Debug,r=Ice.HashMap,o=Ice.RetryException,c=(Ice.OperationMode,Ice.Protocol),s=Ice.Identity,a=Ice.Class(t,{__init__:function(e,i,r,o,s){void 0!==e?(t.call(this,e,i,r,o,s),this._os=new n(this._instance,c.currentProtocolEncoding)):t.call(this)},__os:function(){return this._os},__sent:function(){this.__markSent(!0)},__completedEx:function(e){this.__markFinishedEx(e)}}),l=Ice.Class(a,{__init__:function(e,n){void 0!==e?(a.call(this,e.ice_getCommunicator(),n,null,e,null),this._mode=null,this._cnt=0,this._sent=!1,this._handler=null):t.call(this)},__completedEx:function(e){try{this._instance.retryQueue().add(this,this.__handleException(e))}catch(e){this.__markFinishedEx(e)}},__retryException:function(e){try{this._proxy.__updateRequestHandler(this._handler,null),this._instance.retryQueue().add(this,0)}catch(e){this.__completedEx(e)}},__retry:function(){this.__invokeImpl(!1)},__abort:function(e){this.__markFinishedEx(e)},__invokeImpl:function(t){try{if(t){var n=this._proxy.__reference().getInvocationTimeout();if(n>0){var i=this;this._timeoutToken=this._instance.timer().schedule((function(){i.__cancel(new Ice.InvocationTimeoutException)}),n)}}for(;;)try{return this._sent=!1,this._handler=this._proxy.__getRequestHandler(),void((this._handler.sendAsyncRequest(this)&e.Sent)>0&&t&&(this._sentSynchronously=!0))}catch(e){if(e instanceof o)this._proxy.__updateRequestHandler(this._handler,null);else{var r=this.__handleException(e);if(r>0)return void this._instance.retryQueue().add(this,r)}}}catch(e){this.__markFinishedEx(e)}},__markSent:function(e){this._sent=!0,e&&this._timeoutToken&&this._instance.timer().cancel(this._timeoutToken),a.prototype.__markSent.call(this,e)},__markFinishedEx:function(e){this._timeoutToken&&this._instance.timer().cancel(this._timeoutToken),a.prototype.__markFinishedEx.call(this,e)},__handleException:function(e){var t={value:0};return this._cnt=this._proxy.__handleException(e,this._handler,this._mode,this._sent,t,this._cnt),t.value}}),u=Ice.Class(l,{__init__:function(e,t,n){void 0!==e?(l.call(this,e,t),this._encoding=c.getCompatibleEncoding(this._proxy.__reference().getEncoding()),this._completed=n):l.call(this)},__prepare:function(e,t,n){c.checkSupportedProtocol(c.getCompatibleProtocol(this._proxy.__reference().getProtocol())),this._mode=t,null===n&&(n=u._emptyContext),this._proxy.ice_isBatchOneway()||this._proxy.ice_isBatchDatagram()?this._proxy.__getBatchRequestQueue().prepareBatchRequest(this._os):this._os.writeBlob(c.requestHdr);var i=this._proxy.__reference();i.getIdentity().__write(this._os);var o=i.getFacet();if(null===o||0===o.length?Ice.StringSeqHelper.write(this._os,null):Ice.StringSeqHelper.write(this._os,[o]),this._os.writeString(this._operation),this._os.writeByte(t.value),void 0!==n){if(null!==n&&!(n instanceof r))throw new Error("illegal context value, expecting null or HashMap");Ice.ContextHelper.write(this._os,n)}else{var s=i.getInstance().getImplicitContext(),a=i.getContext();null===s?Ice.ContextHelper.write(this._os,a):s.write(a,this._os)}},__sent:function(){this.__markSent(!this._proxy.ice_isTwoway())},__invokeRemote:function(e,t,n){return e.sendAsyncRequest(this,t,n,0)},__abort:function(e){(this._proxy.ice_isBatchOneway()||this._proxy.ice_isBatchDatagram())&&this._proxy.__getBatchRequestQueue().abortBatchRequest(this._os),l.prototype.__abort.call(this,e)},__invoke:function(){if(this._proxy.ice_isBatchOneway()||this._proxy.ice_isBatchDatagram())return this._sentSynchronously=!0,this._proxy.__getBatchRequestQueue().finishBatchRequest(this._os,this._proxy,this._operation),void this.__markFinished(!0);this.__invokeImpl(!0)},__completed:function(e){var t;i.assert(this._proxy.ice_isTwoway());try{switch(null===this._is&&(this._is=new n(this._instance,c.currentProtocolEncoding)),this._is.swap(e),t=this._is.readByte()){case c.replyOK:case c.replyUserException:break;case c.replyObjectNotExist:case c.replyFacetNotExist:case c.replyOperationNotExist:var r=new s;r.__read(this._is);var o,a=Ice.StringSeqHelper.read(this._is);if(a.length>0){if(a.length>1)throw new Ice.MarshalException;o=a[0]}else o="";var l=this._is.readString(),u=null;switch(t){case c.replyObjectNotExist:u=new Ice.ObjectNotExistException;break;case c.replyFacetNotExist:u=new Ice.FacetNotExistException;break;case c.replyOperationNotExist:u=new Ice.OperationNotExistException;break;default:i.assert(!1)}throw u.id=r,u.facet=o,u.operation=l,u;case c.replyUnknownException:case c.replyUnknownLocalException:case c.replyUnknownUserException:var d=this._is.readString(),h=null;switch(t){case c.replyUnknownException:h=new Ice.UnknownException;break;case c.replyUnknownLocalException:h=new Ice.UnknownLocalException;break;case c.replyUnknownUserException:h=new Ice.UnknownUserException;break;default:i.assert(!1)}throw h.unknown=d,h;default:throw new Ice.UnknownReplyStatusException}this.__markFinished(t==c.replyOK,this._completed)}catch(e){this.__completedEx(e)}},__startWriteParams:function(e){return this._os.startWriteEncaps(this._encoding,e),this._os},__endWriteParams:function(){this._os.endWriteEncaps()},__writeEmptyParams:function(){this._os.writeEmptyEncaps(this._encoding)},__writeParamEncaps:function(e){null===e||0===e.length?this._os.writeEmptyEncaps(this._encoding):this._os.writeEncaps(e)},__is:function(){return this._is},__startReadParams:function(){return this._is.startReadEncaps(),this._is},__endReadParams:function(){this._is.endReadEncaps()},__readEmptyParams:function(){this._is.skipEmptyEncaps(null)},__readParamEncaps:function(){return this._is.readEncaps(null)},__throwUserException:function(){if(i.assert(0!=(this._state&t.Done)),0==(this._state&t.OK))try{this._is.startReadEncaps(),this._is.throwException()}catch(e){throw e instanceof Ice.UserException&&this._is.endReadEncaps(),e}}});u._emptyContext=new r;var d=Ice.Class(l,{__init__:function(e,t){l.call(this,e,t),this._batchRequestNum=e.__getBatchRequestQueue().swap(this._os)},__invokeRemote:function(t,n,i){return 0===this._batchRequestNum?(this.__sent(),e.Sent):t.sendAsyncRequest(this,n,i,this._batchRequestNum)},__invoke:function(){c.checkSupportedProtocol(c.getCompatibleProtocol(this._proxy.__reference().getProtocol())),this.__invokeImpl(!0)}}),h=Ice.Class(l,{__init__:function(e,t){l.call(this,e,t)},__invokeRemote:function(t,n,i){return this.__markFinished(!0,(function(e){e.succeed(t)})),e.Sent},__invoke:function(){this.__invokeImpl(!0)}}),f=Ice.Class(a,{__init__:function(e,t,n){a.call(this,t,n,e,null,null)},__invoke:function(){try{var t,n=this._connection.getBatchRequestQueue().swap(this._os);0===n?(this.__sent(),t=e.Sent):t=this._connection.sendAsyncRequest(this,!1,!1,n),(t&e.Sent)>0&&(this._sentSynchronously=!0)}catch(e){this.__completedEx(e)}}});Ice.OutgoingAsync=u,Ice.ProxyFlushBatch=d,Ice.ProxyGetConnection=h,Ice.ConnectionFlushBatch=f}(),function(){var e=Ice.ArrayUtil,t=Ice.AsyncResultBase,n=(Ice.AsyncResult,Ice.Debug),i=(Ice.FormatType,Ice.HashMap),r=Ice.OutgoingAsync,o=Ice.ProxyFlushBatch,c=Ice.ProxyGetConnection,s=Ice.ReferenceMode,a=Ice.OperationMode,l=Ice.Class({__init__:function(){this._reference=null,this._requestHandler=null},hashCode:function(e){return this._reference.hashCode()},ice_getCommunicator:function(){return this._reference.getCommunicator()},toString:function(){return this._reference.toString()},ice_getIdentity:function(){return this._reference.getIdentity().clone()},ice_identity:function(e){if(null==e||0===e.name.length)throw new Ice.IllegalIdentityException;if(e.equals(this._reference.getIdentity()))return this;var t=new l;return t.__setup(this._reference.changeIdentity(e)),t},ice_getContext:function(){return new i(this._reference.getContext())},ice_context:function(e){return this.__newInstance(this._reference.changeContext(e))},ice_getFacet:function(){return this._reference.getFacet()},ice_facet:function(e){if(null==e&&(e=""),e===this._reference.getFacet())return this;var t=new l;return t.__setup(this._reference.changeFacet(e)),t},ice_getAdapterId:function(){return this._reference.getAdapterId()},ice_adapterId:function(e){return null==e&&(e=""),e===this._reference.getAdapterId()?this:this.__newInstance(this._reference.changeAdapterId(e))},ice_getEndpoints:function(){return e.clone(this._reference.getEndpoints())},ice_endpoints:function(t){return null==t&&(t=[]),e.equals(t,this._reference.getEndpoints())?this:this.__newInstance(this._reference.changeEndpoints(t))},ice_getLocatorCacheTimeout:function(){return this._reference.getLocatorCacheTimeout()},ice_locatorCacheTimeout:function(e){if(e<-1)throw new Error("invalid value passed to ice_locatorCacheTimeout: "+e);return e===this._reference.getLocatorCacheTimeout()?this:this.__newInstance(this._reference.changeLocatorCacheTimeout(e))},ice_getInvocationTimeout:function(){return this._reference.getInvocationTimeout()},ice_invocationTimeout:function(e){if(e<1&&-1!==e)throw new Error("invalid value passed to ice_invocationTimeout: "+e);return e===this._reference.getInvocationTimeout()?this:this.__newInstance(this._reference.changeInvocationTimeout(e))},ice_isConnectionCached:function(){return this._reference.getCacheConnection()},ice_connectionCached:function(e){return e===this._reference.getCacheConnection()?this:this.__newInstance(this._reference.changeCacheConnection(e))},ice_getEndpointSelection:function(){return this._reference.getEndpointSelection()},ice_endpointSelection:function(e){return e===this._reference.getEndpointSelection()?this:this.__newInstance(this._reference.changeEndpointSelection(e))},ice_isSecure:function(){return this._reference.getSecure()},ice_secure:function(e){return e===this._reference.getSecure()?this:this.__newInstance(this._reference.changeSecure(e))},ice_getEncodingVersion:function(){return this._reference.getEncoding().clone()},ice_encodingVersion:function(e){return e.equals(this._reference.getEncoding())?this:this.__newInstance(this._reference.changeEncoding(e))},ice_isPreferSecure:function(){return this._reference.getPreferSecure()},ice_preferSecure:function(e){return e===this._reference.getPreferSecure()?this:this.__newInstance(this._reference.changePreferSecure(e))},ice_getRouter:function(){var e=this._reference.getRouterInfo();return null!==e?e.getRouter():null},ice_router:function(e){var t=this._reference.changeRouter(e);return t.equals(this._reference)?this:this.__newInstance(t)},ice_getLocator:function(){var e=this._reference.getLocatorInfo();return null!==e?e.getLocator():null},ice_locator:function(e){var t=this._reference.changeLocator(e);return t.equals(this._reference)?this:this.__newInstance(t)},ice_isTwoway:function(){return this._reference.getMode()===s.ModeTwoway},ice_twoway:function(){return this._reference.getMode()===s.ModeTwoway?this:this.__newInstance(this._reference.changeMode(s.ModeTwoway))},ice_isOneway:function(){return this._reference.getMode()===s.ModeOneway},ice_oneway:function(){return this._reference.getMode()===s.ModeOneway?this:this.__newInstance(this._reference.changeMode(s.ModeOneway))},ice_isBatchOneway:function(){return this._reference.getMode()===s.ModeBatchOneway},ice_batchOneway:function(){return this._reference.getMode()===s.ModeBatchOneway?this:this.__newInstance(this._reference.changeMode(s.ModeBatchOneway))},ice_isDatagram:function(){return this._reference.getMode()===s.ModeDatagram},ice_datagram:function(){return this._reference.getMode()===s.ModeDatagram?this:this.__newInstance(this._reference.changeMode(s.ModeDatagram))},ice_isBatchDatagram:function(){return this._reference.getMode()===s.ModeBatchDatagram},ice_batchDatagram:function(){return this._reference.getMode()===s.ModeBatchDatagram?this:this.__newInstance(this._reference.changeMode(s.ModeBatchDatagram))},ice_compress:function(e){var t=this._reference.changeCompress(e);return t.equals(this._reference)?this:this.__newInstance(t)},ice_timeout:function(e){if(e<1&&-1!==e)throw new Error("invalid value passed to ice_timeout: "+e);var t=this._reference.changeTimeout(e);return t.equals(this._reference)?this:this.__newInstance(t)},ice_getConnectionId:function(){return this._reference.getConnectionId()},ice_connectionId:function(e){var t=this._reference.changeConnectionId(e);return t.equals(this._reference)?this:this.__newInstance(t)},ice_getConnection:function(){var e=new c(this,"ice_getConnection");try{e.__invoke()}catch(t){e.__abort(t)}return e},ice_getCachedConnection:function(){return this._requestHandler?this._requestHandler.getConnection():null},ice_flushBatchRequests:function(){var e=new o(this,"ice_flushBatchRequests");try{e.__invoke()}catch(t){e.__abort(t)}return e},equals:function(e){return this===e||e instanceof l&&this._reference.equals(e._reference)},__reference:function(){return this._reference},__copyFrom:function(e){n.assert(null===this._reference),n.assert(null===this._requestHandler),this._reference=e._reference,this._requestHandler=e._requestHandler},__handleException:function(e,t,n,i,r,o){if(this.__updateRequestHandler(t,null),!(e instanceof Ice.LocalException&&(!i||n==a.Nonmutating||n==a.Idempotent||e instanceof Ice.CloseConnectionException||e instanceof Ice.ObjectNotExistException)))throw e;try{return this._reference.getInstance().proxyFactory().checkRetryAfterException(e,this._reference,r,o)}catch(t){throw t instanceof Ice.CommunicatorDestroyedException?e:t}},__checkAsyncTwowayOnly:function(e){if(!this.ice_isTwoway())throw new Error("`"+e+"' can only be called with a twoway proxy")},__getRequestHandler:function(){return this._reference.getCacheConnection()&&this._requestHandler?this._requestHandler:this._reference.getRequestHandler(this)},__getBatchRequestQueue:function(){return this._batchRequestQueue||(this._batchRequestQueue=this._reference.getBatchRequestQueue()),this._batchRequestQueue},__setRequestHandler:function(e){return this._reference.getCacheConnection()?(this._requestHandler||(this._requestHandler=e),this._requestHandler):e},__updateRequestHandler:function(e,t){this._reference.getCacheConnection()&&null!==e&&this._requestHandler&&this._requestHandler!==t&&(this._requestHandler=this._requestHandler.update(e,t))},__setup:function(e){n.assert(null===this._reference),this._reference=e},__newInstance:function(e){var t=new this.constructor;return t.__setup(e),t},ice_instanceof:function(e){return!!e&&(this instanceof e||this.constructor.__instanceof(e))}});l.__invoke=function(e,t,n,i,o,c,s,a,u){(null!==s||a.length>0)&&e.__checkAsyncTwowayOnly(t);var d=new r(e,t,(function(e){l.__completed(e,s,a)}));try{if(d.__prepare(t,n,o),null===c)d.__writeEmptyParams();else{var h=d.__startWriteParams(i);c.call(null,h,u),d.__endWriteParams()}d.__invoke()}catch(e){d.__abort(e)}return d},l.__completed=function(e,t,n){if(l.__check(e,n))try{if(null===t)e.__readEmptyParams(),e.succeed(e);else{var i=t(e);e.succeed.apply(e,i)}}catch(t){return void l.__dispatchLocalException(e,t)}},l.__returns_bool=function(e,t){t.push(e.readBool())},l.__returns_byte=function(e,t){t.push(e.readByte())},l.__returns_short=function(e,t){t.push(e.readShort())},l.__returns_int=function(e,t){t.push(e.readInt())},l.__returns_long=function(e,t){t.push(e.readLong())},l.__returns_float=function(e,t){t.push(e.readFloat())},l.__returns_double=function(e,t){t.push(e.readDouble())},l.__returns_string=function(e,t){t.push(e.readString())},l.__returns_ObjectPrx=function(e,t){t.push(e.readProxy())},l.__returns_Object=function(e,t){e.readObject((function(e){t.push(e)}),Ice.Object),e.readPendingObjects()},l.__check=function(e,t){try{e.__throwUserException()}catch(i){if(i instanceof Ice.UserException){if(null!==t)for(var n=0;n<t.length;++n)if(i instanceof t[n])return e.fail(i,e),!1;return e.fail(new Ice.UnknownUserException(i.ice_name()),e),!1}return e.fail(i,e),!1}return!0},l.__dispatchLocalException=function(e,t){e.fail(t,e)},l.ice_staticId=Ice.Object.ice_staticId,l.checkedCast=function(e,n,i){var r=null;if(null==e)(r=new t(null,"checkedCast",null,null,null)).succeed(null,r);else{void 0!==n&&(e=e.ice_facet(n));var o=this;r=new t(e.ice_getCommunicator(),"checkedCast",null,e,null),e.ice_isA(this.ice_staticId(),i).then((function(t,n){if(n){var i=new o;i.__copyFrom(e),r.succeed(i,r)}else r.succeed(null,r)})).exception((function(e){e instanceof Ice.FacetNotExistException?r.succeed(null,r):r.fail(e,r)}))}return r},l.uncheckedCast=function(e,t){var n=null;return null!=e&&(n=new this,void 0!==t&&(e=e.ice_facet(t)),n.__copyFrom(e)),n},Object.defineProperty(l,"minWireSize",{get:function(){return 2}}),l.write=function(e,t){e.writeProxy(t)},l.read=function(e){return e.readProxy(this)},l.writeOpt=function(e,t,n){e.writeOptProxy(t,n)},l.readOpt=function(e,t){return e.readOptProxy(t,this)},l.__instanceof=function(e){if(e===this)return!0;for(var t in this.__implements)if(this.__implements[t].__instanceof(e))return!0;return!!this.__parent&&this.__parent.__instanceof(e)},Ice.Slice.defineProxy=function(e,t,n){var i=function(){e.call(this)};return i.__parent=e,i.__implements=n,(i.prototype=new e).constructor=i,i.ice_staticId=t,i.checkedCast=l.checkedCast,i.uncheckedCast=l.uncheckedCast,i.write=l.write,i.writeOpt=l.writeOpt,i.read=l.read,i.readOpt=l.readOpt,i.__instanceof=l.__instanceof,Object.defineProperty(i,"minWireSize",{get:function(){return 2}}),i},Ice.ObjectPrx=l}(),Object.defineProperty(Ice,"TCPEndpointType",{value:1}),Object.defineProperty(Ice,"SSLEndpointType",{value:2}),Object.defineProperty(Ice,"UDPEndpointType",{value:3}),Object.defineProperty(Ice,"WSEndpointType",{value:4}),Object.defineProperty(Ice,"WSSEndpointType",{value:5}),Ice.EndpointInfo=B.defineLocalObject((function(e,t){this.timeout=void 0!==e?e:0,this.compress=void 0!==t&&t})),Ice.Endpoint=B.defineLocalObject(),Ice.IPEndpointInfo=B.defineLocalObject((function(e,t,n,i,r){Ice.EndpointInfo.call(this,e,t),this.host=void 0!==n?n:"",this.port=void 0!==i?i:0,this.sourceAddress=void 0!==r?r:""}),Ice.EndpointInfo),Ice.TCPEndpointInfo=B.defineLocalObject((function(e,t,n,i,r){Ice.IPEndpointInfo.call(this,e,t,n,i,r)}),Ice.IPEndpointInfo),Ice.UDPEndpointInfo=B.defineLocalObject((function(e,t,n,i,r,o,c){Ice.IPEndpointInfo.call(this,e,t,n,i,r),this.mcastInterface=void 0!==o?o:"",this.mcastTtl=void 0!==c?c:0}),Ice.IPEndpointInfo),Ice.WSEndpointInfo=B.defineLocalObject((function(e,t,n,i,r,o){Ice.TCPEndpointInfo.call(this,e,t,n,i,r),this.resource=void 0!==o?o:""}),Ice.TCPEndpointInfo),Ice.OpaqueEndpointInfo=B.defineLocalObject((function(e,t,n,i){Ice.EndpointInfo.call(this,e,t),this.rawEncoding=void 0!==n?n:new Ice.EncodingVersion,this.rawBytes=void 0!==i?i:null}),Ice.EndpointInfo),M=(0,Ice.Class)(Ice.Endpoint,{toString:function(){return this.protocol()+this.options()},initWithOptions:function(e){var t,n=[],i="`"+this.protocol();for(t=0;t<e.length;++t)-1!==e[t].search(/[ \t\n\r]+/)?i+=' "'+e[t]+'"':i+=" "+e[t];for(i+="'",t=0;t<e.length;){var r=e[t++];if(r.length<2||"-"!=r.charAt(0))n.push(r);else{var o=null;t<e.length&&"-"!=e[t].charAt(0)&&(o=e[t++]),this.checkOption(r,o,i)||(n.push(r),null!==o&&n.push(o))}}for(e.length=0,t=0;t<n.length;t++)e.push(n[t])},equals:function(e){return e instanceof M&&0===this.compareTo(e)},checkOption:function(){return!1}}),Ice.EndpointI=M,function(){var e=Ice.__M,t=Ice.Class,n=[Ice.ByteHelper,Ice.BoolHelper,Ice.ShortHelper,Ice.IntHelper,Ice.LongHelper,Ice.FloatHelper,Ice.DoubleHelper,Ice.StringHelper,Ice.Object,Ice.ObjectPrx];function i(t){var i=t[0],r=l(i);return"number"===r?i=n[t[0]]:"string"===r&&(i=e.type(i)),{type:i,isObject:!0===t[1],tag:t[2]}}function r(e,t){var n,r,o,c={};c.name=e,c.mode=t[1]?Ice.OperationMode.valueOf(t[1]):Ice.OperationMode.Normal,c.sendMode=t[2]?Ice.OperationMode.valueOf(t[2]):Ice.OperationMode.Normal,c.amd=!!t[3],c.format=t[4]?Ice.FormatType.valueOf(t[4]):Ice.FormatType.DefaultFormat,c.amd?c.servantMethod=e+"_async":c.servantMethod=t[0]?t[0]:e,t[5]&&((o=i(t[5])).pos=0),c.returns=o;var s=[],a=[];if(t[6])for(n=0;n<t[6].length;++n)(r=i(t[6][n])).pos=n,s.push(r),r.tag&&a.push(r);a.sort((function(e,t){return e.tag-t.tag})),c.inParams=s,c.inParamsOpt=a;var l=[],u=[];if(t[7]){var d=o?1:0;for(n=0;n<t[7].length;++n)(r=i(t[7][n])).pos=n+d,l.push(r),r.tag&&u.push(r)}o&&o.tag&&u.push(o),u.sort((function(e,t){return e.tag-t.tag})),c.outParams=l,c.outParamsOpt=u;var h=[];if(t[8])for(n=0;n<t[8].length;++n)h.push(t[8][n]);return c.exceptions=h,c.sendsClasses=!0===t[9],c.returnsClasses=!0===t[10],c}var o=t({__init__:function(e){this.raw=e,this.parsed={}},find:function(e){var t=this.parsed[e];return void 0===t&&void 0!==this.raw[e]&&(t=r(e,this.raw[e]),this.parsed[e]=t),t}});function c(e,t,n,i,r,o,c){var s,a,l;for(s=0;s<n.length;++s)(a=n[s]).tag||(l=a.type.read(e),o[a.pos+c]=l);for(t&&(l=t.type.read(e),o[t.pos+c]=l),s=0;s<i.length;++s)l=(a=i[s]).type.readOpt(e,a.tag),o[a.pos+c]=l;r&&e.readPendingObjects()}function s(e,t,n,i,r,o){var c,s;for(c=0;c<i.length;++c)(s=i[c]).tag||s.type.write(e,t[s.pos]);for(n&&n.type.write(e,t[n.pos]),c=0;c<r.length;++c)(s=r[c]).type.writeOpt(e,s.tag,t[s.pos]);o&&e.writePendingObjects()}var a=t({__init__:function(e,t){this.incomingAsync=e,this.op=t},ice_response:function(){var e=arguments;if(this.incomingAsync.__validateResponse(!0))try{this.__sendResponse(e),this.incomingAsync.__response()}catch(e){this.incomingAsync.__exception(e)}},ice_exception:function(e){this.__checkException(e)?this.incomingAsync.__validateResponse(!1)&&(this.__sendException(e),this.incomingAsync.__response()):this.incomingAsync.ice_exception(e)},__sendResponse:function(e){if(void 0===this.op.returns&&0===this.op.outParams.length){if(e&&e.length>0)throw new Error("ice_response called with invalid arguments");this.incomingAsync.__writeEmptyParams()}else{var t,n=this.incomingAsync.__startWriteParams(this.op.format);this.op.returns&&!this.op.returns.tag&&(t=this.op.returns),s(n,e,t,this.op.outParams,this.op.outParamsOpt,this.op.returnsClasses),this.incomingAsync.__endWriteParams(!0)}},__checkException:function(e){for(var t=0;t<this.op.exceptions.length;++t)if(e instanceof this.op.exceptions[t])return!0;return!1},__sendException:function(e){this.incomingAsync.__writeUserException(e,this.op.format)}});function u(e,t,n){for(var i,r=0;void 0===i&&r<e.length;++r){var o=e[r];void 0===(i=o[t])&&(-1===n.indexOf(o)&&n.push(o),o.__implements&&(i=u(o.__implements,t,n)))}return i}function d(e,t){var n,i="__op_"+t,r=e[i];if(void 0===r){n=[];for(var o=e;o&&void 0===r;)o.__implements&&(r=u(o.__implements,i,n)),o=o.__parent;void 0!==r&&(e[i]=r)}if(void 0===r){var s,l;if(e.__ops&&(s=e.__ops.find(t)),void 0===s){for(var d=e.__parent;void 0===s&&d;)d.__ops&&void 0!==(s=d.__ops.find(t))&&(l=d),d=d.__parent;for(var h=0;void 0===s&&h<n.length;++h){var f=n[h];f.__ops&&void 0!==(s=f.__ops.find(t))&&(l=f)}}void 0!==s&&(r=function(e,t,n){return function(e,t,n,i){var r=e[t.servantMethod];if(void 0===r||"function"!=typeof r){var o="servant for identity "+i.adapter.getCommunicator().identityToString(i.id)+" does not define operation `"+t.servantMethod+"'";throw new Ice.UnknownException(o)}var s=new a(n,t);try{var l=t.amd?[null]:[];if(0===t.inParams.length)n.readEmptyParams();else{var u=n.startReadParams(),d=t.amd?1:0;if(c(u,void 0,t.inParams,t.inParamsOpt,t.sendsClasses,l,d),n.endReadParams(),t.inParams.length>0&&(t.sendsClasses||t.inParamsOpt.length>0))for(var h=0;h<t.inParams.length;++h){var f=t.inParams[h];f.isObject&&void 0!==l[f.pos+d]&&(l[f.pos+d]=l[f.pos+d].value)}}if(l.push(i),t.amd){l[0]=s;try{r.apply(e,l)}catch(e){s.ice_exception(e)}return Ice.DispatchStatus.DispatchAsync}var p=t.outParams.length;t.returns&&++p;var _=r.apply(e,l);if(p>1&&!(_ instanceof Array))throw new Ice.MarshalException("operation `"+t.servantMethod+"' should return an array of length "+p);return 1===p&&(_=[_]),s.__sendResponse(_),Ice.DispatchStatus.DispatchOK}catch(e){if(s.__checkException(e))return s.__sendException(e),Ice.DispatchStatus.DispatchUserException;throw e}}(e,s,t,n)},e[i]=r,l&&(l[i]=r))}return r}function h(e,t,n){var i=n[0]?n[0]:t,o=null;e.prototype[i]=function(){var e=arguments;null===o&&(o=r(t,n));var i=e[o.inParams.length],a=null;o.inParams.length>0&&(a=function(e,t){var n,i,r;for(n=0;n<o.inParams.length;++n)if(r=t[(i=o.inParams[n]).pos],!(i.tag&&void 0===r||"function"!=typeof i.type.validate||i.type.validate(r)))throw new Ice.MarshalException("invalid value for argument "+(n+1)+" in operation `"+o.servantMethod+"'");s(e,t,void 0,o.inParams,o.inParamsOpt,o.sendsClasses)});var l=null;return(o.returns||o.outParams.length>0)&&(l=function(e){var t,n=[],i=e.__startReadParams();if(o.returns&&!o.returns.tag&&(t=o.returns),c(i,t,o.outParams,o.outParamsOpt,o.returnsClasses,n,0),e.__endReadParams(),o.returnsClasses||o.outParamsOpt.length>0){o.returns&&o.returns.isObject&&void 0!==n[o.returns.pos+0]&&(n[o.returns.pos+0]=n[o.returns.pos+0].value);for(var r=0;r<o.outParams.length;++r){var s=o.outParams[r];s.isObject&&void 0!==n[s.pos+0]&&(n[s.pos+0]=n[s.pos+0].value)}}return n.push(e),n}),Ice.ObjectPrx.__invoke(this,o.name,o.sendMode,o.format,i,a,l,o.exceptions,Array.prototype.slice.call(e))}}var f=Ice.Slice;f.defineOperations=function(e,t,n){if(n&&(e.__ops=new o(n)),e.prototype.__dispatch=function(t,n){var i=d(e,n.operation);if(void 0===i||"function"!=typeof i)throw new Ice.OperationNotExistException(n.id,n.facet,n.operation);return i.call(i,this,t,n)},n)for(var i in n)h(t,i,n[i]);if(t.__implements)for(var r in t.__implements){var c=t.__implements[r].prototype;for(var s in c)"function"==typeof c[s]&&void 0===t.prototype[s]&&(t.prototype[s]=c[s])}},f.defineOperations(Ice.Object,Ice.ObjectPrx,{ice_ping:[,1,1,,,,,,],ice_isA:[,1,1,,,[1],[[7]],,],ice_id:[,1,1,,,[7],,,],ice_ids:[,1,1,,,["Ice.StringSeqHelper"],,,]})}(),function(){var e=Ice.Address,t=Ice.HashUtil,n=Ice.StringUtil,i=Ice.Class,r=Ice.EndpointParseException,o=i(Ice.EndpointI,{__init__:function(e,t,n,i,r){this._instance=e,this._host=void 0===t?null:t,this._port=void 0===n?null:n,this._sourceAddr=void 0===i?null:i,this._connectionId=void 0===r?"":r},streamWrite:function(e){e.startWriteEncaps(),this.streamWriteImpl(e),e.endWriteEncaps()},getInfo:function(){var e=new Ice.IPEndpointInfo;return this.fillEndpointInfo(e),e},type:function(){return this._instance.type()},protocol:function(){return this._instance.protocol()},secure:function(){return this._instance.secure()},connectionId:function(){return this._connectionId},changeConnectionId:function(e){return e===this._connectionId?this:this.createEndpoint(this._host,this._port,e)},hashCode:function(){return void 0===this._hashCode&&(this._hashCode=this.hashInit(5381)),this._hashCode},options:function(){var e="";if(null!==this._host&&this._host.length>0){e+=" -h ";var t=-1!=this._host.indexOf(":");t&&(e+='"'),e+=this._host,t&&(e+='"')}return e+=" -p "+this._port,null!==this._sourceAddr&&this._sourceAddr.length>0&&(e+=" --sourceAddr "+this._sourceAddr),e},compareTo:function(e){return this===e?0:null===e?1:e instanceof o?this._port<e._port?-1:e._port<this._port?1:this._host!=e._host?this._host<e._host?-1:1:this._sourceAddr!=e._sourceAddr?this._sourceAddr<e._sourceAddr?-1:1:this._connectionId!=e._connectionId?this._connectionId<e._connectionId?-1:1:0:this.type()<e.type()?-1:1},getAddress:function(){return new e(this._host,this._port)},toConnectorString:function(){return this._host+":"+this._port},streamWriteImpl:function(e){e.writeString(this._host),e.writeInt(this._port)},hashInit:function(e){return e=t.addNumber(e,this.type()),e=t.addString(e,this._host),e=t.addNumber(e,this._port),e=t.addString(e,this._sourceAddr),e=t.addString(e,this._connectionId)},fillEndpointInfo:function(e){var t=this;e.type=function(){return t.type()},e.datagram=function(){return t.datagram()},e.secure=function(){return t.secure()},e.host=this._host,e.port=this._port,e.sourceAddress=this._sourceAddr},initWithOptions:function(e,t){if(Ice.EndpointI.prototype.initWithOptions.call(this,e),null===this._host||0===this._host.length)this._host=this._instance.defaultHost();else if("*"==this._host){if(!t)throw new r("`-h *' not valid for proxy endpoint `"+this+"'");this._host=""}if(null===this._host&&(this._host=""),null===this._sourceAddr)t||(this._sourceAddr=this._instance.defaultSourceAddress());else if(t)throw new r("`--sourceAddress not valid for object adapter endpoint `"+this+"'")},initWithStream:function(e){this._host=e.readString(),this._port=e.readInt()},checkOption:function(e,t,i){if("-h"===e){if(null===t)throw new r("no argument provided for -h option in endpoint "+i);this._host=t}else if("-p"===e){if(null===t)throw new r("no argument provided for -p option in endpoint "+i);try{this._port=n.toInt(t)}catch(e){throw new r("invalid port value `"+t+"' in endpoint "+i)}if(this._port<0||this._port>65535)throw new r("port value `"+t+"' out of range in endpoint "+i)}else{if("--sourceAddress"!==e)return!1;if(null===t)throw new r("no argument provided for --sourceAddress option in endpoint "+i);this._sourceAddr=t}return!0}});Ice.IPEndpointI=o}(),Object.defineProperty(IceSSL,"EndpointType",{value:Ice.SSLEndpointType}),IceSSL.EndpointInfo=B.defineLocalObject((function(e,t,n,i,r){Ice.IPEndpointInfo.call(this,e,t,n,i,r)}),Ice.IPEndpointInfo),IceSSL.WSSEndpointInfo=B.defineLocalObject((function(e,t,n,i,r,o){IceSSL.EndpointInfo.call(this,e,t,n,i,r),this.resource=void 0!==o?o:""}),IceSSL.EndpointInfo),Ice.ConnectionInfo=B.defineLocalObject((function(e,t,n,i,r){this.incoming=void 0!==e&&e,this.adapterName=void 0!==t?t:"",this.connectionId=void 0!==n?n:"",this.rcvSize=void 0!==i?i:0,this.sndSize=void 0!==r?r:0})),Ice.ConnectionCallback=B.defineLocalObject(),Ice.ACMClose=B.defineEnum([["CloseOff",0],["CloseOnIdle",1],["CloseOnInvocation",2],["CloseOnInvocationAndIdle",3],["CloseOnIdleForceful",4]]),Ice.ACMHeartbeat=B.defineEnum([["HeartbeatOff",0],["HeartbeatOnInvocation",1],["HeartbeatOnIdle",2],["HeartbeatAlways",3]]),Ice.ACM=B.defineStruct((function(e,t,n){this.timeout=void 0!==e?e:0,this.close=void 0!==t?t:Ice.ACMClose.CloseOff,this.heartbeat=void 0!==n?n:Ice.ACMHeartbeat.HeartbeatOff}),!0),Ice.Connection=B.defineLocalObject(),Ice.IPConnectionInfo=B.defineLocalObject((function(e,t,n,i,r,o,c,s,a){Ice.ConnectionInfo.call(this,e,t,n,i,r),this.localAddress=void 0!==o?o:"",this.localPort=void 0!==c?c:-1,this.remoteAddress=void 0!==s?s:"",this.remotePort=void 0!==a?a:-1}),Ice.ConnectionInfo),Ice.TCPConnectionInfo=B.defineLocalObject((function(e,t,n,i,r,o,c,s,a){Ice.IPConnectionInfo.call(this,e,t,n,i,r,o,c,s,a)}),Ice.IPConnectionInfo),Ice.UDPConnectionInfo=B.defineLocalObject((function(e,t,n,i,r,o,c,s,a,l,u){Ice.IPConnectionInfo.call(this,e,t,n,i,r,o,c,s,a),this.mcastAddress=void 0!==l?l:"",this.mcastPort=void 0!==u?u:-1}),Ice.IPConnectionInfo),B.defineDictionary(Ice,"HeaderDict","HeaderDictHelper","Ice.StringHelper","Ice.StringHelper",!1,void 0,void 0),Ice.WSConnectionInfo=B.defineLocalObject((function(e,t,n,i,r,o,c,s,a,l){Ice.TCPConnectionInfo.call(this,e,t,n,i,r,o,c,s,a),this.headers=void 0!==l?l:null}),Ice.TCPConnectionInfo),Ice.TraceLevels=function(e){var t="Ice.Trace.",n=e.getPropertyAsInt(t+"Network"),i=e.getPropertyAsInt(t+"Protocol"),r=e.getPropertyAsInt(t+"Retry"),o=e.getPropertyAsInt(t+"Locator"),c=e.getPropertyAsInt(t+"Slicing");return e.getPropertyAsInt(t+"ThreadPool"),Object.create(null,{network:{get:function(){return n}},networkCat:{get:function(){return"Network"}},protocol:{get:function(){return i}},protocolCat:{get:function(){return"Protocol"}},retry:{get:function(){return r}},retryCat:{get:function(){return"Retry"}},location:{get:function(){return o}},locationCat:{get:function(){return"Locator"}},slicing:{get:function(){return c}},slicingCat:{get:function(){return"Slicing"}}})},function(){var e=Ice.Base64,t=Ice.Debug,n=Ice.HashUtil,i=(Ice.Protocol,Ice.StringUtil),r=Ice.EndpointParseException,o=Ice.Class,c=o(Ice.EndpointI,{__init__:function(e){this._rawEncoding=Ice.Encoding_1_0,this._type=void 0===e?-1:e,this._rawBytes=null},streamWrite:function(e){e.startWriteEncaps(this._rawEncoding,Ice.FormatType.DefaultFormat),e.writeBlob(this._rawBytes),e.endWriteEncaps()},getInfo:function(){return new s(-1,!1,this._rawEncoding,this._rawBytes,this._type)},type:function(){return this._type},protocol:function(){return"opaque"},timeout:function(){return-1},changeTimeout:function(e){return this},changeConnectionId:function(e){return this},compress:function(){return!1},changeCompress:function(e){return this},datagram:function(){return!1},secure:function(){return!1},rawBytes:function(){return this._rawBytes},transceiver:function(e){return e.value=null,null},acceptor:function(e,t){return e.value=this,null},connect:function(){return null},hashCode:function(){if(void 0===this._hashCode){var e=5381;e=n.addNumber(e,this._type),e=n.addHashable(e,this._rawEncoding),e=n.addArray(e,this._rawBytes,n.addNumber),this._hashCode=e}return this._hashCode},options:function(){var t="";return t+=" -t "+this._type,t+=" -e "+Ice.encodingVersionToString(this._rawEncoding),t+=" -v "+e.encode(this._rawBytes)},equals:function(e){if(!(e instanceof c))return!1;if(this===e)return!0;if(this._type!==e._type)return!1;if(!this._rawEncoding.equals(e._rawEncoding))return!1;if(this._rawBytes.length!==e._rawBytes.length)return!1;for(var t=0;t<this._rawBytes.length;t++)if(this._rawBytes[t]!==e._rawBytes[t])return!1;return!0},compareTo:function(e){if(this===e)return 0;if(null===e)return 1;if(!(e instanceof c))return this.type()<e.type()?-1:1;if(this._type<e._type)return-1;if(e._type<this._type)return 1;if(this._rawEncoding.major<e._rawEncoding.major)return-1;if(e._rawEncoding.major<this._rawEncoding.major)return 1;if(this._rawEncoding.minor<e._rawEncoding.minor)return-1;if(e._rawEncoding.minor<this._rawEncoding.minor)return 1;if(this._rawBytes.length<e._rawBytes.length)return-1;if(e._rawBytes.length<this._rawBytes.length)return 1;for(var t=0;t<this._rawBytes.length;t++){if(this._rawBytes[t]<e._rawBytes[t])return-1;if(e._rawBytes[t]<this._rawBytes[t])return 1}return 0},checkOption:function(t,n,o){switch(t.charAt(1)){case"t":if(this._type>-1)throw new r("multiple -t options in endpoint "+o);if(null===n)throw new r("no argument provided for -t option in endpoint "+o);var c;try{c=i.toInt(n)}catch(e){throw new r("invalid type value `"+n+"' in endpoint "+o)}if(c<0||c>65535)throw new r("type value `"+n+"' out of range in endpoint "+o);return this._type=c,!0;case"v":if(this._rawBytes)throw new r("multiple -v options in endpoint "+o);if(null===n||0===n.length)throw new r("no argument provided for -v option in endpoint "+o);for(var s=0;s<n.length;++s)if(!e.isBase64(n.charAt(s)))throw new r("invalid base64 character `"+n.charAt(s)+"' (ordinal "+n.charCodeAt(s)+") in endpoint "+o);return this._rawBytes=e.decode(n),!0;case"e":if(null===n)throw new r("no argument provided for -e option in endpoint "+o);try{this._rawEncoding=Ice.stringToEncodingVersion(n)}catch(e){throw new r("invalid encoding version `"+n+"' in endpoint "+o+":\n"+e.str)}return!0;default:return!1}},initWithOptions:function(e){if(Ice.EndpointI.prototype.initWithOptions.call(this,e),t.assert(this._rawEncoding),this._type<0)throw new r("no -t option in endpoint `"+this+"'");if(null===this._rawBytes||0===this._rawBytes.length)throw new r("no -v option in endpoint `"+this+"'")},initWithStream:function(e){this._rawEncoding=e.getReadEncoding();var t=e.getReadEncapsSize();this._rawBytes=e.readBlob(t)}}),s=o(Ice.OpaqueEndpointInfo,{__init__:function(e,t,n,i,r){Ice.OpaqueEndpointInfo.call(this,-1,!1,n,i),this._type=r},type:function(){return this._type},datagram:function(){return!1},secure:function(){return!1}});Ice.OpaqueEndpointI=c}(),function(){var e=Ice.BasicStream,t=Ice.Current,n=Ice.Debug,i=Ice.FormatType,r=Ice.Context,o=Ice.Identity,c=Ice.Protocol,s=Ice.StringUtil,a=Ice.Class({__init__:function(n,i,r,s,a,l){this._instance=n,this._response=s,this._compress=a,this._response&&(this._os=new e(n,c.currentProtocolEncoding)),this._connection=i,this._current=new t,this._current.id=new o,this._current.adapter=r,this._current.con=this._connection,this._current.requestId=l,this._servant=null,this._locator=null,this._cookie={value:null},s&&(this._os.writeBlob(c.replyHdr),this._os.writeInt(l)),this._is=null,this._cb=null,this._active=!0},__startWriteParams:function(e){if(!this._response)throw new Ice.MarshalException("can't marshal out parameters for oneway dispatch");return n.assert(this._os.size==c.headerSize+4),n.assert(null!==this._current.encoding),this._os.writeByte(0),this._os.startWriteEncaps(this._current.encoding,e),this._os},__endWriteParams:function(e){if(this._response){var t=this._os.pos;this._os.pos=c.headerSize+4,this._os.writeByte(e?c.replyOK:c.replyUserException),this._os.pos=t,this._os.endWriteEncaps()}},__writeEmptyParams:function(){this._response&&(n.assert(this._os.size===c.headerSize+4),n.assert(null!==this._current.encoding),this._os.writeByte(c.replyOK),this._os.writeEmptyEncaps(this._current.encoding))},__writeParamEncaps:function(e,t){this._response&&(n.assert(this._os.size===c.headerSize+4),n.assert(null!==this._current.encoding),this._os.writeByte(t?c.replyOK:c.replyUserException),null===e||0===e.length?this._os.writeEmptyEncaps(this._current.encoding):this._os.writeEncaps(e))},__writeUserException:function(e,t){this.__startWriteParams(t).writeUserException(e),this.__endWriteParams(!1)},__warning:function(e){n.assert(null!==this._instance);var t=[];if(t.push("dispatch exception:"),t.push("\nidentity: "+this._instance.identityToString(this._current.id)),t.push("\nfacet: "+s.escapeString(this._current.facet,"")),t.push("\noperation: "+this._current.operation),null!==this._connection){var i=this._connection.getInfo();if(i instanceof Ice.IPConnectionInfo){var r=i;t.push("\nremote host: "+r.remoteAddress+" remote port: "+r.remotePort)}}e.stack&&(t.push("\n"),t.push(e.stack)),this._instance.initializationData().logger.warning(t.join(""))},__servantLocatorFinished:function(){n.assert(null!==this._locator&&null!==this._servant);try{return this._locator.finished(this._current,this._servant,this._cookie.value),!0}catch(e){return e instanceof Ice.UserException?(n.assert(null!==this._connection),this._response?(this._os.resize(c.headerSize+4),this._os.writeByte(c.replyUserException),this._os.startWriteEncaps(),this._os.writeUserException(e),this._os.endWriteEncaps(),this._connection.sendResponse(this._os,this._compress)):this._connection.sendNoResponse(),this._connection=null):this.__handleException(e),!1}},__handleException:function(e){n.assert(null!==this._connection);var t,i=this._instance.initializationData().properties;e instanceof Ice.RequestFailedException?(null===e.id&&(e.id=this._current.id),null===e.facet&&(e.facet=this._current.facet),null!==e.operation&&0!==e.operation.length||(e.operation=this._current.operation),i.getPropertyAsIntWithDefault("Ice.Warn.Dispatch",1)>1&&this.__warning(e),this._response?(this._os.resize(c.headerSize+4),e instanceof Ice.ObjectNotExistException?this._os.writeByte(c.replyObjectNotExist):e instanceof Ice.FacetNotExistException?this._os.writeByte(c.replyFacetNotExist):e instanceof Ice.OperationNotExistException?this._os.writeByte(c.replyOperationNotExist):n.assert(!1),e.id.__write(this._os),null===e.facet||0===e.facet.length?Ice.StringSeqHelper.write(this._os,null):Ice.StringSeqHelper.write(this._os,[e.facet]),this._os.writeString(e.operation),this._connection.sendResponse(this._os,this._compress)):this._connection.sendNoResponse()):e instanceof Ice.UnknownLocalException?(i.getPropertyAsIntWithDefault("Ice.Warn.Dispatch",1)>0&&this.__warning(e),this._response?(this._os.resize(c.headerSize+4),this._os.writeByte(c.replyUnknownLocalException),this._os.writeString(e.unknown),this._connection.sendResponse(this._os,this._compress)):this._connection.sendNoResponse()):e instanceof Ice.UnknownUserException?(i.getPropertyAsIntWithDefault("Ice.Warn.Dispatch",1)>0&&this.__warning(e),this._response?(this._os.resize(c.headerSize+4),this._os.writeByte(c.replyUnknownUserException),this._os.writeString(e.unknown),this._connection.sendResponse(this._os,this._compress)):this._connection.sendNoResponse()):e instanceof Ice.UnknownException?(i.getPropertyAsIntWithDefault("Ice.Warn.Dispatch",1)>0&&this.__warning(e),this._response?(this._os.resize(c.headerSize+4),this._os.writeByte(c.replyUnknownException),this._os.writeString(e.unknown),this._connection.sendResponse(this._os,this._compress)):this._connection.sendNoResponse()):e instanceof Ice.LocalException?(i.getPropertyAsIntWithDefault("Ice.Warn.Dispatch",1)>0&&this.__warning(e),this._response?(this._os.resize(c.headerSize+4),this._os.writeByte(c.replyUnknownLocalException),t=[e.ice_name()],e.stack&&(t.push("\n"),t.push(e.stack)),this._os.writeString(t.join("")),this._connection.sendResponse(this._os,this._compress)):this._connection.sendNoResponse()):e instanceof Ice.UserException?(i.getPropertyAsIntWithDefault("Ice.Warn.Dispatch",1)>0&&this.__warning(e),this._response?(this._os.resize(c.headerSize+4),this._os.writeByte(c.replyUnknownUserException),t=[e.ice_name()],e.stack&&(t.push("\n"),t.push(e.stack)),this._os.writeString(t.join("")),this._connection.sendResponse(this._os,this._compress)):this._connection.sendNoResponse()):(i.getPropertyAsIntWithDefault("Ice.Warn.Dispatch",1)>0&&this.__warning(e),this._response?(this._os.resize(c.headerSize+4),this._os.writeByte(c.replyUnknownException),this._os.writeString(e.stack?e.stack:""),this._connection.sendResponse(this._os,this._compress)):this._connection.sendNoResponse()),this._connection=null},invoke:function(e,t){this._is=t;this._is.pos;this._current.id.__read(this._is);var o=Ice.StringSeqHelper.read(this._is);if(o.length>0){if(o.length>1)throw new Ice.MarshalException;this._current.facet=o[0]}else this._current.facet="";this._current.operation=this._is.readString(),this._current.mode=Ice.OperationMode.valueOf(this._is.readByte()),this._current.ctx=new r;for(var s=this._is.readSize();s-- >0;){var a=this._is.readString(),l=this._is.readString();this._current.ctx.set(a,l)}if(null!==e&&(this._servant=e.findServant(this._current.id,this._current.facet),null===this._servant&&(this._locator=e.findServantLocator(this._current.id.category),null===this._locator&&this._current.id.category.length>0&&(this._locator=e.findServantLocator("")),null!==this._locator)))try{this._servant=this._locator.locate(this._current,this._cookie)}catch(e){if(e instanceof Ice.UserException){var u=this._is.skipEncaps();return this._response?(this._os.writeByte(c.replyUserException),this._os.startWriteEncaps(u,i.DefaultFormat),this._os.writeUserException(e),this._os.endWriteEncaps(),this._connection.sendResponse(this._os,this._compress)):this._connection.sendNoResponse(),void(this._connection=null)}return this._is.skipEncaps(),void this.__handleException(e)}try{if(null===this._servant)throw this._is.skipEncaps(),null!==e&&e.hasServant(this._current.id)?new Ice.FacetNotExistException(this._current.id,this._current.facet,this._current.operation):new Ice.ObjectNotExistException(this._current.id,this._current.facet,this._current.operation);if(this._servant.__dispatch(this,this._current)===Ice.DispatchStatus.DispatchAsync)return;if(null!==this._locator&&!this.__servantLocatorFinished())return}catch(e){if(null!==this._servant&&null!==this._locator&&!this.__servantLocatorFinished())return;return void this.__handleException(e)}n.assert(null!==this._connection),this._response?this._connection.sendResponse(this._os,this._compress):this._connection.sendNoResponse(),this._connection=null},startReadParams:function(){return this._current.encoding=this._is.startReadEncaps(),this._is},endReadParams:function(){this._is.endReadEncaps()},readEmptyParams:function(){this._current.encoding=new Ice.EncodingVersion,this._is.skipEmptyEncaps(this._current.encoding)},readParamEncaps:function(){return this._current.encoding=new Ice.EncodingVersion,this._is.readEncaps(this._current.encoding)},__response:function(){try{if(null!==this._locator&&!this.__servantLocatorFinished())return;n.assert(null!==this._connection),this._response?this._connection.sendResponse(this._os,this._compress):this._connection.sendNoResponse(),this._connection=null}catch(e){this._connection.invokeException(e,1)}},__exception:function(e){try{if(null!==this._locator&&!this.__servantLocatorFinished())return;this.__handleException(e)}catch(e){this._connection.invokeException(e,1)}},__validateResponse:function(e){return!!this._active&&(this._active=!1,!0)},ice_exception:function(e){this._active&&(this._active=!1,null!==this._connection?this.__exception(e):this._instance.initializationData().properties.getPropertyAsIntWithDefault("Ice.Warn.Dispatch",1)>0&&this.__warning(e))}});Ice.IncomingAsync=a}(),function(){Ice.AsyncResult;var e=Ice.AsyncStatus,t=(Ice.BasicStream,Ice.ConnectionRequestHandler),n=Ice.Debug,i=(Ice.ExUtil,Ice.RetryException),r=(Ice.OutgoingAsync,Ice.Protocol,Ice.ReferenceMode),o=Ice.LocalException,c=(Ice.Promise,Ice.Class({__init__:function(e,t){this._reference=e,this._response=e.getMode()===r.ModeTwoway,this._proxy=t,this._proxies=[],this._initialized=!1,this._connection=null,this._compress=!1,this._exception=null,this._requests=[]},connect:function(e){return this.initialized()||this._proxies.push(e),this._requestHandler?this._requestHandler:this},update:function(e,t){return e===this?t:this},sendAsyncRequest:function(t){return this._initialized||t.__cancelable(this),this.initialized()?t.__invokeRemote(this._connection,this._compress,this._response):(this._requests.push(t),e.Queued)},asyncRequestCanceled:function(e,t){if(null===this._exception){if(!this.initialized()){for(var i=0;i<this._requests.length;i++)if(this._requests[i]===e)return e.__completedEx(t),void this._requests.splice(i,1);n.assert(!1)}this._connection.asyncRequestCanceled(e,t)}},getReference:function(){return this._reference},getConnection:function(){if(null!==this._exception)throw this._exception;return this._connection},setConnection:function(e,t){n.assert(null===this._exception&&null===this._connection),this._connection=e,this._compress=t;var i=this._reference.getRouterInfo();if(null===i)this.flushRequests();else{var r=this;i.addProxy(this._proxy).then((function(){r.flushRequests()}),(function(e){r.setException(e)}))}},setException:function(e){n.assert(!this._initialized&&null===this._exception),this._exception=e,this._proxies.length=0,this._proxy=null;try{this._reference.getInstance().requestHandlerFactory().removeRequestHandler(this._reference,this)}catch(e){}for(var t=0;t<this._requests.length;++t){var i=this._requests[t];null!==i&&i.__completedEx(this._exception)}this._requests.length=0},initialized:function(){if(this._initialized)return n.assert(null!==this._connection),!0;if(null!==this._exception){if(null!==this._connection)return!0;throw this._exception}return this._initialized},flushRequests:function(){n.assert(null!==this._connection&&!this._initialized);for(var e=null,r=0;r<this._requests.length;++r){var c=this._requests[r];try{c.__invokeRemote(this._connection,this._compress,this._response)}catch(t){t instanceof i?(e=t.inner,this._reference.getInstance().requestHandlerFactory().removeRequestHandler(this._reference,this),c.__retryException(t.inner)):(n.assert(t instanceof o),e=t,c.out.__completedEx(t))}}if(this._requests.length=0,this._reference.getCacheConnection()&&null===e){this._requestHandler=new t(this._reference,this._connection,this._compress);for(var s=0;s<this._proxies.length;++s)this._proxies[s].__updateRequestHandler(this,this._requestHandler)}n.assert(!this._initialized),this._exception=e,this._initialized=null===this._exception,this._reference.getInstance().requestHandlerFactory().removeRequestHandler(this._reference,this),this._proxies.length=0,this._proxy=null}}));Ice.ConnectRequestHandler=c}(),IceSSL.ConnectionInfo=B.defineLocalObject((function(e,t,n,i,r,o,c,s,a,l,u,d){Ice.IPConnectionInfo.call(this,e,t,n,i,r,o,c,s,a),this.cipher=void 0!==l?l:"",this.certs=void 0!==u?u:null,this.verified=void 0!==d&&d}),Ice.IPConnectionInfo),IceSSL.WSSConnectionInfo=B.defineLocalObject((function(e,t,n,i,r,o,c,s,a,l,u,d,h){IceSSL.ConnectionInfo.call(this,e,t,n,i,r,o,c,s,a,l,u,d),this.headers=void 0!==h?h:null}),IceSSL.ConnectionInfo),function(){var e,t=Ice.__M.module("IceSSL");e=!u&&(-1===navigator.userAgent.indexOf("Edge/")&&-1!==navigator.userAgent.indexOf("Chrome/"));var n=Ice.Debug,i=(Ice.ExUtil,Ice.Network,Ice.SocketOperation),r=(Ice.Connection,Ice.LocalException,Ice.SocketException,Ice.Timer),o=Ice.Class({__init__:function(e){this._logger=e.logger(),this._readBuffers=[],this._readPosition=0,this._maxSendPacketSize=e.properties().getPropertyAsIntWithDefault("Ice.TCP.SndSize",524288),this._writeReadyTimeout=0},writeReadyTimeout:function(){var e=Math.round(this._writeReadyTimeout);return this._writeReadyTimeout+=this._writeReadyTimeout>=5?5:.2,Math.min(e,25)},setCallbacks:function(e,t,n){this._connectedCallback=e,this._bytesAvailableCallback=t,this._bytesWrittenCallback=n},initialize:function(e,t){try{if(this._exception)throw this._exception;if(0===this._state){if(u){o=this;this._state=1,this._fd=wx.connectSocket({url:this._url});var r=Ice.generateUUID();return this._fd.onOpen((function(e){console.crlog("[RTC] WebSocket connect open... "+o._url),o.socketConnected(e),v.execute(r)})),this._fd.onMessage((function(e){v.isConnect(r)?o.socketBytesAvailable(e.data):v.add(r,(function(){o.socketBytesAvailable(e.data)}))})),this._fd.onClose((function(e){console.crlog("[RTC] socket closed,url: ".concat(o._url," ,event: ").concat(JSON.stringify(e))),o.socketClosed(e),v.del(r)})),this._fd.onError((function(e){console.crlog("[RTC] socket onerror... ",e),console.crlog(e),o.socketClosed(e)})),i.Connect}this._state=1,this._fd=new WebSocket(this._url,"ice.zeroc.com"),this._fd.binaryType="arraybuffer";var o=this;return this._fd.onopen=function(e){console.crlog("[RTC] Websocket is opened. is: "+o._url),o.socketConnected(e)},this._fd.onmessage=function(e){o.socketBytesAvailable(e.data)},this._fd.onclose=function(e){console.crlog("[RTC] Websocket is close. is: "+o._url),o.socketClosed(e)},i.Connect}1===this._state&&(this._desc="local address = <not available>\nremote address = "+(s=this._addr).host+":"+s.port,this._state=2)}catch(e){throw this._exception||(this._exception=c(this._state,e)),this._exception}var s;return n.assert(2===this._state),i.None},register:function(){this._registered=!0,(this._hasBytesAvailable||this._exception)&&(this._bytesAvailableCallback(),this._hasBytesAvailable=!1)},unregister:function(){this._registered=!1},close:function(){if(null!==this._fd)if(e&&this._fd.readyState===WebSocket.CONNECTING)this._state=3;else{n.assert(null!==this._fd);try{this._state=4,this._fd.close()}catch(e){throw c(this._state,e)}finally{this._fd=null}}else n.assert(this._exception)},write:function(e){if(this._exception)throw this._exception;if(0===e.remaining)return!0;n.assert(this._fd);for(e.position;;){var t=this._maxSendPacketSize>0&&e.remaining>this._maxSendPacketSize?this._maxSendPacketSize:e.remaining;if(0===e.remaining)break;if(n.assert(t>0),this._fd.bufferedAmount+t>this._maxSendPacketSize){var i=this;return r.setTimeout((function(){i._fd&&i._fd.bufferedAmount+t<=i._maxSendPacketSize&&i._bytesWrittenCallback(0,0)}),this.writeReadyTimeout()),!1}this._writeReadyTimeout=0;var o=e.b.slice(e.position,e.position+t);u?this._fd.send({data:o,success:function(e){},fail:function(e){console.crlog("[RTC] Send message fail: ".concat(JSON.stringify(e)," "))}}):this._fd.send(o),e.position=e.position+t}return!0},read:function(e,t){if(this._exception)throw this._exception;if(t.value=!1,0===this._readBuffers.length)return!1;var i=this._readBuffers[0].byteLength-this._readPosition;n.assert(i>0);for(e.remaining;e.remaining>0;)if(i>e.remaining&&(i=e.remaining),new Uint8Array(e.b).set(new Uint8Array(this._readBuffers[0],this._readPosition,i),e.position),e.position+=i,this._readPosition+=i,this._readPosition===this._readBuffers[0].byteLength){if(this._readPosition=0,this._readBuffers.shift(),0===this._readBuffers.length)break;i=this._readBuffers[0].byteLength}return t.value=this._readBuffers.byteLength>0,0===e.remaining},type:function(){return this._secure?"wss":"ws"},getInfo:function(){n.assert(null!==this._fd);var e=this._secure?new t.WSSConnectionInfo:new Ice.WSConnectionInfo;return e.localAddress="",e.localPort=-1,e.remoteAddress=this._addr.host,e.remotePort=this._addr.port,e.rcvSize=-1,e.sndSize=this._maxSendPacketSize,e.headers={},e},checkSendSize:function(e){},setBufferSize:function(e,t){this._maxSendPacketSize=t},toString:function(){return this._desc},socketConnected:function(e){3!=this._state?(n.assert(null!==this._connectedCallback),this._connectedCallback()):this.close()},socketBytesAvailable:function(e){if(n.assert(null!==this._bytesAvailableCallback),e.byteLength>0)if(this._readBuffers.push(e),this._registered)for(;this._readBuffers.length>0;)this._bytesAvailableCallback();else this._hasBytesAvailable||(this._hasBytesAvailable=!0)},socketClosed:function(e){3!=this._state?(this._exception=c(this._state,e),this._state<2?this._connectedCallback():this._registered&&this._bytesAvailableCallback()):this.close()}});function c(e,t){return e<2?new Ice.ConnectFailedException(t.code,t):1e3===t.code||1006===t.code?new Ice.ConnectionLostException:new Ice.SocketException(t.code,t)}o.createOutgoing=function(e,t,n,i){var r=new o(e),c=t?"wss":"ws";return c+="://"+n.host,80!==n.port&&(c+=":"+n.port),c+=i||"/",r._url=c,r._fd=null,r._addr=n,r._desc="local address = <not available>\nremote address = "+n.host+":"+n.port,r._state=0,r._secure=t,r._exception=null,r},Ice.WSTransceiver=o}(),Ice.Router=B.defineObject(void 0,Ice.Object,void 0,1,["::Ice::Object","::Ice::Router"],-1,void 0,void 0,!1),Ice.RouterPrx=B.defineProxy(Ice.ObjectPrx,Ice.Router.ice_staticId,void 0),B.defineOperations(Ice.Router,Ice.RouterPrx,{getClientProxy:[,2,1,,,[9],,,,,],getServerProxy:[,2,1,,,[9],,,,,],addProxies:[,2,2,,,["Ice.ObjectProxySeqHelper"],[["Ice.ObjectProxySeqHelper"]],,,,]}),Ice.RouterFinder=B.defineObject(void 0,Ice.Object,void 0,1,["::Ice::Object","::Ice::RouterFinder"],-1,void 0,void 0,!1),Ice.RouterFinderPrx=B.defineProxy(Ice.ObjectPrx,Ice.RouterFinder.ice_staticId,void 0),B.defineOperations(Ice.RouterFinder,Ice.RouterFinderPrx,{getRouter:[,,,,,["Ice.RouterPrx"],,,,,]}),Ice.AdapterNotFoundException=B.defineUserException((function(e){Ice.UserException.call(this,e)}),Ice.UserException,"Ice::AdapterNotFoundException",void 0,void 0,!1,!1),Ice.InvalidReplicaGroupIdException=B.defineUserException((function(e){Ice.UserException.call(this,e)}),Ice.UserException,"Ice::InvalidReplicaGroupIdException",void 0,void 0,!1,!1),Ice.AdapterAlreadyActiveException=B.defineUserException((function(e){Ice.UserException.call(this,e)}),Ice.UserException,"Ice::AdapterAlreadyActiveException",void 0,void 0,!1,!1),Ice.ObjectNotFoundException=B.defineUserException((function(e){Ice.UserException.call(this,e)}),Ice.UserException,"Ice::ObjectNotFoundException",void 0,void 0,!1,!1),Ice.ServerNotFoundException=B.defineUserException((function(e){Ice.UserException.call(this,e)}),Ice.UserException,"Ice::ServerNotFoundException",void 0,void 0,!1,!1),Ice.Locator=B.defineObject(void 0,Ice.Object,void 0,0,["::Ice::Locator","::Ice::Object"],-1,void 0,void 0,!1),Ice.LocatorPrx=B.defineProxy(Ice.ObjectPrx,Ice.Locator.ice_staticId,void 0),B.defineOperations(Ice.Locator,Ice.LocatorPrx,{findObjectById:[,2,1,1,,[9],[[Ice.Identity]],,[Ice.ObjectNotFoundException],,],findAdapterById:[,2,1,1,,[9],[[7]],,[Ice.AdapterNotFoundException],,],getRegistry:[,2,1,,,["Ice.LocatorRegistryPrx"],,,,,]}),Ice.LocatorRegistry=B.defineObject(void 0,Ice.Object,void 0,0,["::Ice::LocatorRegistry","::Ice::Object"],-1,void 0,void 0,!1),Ice.LocatorRegistryPrx=B.defineProxy(Ice.ObjectPrx,Ice.LocatorRegistry.ice_staticId,void 0),B.defineOperations(Ice.LocatorRegistry,Ice.LocatorRegistryPrx,{setAdapterDirectProxy:[,2,2,1,,,[[7],[9]],,[Ice.AdapterAlreadyActiveException,Ice.AdapterNotFoundException],,],setReplicatedAdapterDirectProxy:[,2,2,1,,,[[7],[7],[9]],,[Ice.AdapterAlreadyActiveException,Ice.AdapterNotFoundException,Ice.InvalidReplicaGroupIdException],,],setServerProcessProxy:[,2,2,1,,,[[7],["Ice.ProcessPrx"]],,[Ice.ServerNotFoundException],,]}),Ice.LocatorFinder=B.defineObject(void 0,Ice.Object,void 0,0,["::Ice::LocatorFinder","::Ice::Object"],-1,void 0,void 0,!1),Ice.LocatorFinderPrx=B.defineProxy(Ice.ObjectPrx,Ice.LocatorFinder.ice_staticId,void 0),B.defineOperations(Ice.LocatorFinder,Ice.LocatorFinderPrx,{getLocator:[,,,,,["Ice.LocatorPrx"],,,,,]}),function(){var e=Ice.Debug,t=Ice.HashUtil,n=Ice.StringUtil,i=void 0!==Ice.TcpTransceiver?Ice.TcpTransceiver:null,r=(0,Ice.Class)(Ice.IPEndpointI,{__init__:function(e,t,n,i,r,o,c){Ice.IPEndpointI.call(this,e,t,n,i,o),this._timeout=void 0===r?e?e.defaultTimeout():void 0:r,this._compress=void 0!==c&&c},getInfo:function(){var e=this.secure()?new IceSSL.EndpointInfo:new Ice.TCPEndpointInfo;return this.fillEndpointInfo(e),e},timeout:function(){return this._timeout},changeTimeout:function(e){return e===this._timeout?this:new r(this._instance,this._host,this._port,this._sourceAddr,e,this._connectionId,this._compress)},changeConnectionId:function(e){return e===this._connectionId?this:new r(this._instance,this._host,this._port,this._sourceAddr,this._timeout,e,this._compress)},compress:function(){return this._compress},changeCompress:function(e){return e===this._compress?this:new r(this._instance,this._host,this._port,this._sourceAddr,this._timeout,this._connectionId,e)},datagram:function(){return!1},connectable:function(){return null!==i&&!this.secure()},connect:function(){return e.assert(!this.secure()),i.createOutgoing(this._instance,this.getAddress(),this._sourceAddr)},options:function(){var e=Ice.IPEndpointI.prototype.options.call(this);return-1==this._timeout?e+=" -t infinite":e+=" -t "+this._timeout,this._compress&&(e+=" -z"),e},compareTo:function(e){return this===e?0:null===e?1:e instanceof r?this._timeout<e._timeout?-1:e._timeout<this._timeout?1:!this._compress&&e._compress?-1:!e._compress&&this._compress?1:Ice.IPEndpointI.prototype.compareTo.call(this,e):this.type()<e.type()?-1:1},streamWriteImpl:function(e){Ice.IPEndpointI.prototype.streamWriteImpl.call(this,e),e.writeInt(this._timeout),e.writeBool(this._compress)},hashInit:function(e){return e=Ice.IPEndpointI.prototype.hashInit.call(this,e),e=t.addNumber(e,this._timeout),e=t.addBoolean(e,this._compress)},fillEndpointInfo:function(e){Ice.IPEndpointI.prototype.fillEndpointInfo.call(this,e),e.timeout=this._timeout,e.compress=this._compress},initWithStream:function(e){Ice.IPEndpointI.prototype.initWithStream.call(this,e),this._timeout=e.readInt(),this._compress=e.readBool()},checkOption:function(e,t,i){if(Ice.IPEndpointI.prototype.checkOption.call(this,e,t,i))return!0;if("-t"===e){if(null===t)throw new Ice.EndpointParseException("no argument provided for -t option in endpoint "+i);if("infinite"==t)this._timeout=-1;else{var r=!1;try{this._timeout=n.toInt(t)}catch(e){r=!0}if(r||this._timeout<1)throw new Ice.EndpointParseException("invalid timeout value `"+t+"' in endpoint "+i)}}else{if("-z"!==e)return!1;if(null!==t)throw new Ice.EndpointParseException("unexpected argument `"+t+"' provided for -z option in "+i);this._compress=!0}return!0},createEndpoint:function(e,t,n){return new r(this._instance,e,t,this._sourceAddr,this._timeout,n,this._compress)}});Ice.TcpEndpointI=r}(),function(){var e=Ice.AsyncStatus,t=Ice.AsyncResultBase,n=Ice.BasicStream,i=Ice.BatchRequestQueue,r=Ice.ConnectionFlushBatch,o=Ice.Debug,c=Ice.ExUtil,s=Ice.HashMap,a=Ice.IncomingAsync,l=Ice.RetryException,u=Ice.Promise,d=Ice.Protocol,h=Ice.SocketOperation,f=Ice.Timer,p=Ice.TraceUtil,_=Ice.ProtocolVersion,C=Ice.EncodingVersion,g=Ice.ACM,y=Ice.ACMClose,I=Ice.ACMHeartbeat,v=function(e){this.stream=new n(e,d.currentProtocolEncoding),this.invokeNum=0,this.requestId=0,this.compress=!1,this.servantManager=null,this.adapter=null,this.outAsync=null,this.heartbeatCallback=null},m=Ice.Class,S=m({__init__:function(e,t,r,o,c,a,l){this._communicator=e,this._instance=t,this._monitor=r,this._transceiver=o,this._desc=o.toString(),this._type=o.type(),this._endpoint=c,this._incoming=a,this._adapter=l;var u=t.initializationData();this._logger=u.logger,this._traceLevels=t.traceLevels(),this._timer=t.timer(),this._writeTimeoutId=0,this._writeTimeoutScheduled=!1,this._readTimeoutId=0,this._readTimeoutScheduled=!1,this._hasMoreData={value:!1},this._warn=u.properties.getPropertyAsInt("Ice.Warn.Connections")>0,this._warnUdp=t.initializationData().properties.getPropertyAsInt("Ice.Warn.Datagrams")>0,this._acmLastActivity=null!==this._monitor&&this._monitor.getACM().timeout>0?Date.now():-1,this._nextRequestId=1,this._messageSizeMax=l?l.messageSizeMax():t.messageSizeMax(),this._batchRequestQueue=new i(t,c.datagram()),this._sendStreams=[],this._readStream=new n(t,d.currentProtocolEncoding),this._readHeader=!1,this._writeStream=new n(t,d.currentProtocolEncoding),this._readStreamPos=-1,this._writeStreamPos=-1,this._dispatchCount=0,this._state=0,this._shutdownInitiated=!1,this._initialized=!1,this._validated=!1,this._readProtocol=new _,this._readProtocolEncoding=new C,this._asyncRequests=new s,this._exception=null,this._startPromise=null,this._closePromises=[],this._holdPromises=[],this._finishedPromises=[],null!==this._adapter?this._servantManager=this._adapter.getServantManager():this._servantManager=null,this._callback=null},start:function(){o.assert(null===this._startPromise);try{if(this._state>=5)return o.assert(null!==this._exception),(new u).fail(this._exception);this._startPromise=new u;var e=this;this._transceiver.setCallbacks((function(){e.message(h.Write)}),(function(){e.message(h.Read)}),(function(t,n){if(e.message(h.Write),e._instance.traceLevels().network>=3&&t>0){var i=[];i.push("sent "),i.push(t),e._endpoint.datagram()||(i.push(" of "),i.push(n)),i.push(" bytes via "),i.push(e._endpoint.protocol()),i.push("\n"),i.push(this.toString()),e._instance.initializationData().logger.trace(e._instance.traceLevels().networkCat,i.join(""))}})),this.initialize()}catch(e){return e instanceof Ice.LocalException&&this.exception(e),(new u).fail(e)}return this._startPromise},activate:function(){this._state<=1||(this._acmLastActivity>0&&(this._acmLastActivity=Date.now()),this.setState(2))},hold:function(){this._state<=1||this.setState(3)},destroy:function(e){switch(e){case S.ObjectAdapterDeactivated:this.setState(4,new Ice.ObjectAdapterDeactivatedException);break;case S.CommunicatorDestroyed:this.setState(4,new Ice.CommunicatorDestroyedException)}},close:function(e){var n=new t(this._communicator,"close",this,null,null);return e?(this.setState(5,new Ice.ForcedCloseConnectionException),n.succeed(n)):(this._closePromises.push(n),this.checkClose()),n},checkClose:function(){if(0===this._asyncRequests.size&&this._closePromises.length>0){this.setState(4,new Ice.CloseConnectionException);for(var e=0;e<this._closePromises.length;++e)this._closePromises[e].succeed(this._closePromises[e]);this._closePromises=[]}},isActiveOrHolding:function(){return this._state>1&&this._state<4},isFinished:function(){return 6===this._state&&0===this._dispatchCount&&(o.assert(6===this._state),!0)},throwException:function(){if(null!==this._exception)throw o.assert(this._state>=4),this._exception},waitUntilHolding:function(){var e=new u;return this._holdPromises.push(e),this.checkState(),e},waitUntilFinished:function(){var e=new u;return this._finishedPromises.push(e),this.checkState(),e},monitor:function(e,t){2===this._state&&((t.heartbeat==Ice.ACMHeartbeat.HeartbeatAlways||t.heartbeat!=Ice.ACMHeartbeat.HeartbeatOff&&this._writeStream.isEmpty()&&e>=this._acmLastActivity+t.timeout/4)&&(t.heartbeat!=Ice.ACMHeartbeat.HeartbeatOnInvocation||this._dispatchCount>0)&&this.heartbeat(),this._readStream.size>d.headerSize||!this._writeStream.isEmpty()||t.close!=Ice.ACMClose.CloseOff&&e>=this._acmLastActivity+t.timeout&&(t.close==Ice.ACMClose.CloseOnIdleForceful||t.close!=Ice.ACMClose.CloseOnIdle&&this._asyncRequests.size>0?this.setState(5,new Ice.ConnectionTimeoutException):t.close!=Ice.ACMClose.CloseOnInvocation&&0===this._dispatchCount&&this._batchRequestQueue.isEmpty()&&0===this._asyncRequests.size&&this.setState(4,new Ice.ConnectionTimeoutException)))},sendAsyncRequest:function(e,t,n,i){var r,c=0,s=e.__os();if(null!==this._exception)throw new l(this._exception);o.assert(this._state>1),o.assert(this._state<4),this._transceiver.checkSendSize(s),e.__cancelable(this),n?((c=this._nextRequestId++)<=0&&(this._nextRequestId=1,c=this._nextRequestId++),s.pos=d.headerSize,s.writeInt(c)):i>0&&(s.pos=d.headerSize,s.writeInt(i));try{r=this.sendMessage(E.create(e,e.__os(),t,c))}catch(e){throw e instanceof Ice.LocalException?(this.setState(5,e),o.assert(null!==this._exception),this._exception):e}return n&&this._asyncRequests.set(c,e),r},getBatchRequestQueue:function(){return this._batchRequestQueue},flushBatchRequests:function(){var e=new r(this,this._communicator,"flushBatchRequests");return e.__invoke(),e},setCallback:function(e){if(this._state>=5){if(null!==e){var t=this;f.setImmediate((function(){try{e.closed(this)}catch(e){t._logger.error("connection callback exception:\n"+e+"\n"+t._desc)}}))}}else this._callback=e},setACM:function(e,t,n){null===this._monitor||this._state>=5||(2==this._state&&this._monitor.remove(this),this._monitor=this._monitor.acm(e,t,n),2==this._state&&this._monitor.add(this),this._monitor.getACM().timeout<=0?this._acmLastActivity=-1:2==this._state&&-1==this._acmLastActivity&&(this._acmLastActivity=Date.now()))},getACM:function(){return null!==this._monitor?this._monitor.getACM():new g(0,y.CloseOff,I.HeartbeatOff)},asyncRequestCanceled:function(e,t){for(var n=0;n<this._sendStreams.length;n++){var i=this._sendStreams[n];if(i.outAsync===e)return i.requestId>0&&this._asyncRequests.del(i.requestId),i.canceled(),0!==n&&this._sendStreams.splice(n,1),void e.__completedEx(t)}if(e instanceof Ice.OutgoingAsync)for(var r=this._asyncRequests.entries;null!==r;r=r.next)if(r.value===e)return this._asyncRequests.del(r.key),void e.__completedEx(t)},sendResponse:function(e,t){o.assert(this._state>1);try{if(0==--this._dispatchCount&&(6===this._state&&this.reap(),this.checkState()),this._state>=5)throw o.assert(null!==this._exception),this._exception;this.sendMessage(E.createForStream(e,0!==t,!0)),4===this._state&&0===this._dispatchCount&&this.initiateShutdown()}catch(e){if(!(e instanceof Ice.LocalException))throw e;this.setState(5,e)}},sendNoResponse:function(){o.assert(this._state>1);try{if(0==--this._dispatchCount&&(6===this._state&&this.reap(),this.checkState()),this._state>=5)throw o.assert(null!==this._exception),this._exception;4===this._state&&0===this._dispatchCount&&this.initiateShutdown()}catch(e){if(!(e instanceof Ice.LocalException))throw e;this.setState(5,e)}},endpoint:function(){return this._endpoint},setAdapter:function(e){this._state<=1||this._state>=4||(o.assert(this._state<4),this._adapter=e,null!==this._adapter?(this._servantManager=this._adapter.getServantManager(),null===this._servantManager&&(this._adapter=null)):this._servantManager=null)},getAdapter:function(){return this._adapter},getEndpoint:function(){return this._endpoint},createProxy:function(e){return this._instance.proxyFactory().referenceToProxy(this._instance.referenceFactory().createFixed(e,this))},message:function(e){if(!(this._state>=5)){this.unscheduleTimeout(e),this._hasMoreData.value=0!=(e&h.Read);var t=null;try{if(0!=(e&h.Write)&&this._writeStream.buffer.remaining>0){if(!this.write(this._writeStream.buffer))return o.assert(!this._writeStream.isEmpty()),void this.scheduleTimeout(h.Write,this._endpoint.timeout());o.assert(0===this._writeStream.buffer.remaining)}if(0!=(e&h.Read)&&!this._readStream.isEmpty()){if(this._readHeader){if(!this.read(this._readStream.buffer))return;o.assert(0===this._readStream.buffer.remaining),this._readHeader=!1;var n=this._readStream.pos;if(n<d.headerSize)throw new Ice.IllegalMessageSizeException;this._readStream.pos=0;var i=this._readStream.readByte(),r=this._readStream.readByte(),s=this._readStream.readByte(),a=this._readStream.readByte();if(i!==d.magic[0]||r!==d.magic[1]||s!==d.magic[2]||a!==d.magic[3]){var l=new Ice.BadMagicException;throw l.badMagic=Ice.Buffer.createNative([i,r,s,a]),l}this._readProtocol.__read(this._readStream),d.checkSupportedProtocol(this._readProtocol),this._readProtocolEncoding.__read(this._readStream),d.checkSupportedProtocolEncoding(this._readProtocolEncoding),this._readStream.readByte(),this._readStream.readByte();var u=this._readStream.readInt();if(u<d.headerSize)throw new Ice.IllegalMessageSizeException;u>this._messageSizeMax&&c.throwMemoryLimitException(u,this._messageSizeMax),u>this._readStream.size&&this._readStream.resize(u),this._readStream.pos=n}if(this._readStream.pos!=this._readStream.size){if(this._endpoint.datagram())throw new Ice.DatagramLimitException;if(!this.read(this._readStream.buffer))return o.assert(!this._readStream.isEmpty()),void this.scheduleTimeout(h.Read,this._endpoint.timeout());o.assert(0===this._readStream.buffer.remaining)}}if(this._state<=1){if(0===this._state&&!this.initialize())return;if(this._state<=1&&!this.validate())return;this._transceiver.unregister(),this.setState(3),null!==this._startPromise&&++this._dispatchCount}else o.assert(this._state<=4),0!=(e&h.Read)&&(t=this.parseMessage()),0!=(e&h.Write)&&this.sendNextMessage()}catch(e){if(e instanceof Ice.DatagramLimitException)return this._warnUdp&&this._logger.warning("maximum datagram size of "+this._readStream.pos+" exceeded"),this._readStream.resize(d.headerSize),this._readStream.pos=0,void(this._readHeader=!0);if(e instanceof Ice.SocketException)return void this.setState(5,e);if(e instanceof Ice.LocalException)return void(this._endpoint.datagram()?(this._warn&&this._logger.warning("datagram connection exception:\n"+e+"\n"+this._desc),this._readStream.resize(d.headerSize),this._readStream.pos=0,this._readHeader=!0):this.setState(5,e));throw e}if(this._acmLastActivity>0&&(this._acmLastActivity=Date.now()),this.dispatch(t),this._hasMoreData.value){var p=this;f.setImmediate((function(){p.message(h.Read)}))}}},dispatch:function(e){var t=0;if(null!==this._startPromise&&(this._startPromise.succeed(),this._startPromise=null,++t),null!==e&&(null!==e.outAsync&&(e.outAsync.__completed(e.stream),++t),e.invokeNum>0&&this.invokeAll(e.stream,e.invokeNum,e.requestId,e.compress,e.servantManager,e.adapter),e.heartbeatCallback)){try{e.heartbeatCallback.heartbeat(this)}catch(e){this._logger.error("connection callback exception:\n"+e+"\n"+this._desc)}e.heartbeatCallback=null,++t}if(t>0&&(this._dispatchCount-=t,0===this._dispatchCount)){if(4!==this._state||this._shutdownInitiated)6===this._state&&this.reap();else try{this.initiateShutdown()}catch(e){if(!(e instanceof Ice.LocalException))throw e;this.setState(5,e)}this.checkState()}},finish:function(){var e;o.assert(5===this._state),this.unscheduleTimeout(h.Read|h.Write|h.Connect);var t=this._instance.traceLevels();if(this._initialized?t.network>=1&&((e=[]).push("closed "),e.push(this._endpoint.protocol()),e.push(" connection\n"),e.push(this.toString()),this._exception instanceof Ice.CloseConnectionException||this._exception instanceof Ice.ForcedCloseConnectionException||this._exception instanceof Ice.ConnectionTimeoutException||this._exception instanceof Ice.CommunicatorDestroyedException||this._exception instanceof Ice.ObjectAdapterDeactivatedException||(e.push("\n"),e.push(this._exception.toString())),this._instance.initializationData().logger.trace(t.networkCat,e.join(""))):t.network>=2&&((e=[]).push("failed to establish "),e.push(this._endpoint.protocol()),e.push(" connection\n"),e.push(this.toString()),e.push("\n"),e.push(this._exception.toString()),this._instance.initializationData().logger.trace(t.networkCat,e.join(""))),null!==this._startPromise&&(this._startPromise.fail(this._exception),this._startPromise=null),this._sendStreams.length>0){if(!this._writeStream.isEmpty()){var n=this._sendStreams[0];this._writeStream.swap(n.stream)}for(var i=0;i<this._sendStreams.length;++i){var r=this._sendStreams[i];r.requestId>0&&this._asyncRequests.del(r.requestId),r.completed(this._exception)}this._sendStreams=[]}for(var c=this._asyncRequests.entries;null!==c;c=c.next)c.value.__completedEx(this._exception);if(this._asyncRequests.clear(),this._readStream.clear(),this._readStream.buffer.clear(),this._writeStream.clear(),this._writeStream.buffer.clear(),null!==this._callback){try{this._callback.closed(this)}catch(e){this._logger.error("connection callback exception:\n"+e+"\n"+this._desc)}this._callback=null}0===this._dispatchCount&&this.reap(),this.setState(6)},toString:function(){return this._desc},timedOut:function(e){this._state<=1?this.setState(5,new Ice.ConnectTimeoutException):this._state<4?this.setState(5,new Ice.TimeoutException):4===this._state&&this.setState(5,new Ice.CloseTimeoutException)},type:function(){return this._type},timeout:function(){return this._endpoint.timeout()},getInfo:function(){if(this._state>=5)throw this._exception;var e=this._transceiver.getInfo();return e.adapterName=null!==this._adapter?this._adapter.getName():"",e.incoming=this._incoming,e},setBufferSize:function(e,t){if(this._state>=5)throw this._exception;this._transceiver.setBufferSize(e,t)},exception:function(e){this.setState(5,e)},invokeException:function(e,t){this.setState(5,e),t>0&&(o.assert(this._dispatchCount>0),this._dispatchCount-=t,o.assert(this._dispatchCount>=0),0===this._dispatchCount&&(6===this._state&&this.reap(),this.checkState()))},setState:function(e,t){if(void 0!==t){if(o.assert(t instanceof Ice.LocalException),o.assert(e>=4),this._state===e)return;null===this._exception&&(this._exception=t,this._warn&&this._validated&&(this._exception instanceof Ice.CloseConnectionException||this._exception instanceof Ice.ForcedCloseConnectionException||this._exception instanceof Ice.ConnectionTimeoutException||this._exception instanceof Ice.CommunicatorDestroyedException||this._exception instanceof Ice.ObjectAdapterDeactivatedException||this._exception instanceof Ice.ConnectionLostException&&4===this._state||this.warning("connection exception",this._exception)))}if(this._endpoint.datagram()&&4===e&&(e=5),this._state<=1&&4===e&&(e=5),this._state!==e){try{switch(e){case 0:o.assert(!1);break;case 1:if(0!==this._state)return void o.assert(5===this._state);this._endpoint.datagram()||this._incoming||this._transceiver.register();break;case 2:if(3!==this._state&&1!==this._state)return;this._transceiver.register();break;case 3:if(2!==this._state&&1!==this._state)return;2===this._state&&this._transceiver.unregister();break;case 4:if(this._state>=5)return;3===this._state&&this._transceiver.register();break;case 5:if(6===this._state)return;this._batchRequestQueue.destroy(this._exception),this._transceiver.unregister();break;case 6:o.assert(5===this._state),this._transceiver.close(),this._communicator=null}}catch(t){if(!(t instanceof Ice.LocalException))throw t;var n="unexpected connection exception:\n "+this._desc+"\n"+t.toString();this._instance.initializationData().logger.error(n)}if(null!==this._monitor&&(2===e?(this._monitor.add(this),this._acmLastActivity>0&&(this._acmLastActivity=Date.now())):2===this._state&&this._monitor.remove(this)),this._state=e,4===this._state&&0===this._dispatchCount)try{this.initiateShutdown()}catch(t){if(!(t instanceof Ice.LocalException))throw t;this.setState(5,t)}else 5===this._state&&this.finish();this.checkState()}},initiateShutdown:function(){if(o.assert(4===this._state),o.assert(0===this._dispatchCount),o.assert(!this._shutdownInitiated),!this._endpoint.datagram()){var t=new n(this._instance,d.currentProtocolEncoding);t.writeBlob(d.magic),d.currentProtocol.__write(t),d.currentProtocolEncoding.__write(t),t.writeByte(d.closeConnectionMsg),t.writeByte(0),t.writeInt(d.headerSize),(this.sendMessage(E.createForStream(t,!1,!1))&e.Sent)>0&&this.scheduleTimeout(h.Write,this.closeTimeout())}},heartbeat:function(){if(o.assert(2===this._state),!this._endpoint.datagram()){var e=new n(this._instance,d.currentProtocolEncoding);e.writeBlob(d.magic),d.currentProtocol.__write(e),d.currentProtocolEncoding.__write(e),e.writeByte(d.validateConnectionMsg),e.writeByte(0),e.writeInt(d.headerSize);try{this.sendMessage(E.createForStream(e,!1,!1))}catch(e){this.setState(5,e),o.assert(null!==this._exception)}}},initialize:function(){var e=this._transceiver.initialize(this._readStream.buffer,this._writeStream.buffer);return e!=h.None?(this.scheduleTimeout(e,this.connectTimeout()),!1):(this._desc=this._transceiver.toString(),this._initialized=!0,this.setState(1),!0)},validate:function(){if(!this._endpoint.datagram())if(null!==this._adapter){if(0===this._writeStream.size&&(this._writeStream.writeBlob(d.magic),d.currentProtocol.__write(this._writeStream),d.currentProtocolEncoding.__write(this._writeStream),this._writeStream.writeByte(d.validateConnectionMsg),this._writeStream.writeByte(0),this._writeStream.writeInt(d.headerSize),p.traceSend(this._writeStream,this._logger,this._traceLevels),this._writeStream.prepareWrite()),this._writeStream.pos!=this._writeStream.size&&!this.write(this._writeStream.buffer))return this.scheduleTimeout(h.Write,this.connectTimeout()),!1}else{if(0===this._readStream.size&&(this._readStream.resize(d.headerSize),this._readStream.pos=0),this._readStream.pos!==this._readStream.size&&!this.read(this._readStream.buffer))return this.scheduleTimeout(h.Read,this.connectTimeout()),!1;o.assert(this._readStream.pos===d.headerSize),this._readStream.pos=0;var e=this._readStream.readBlob(4);if(e[0]!==d.magic[0]||e[1]!==d.magic[1]||e[2]!==d.magic[2]||e[3]!==d.magic[3]){var t=new Ice.BadMagicException;throw t.badMagic=e,t}if(this._readProtocol.__read(this._readStream),d.checkSupportedProtocol(this._readProtocol),this._readProtocolEncoding.__read(this._readStream),d.checkSupportedProtocolEncoding(this._readProtocolEncoding),this._readStream.readByte()!==d.validateConnectionMsg)throw new Ice.ConnectionNotValidatedException;if(this._readStream.readByte(),this._readStream.readInt()!==d.headerSize)throw new Ice.IllegalMessageSizeException;p.traceRecv(this._readStream,this._logger,this._traceLevels),this._validated=!0}this._writeStream.resize(0),this._writeStream.pos=0,this._readStream.resize(d.headerSize),this._readHeader=!0,this._readStream.pos=0;var n=this._instance.traceLevels();if(n.network>=1){var i=[];this._endpoint.datagram()?(i.push("starting to send "),i.push(this._endpoint.protocol()),i.push(" messages\n"),i.push(this._transceiver.toDetailedString())):((i=[]).push("established "),i.push(this._endpoint.protocol()),i.push(" connection\n"),i.push(this.toString())),this._instance.initializationData().logger.trace(n.networkCat,i.join(""))}return!0},sendNextMessage:function(){if(0!==this._sendStreams.length){o.assert(!this._writeStream.isEmpty()&&this._writeStream.pos===this._writeStream.size);try{for(;;){var e=this._sendStreams.shift();if(this._writeStream.swap(e.stream),e.sent(),0===this._sendStreams.length)break;if(this._state>=5)return;e=this._sendStreams[0],o.assert(!e.prepared);var t=e.stream;if(t.pos=10,t.writeInt(t.size),t.prepareWrite(),e.prepared=!0,null!==e.outAsync?p.trace("sending asynchronous request",t,this._logger,this._traceLevels):p.traceSend(t,this._logger,this._traceLevels),this._writeStream.swap(e.stream),this._writeStream.pos!=this._writeStream.size&&!this.write(this._writeStream.buffer))return o.assert(!this._writeStream.isEmpty()),void this.scheduleTimeout(h.Write,this._endpoint.timeout())}}catch(e){if(e instanceof Ice.LocalException)return void this.setState(5,e);throw e}o.assert(this._writeStream.isEmpty()),4===this._state&&this.scheduleTimeout(h.Write,this.closeTimeout())}},sendMessage:function(t){if(this._sendStreams.length>0)return t.doAdopt(),this._sendStreams.push(t),e.Queued;o.assert(this._state<5),o.assert(!t.prepared);var n=t.stream;return n.pos=10,n.writeInt(n.size),n.prepareWrite(),t.prepared=!0,t.outAsync?p.trace("sending asynchronous request",t.stream,this._logger,this._traceLevels):p.traceSend(t.stream,this._logger,this._traceLevels),this.write(t.stream.buffer)?(t.sent(),this._acmLastActivity>0&&(this._acmLastActivity=Date.now()),e.Sent):(t.doAdopt(),this._writeStream.swap(t.stream),this._sendStreams.push(t),this.scheduleTimeout(h.Write,this._endpoint.timeout()),e.Queued)},parseMessage:function(){o.assert(this._state>1&&this._state<5);var e=new v(this._instance);this._readStream.swap(e.stream),this._readStream.resize(d.headerSize),this._readStream.pos=0,this._readHeader=!0,this._validated=!0,o.assert(e.stream.pos===e.stream.size);try{e.stream.pos=8;var t=e.stream.readByte();if(e.compress=e.stream.readByte(),2===e.compress){var n=new Ice.FeatureNotSupportedException;throw n.unsupportedFeature="Cannot uncompress compressed message",n}switch(e.stream.pos=d.headerSize,t){case d.closeConnectionMsg:p.traceRecv(e.stream,this._logger,this._traceLevels),this._endpoint.datagram()?this._warn&&this._logger.warning("ignoring close connection message for datagram connection:\n"+this._desc):this.setState(5,new Ice.CloseConnectionException);break;case d.requestMsg:4===this._state?p.trace("received request during closing\n(ignored by server, client will retry)",e.stream,this._logger,this._traceLevels):(p.traceRecv(e.stream,this._logger,this._traceLevels),e.requestId=e.stream.readInt(),e.invokeNum=1,e.servantManager=this._servantManager,e.adapter=this._adapter,++this._dispatchCount);break;case d.requestBatchMsg:if(4===this._state)p.trace("received batch request during closing\n(ignored by server, client will retry)",e.stream,this._logger,this._traceLevels);else{if(p.traceRecv(e.stream,this._logger,this._traceLevels),e.invokeNum=e.stream.readInt(),e.invokeNum<0)throw e.invokeNum=0,new Ice.UnmarshalOutOfBoundsException;e.servantManager=this._servantManager,e.adapter=this._adapter,this._dispatchCount+=e.invokeNum}break;case d.replyMsg:p.traceRecv(e.stream,this._logger,this._traceLevels),e.requestId=e.stream.readInt(),e.outAsync=this._asyncRequests.get(e.requestId),e.outAsync?(this._asyncRequests.del(e.requestId),++this._dispatchCount):e=null,this.checkClose();break;case d.validateConnectionMsg:p.traceRecv(e.stream,this._logger,this._traceLevels),null!==this._callback&&(e.heartbeatCallback=this._callback,++this._dispatchCount);break;default:throw p.trace("received unknown message\n(invalid, closing connection)",e.stream,this._logger,this._traceLevels),new Ice.UnknownMessageException}}catch(n){if(!(n instanceof Ice.LocalException))throw n;this._endpoint.datagram()?this._warn&&this._logger.warning("datagram connection exception:\n"+n+"\n"+this._desc):this.setState(5,n)}return e},invokeAll:function(e,t,n,i,r,o){try{for(;t>0;){var c=!this._endpoint.datagram()&&0!==n;new a(this._instance,this,o,c,i,n).invoke(r,e),--t,null}e.clear()}catch(e){if(!(e instanceof Ice.LocalException))throw e;this.invokeException(e,t)}},scheduleTimeout:function(e,t){if(!(t<0)){var n=this;0!=(e&h.Read)&&(this._readTimeoutId=this._timer.schedule((function(){n.timedOut()}),t),this._readTimeoutScheduled=!0),0!=(e&(h.Write|h.Connect))&&(this._writeTimeoutId=this._timer.schedule((function(){n.timedOut()}),t),this._writeTimeoutScheduled=!0)}},unscheduleTimeout:function(e){0!=(e&h.Read)&&this._readTimeoutScheduled&&(this._timer.cancel(this._readTimeoutId),this._readTimeoutScheduled=!1),0!=(e&(h.Write|h.Connect))&&this._writeTimeoutScheduled&&(this._timer.cancel(this._writeTimeoutId),this._writeTimeoutScheduled=!1)},connectTimeout:function(){var e=this._instance.defaultsAndOverrides();return e.overrideConnectTimeout?e.overrideConnectTimeoutValue:this._endpoint.timeout()},closeTimeout:function(){var e=this._instance.defaultsAndOverrides();return e.overrideCloseTimeout?e.overrideCloseTimeoutValue:this._endpoint.timeout()},warning:function(e,t){this._logger.warning(e+":\n"+this._desc+"\n"+t.toString())},checkState:function(){if(!(this._state<3||this._dispatchCount>0)){var e;if(this._holdPromises.length>0){for(e=0;e<this._holdPromises.length;++e)this._holdPromises[e].succeed();this._holdPromises=[]}if(6===this._state&&this._finishedPromises.length>0){for(this._adapter=null,e=0;e<this._finishedPromises.length;++e)this._finishedPromises[e].succeed();this._finishedPromises=[]}}},reap:function(){null!==this._monitor&&this._monitor.reap(this)},read:function(e){var t=e.position,n=this._transceiver.read(e,this._hasMoreData);if(this._instance.traceLevels().network>=3&&e.position!=t){var i=[];i.push("received "),this._endpoint.datagram()?i.push(e.limit):(i.push(e.position-t),i.push(" of "),i.push(e.limit-t)),i.push(" bytes via "),i.push(this._endpoint.protocol()),i.push("\n"),i.push(this.toString()),this._instance.initializationData().logger.trace(this._instance.traceLevels().networkCat,i.join(""))}return n},write:function(e){var t=e.position,n=this._transceiver.write(e);if(this._instance.traceLevels().network>=3&&e.position!=t){var i=[];i.push("sent "),i.push(e.position-t),this._endpoint.datagram()||(i.push(" of "),i.push(e.limit-t)),i.push(" bytes via "),i.push(this._endpoint.protocol()),i.push("\n"),i.push(this.toString()),this._instance.initializationData().logger.trace(this._instance.traceLevels().networkCat,i.join(""))}return n}});S.ObjectAdapterDeactivated=0,S.CommunicatorDestroyed=1,Ice.ConnectionI=S;var E=m({__init__:function(){this.stream=null,this.outAsync=null,this.compress=!1,this.requestId=0,this.prepared=!1},canceled:function(){o.assert(null!==this.outAsync),this.outAsync=null},doAdopt:function(){if(this.adopt){var e=new n(this.stream.instance,d.currentProtocolEncoding);e.swap(this.stream),this.stream=e,this.adopt=!1}},sent:function(){null!==this.outAsync&&this.outAsync.__sent()},completed:function(e){null!==this.outAsync&&this.outAsync.__completedEx(e)}});E.createForStream=function(e,t,n){var i=new E;return i.stream=e,i.compress=t,i.adopt=n,i.isSent=!1,i.requestId=0,i.outAsync=null,i},E.create=function(e,t,n,i){var r=new E;return r.stream=t,r.compress=n,r.outAsync=e,r.requestId=i,r.isSent=!1,r.adopt=!1,r}}(),function(){var e=Ice.__M.module("IceSSL"),t=Ice.HashUtil,n=(Ice.StringUtil,Ice.EndpointI),i=(0,Ice.Class)(n,{__init__:function(e,t,n){this._instance=e,this._delegate=t,this._resource=n||"/"},getInfo:function(){var t=this._delegate.secure()?new e.WSSEndpointInfo:new Ice.WSEndpointInfo;return t.resource=this._resource,this._delegate.fillEndpointInfo(t),t},type:function(){return this._delegate.type()},protocol:function(){return this._delegate.protocol()},streamWrite:function(e){e.startWriteEncaps(),this._delegate.streamWriteImpl(e),e.writeString(this._resource),e.endWriteEncaps()},timeout:function(){return this._delegate.timeout()},changeTimeout:function(e){return e===this._delegate.timeout()?this:new i(this._instance,this._delegate.changeTimeout(e),this._resource)},changeConnectionId:function(e){return e===this._delegate.connectionId()?this:new i(this._instance,this._delegate.changeConnectionId(e),this._resource)},compress:function(){return this._delegate.compress()},changeCompress:function(e){return e===this._delegate.compress()?this:new i(this._instance,this._delegate.changeCompress(e),this._resource)},datagram:function(){return this._delegate.datagram()},secure:function(){return this._delegate.secure()},connect:function(){return Ice.WSTransceiver.createOutgoing(this._instance,this._delegate.secure(),this._delegate.getAddress(),this._resource)},hashCode:function(){return void 0===this._hashCode&&(this._hashCode=this._delegate.hashCode(),this._hashCode=t.addString(this._hashCode,this._resource)),this._hashCode},compareTo:function(e){if(this===e)return 0;if(null===e)return 1;if(!(e instanceof i))return this.type()<e.type()?-1:1;var t=this._delegate.compareTo(e._delegate);return 0!==t?t:this._resource!==e._resource?this._resource<e._resource?-1:1:0},options:function(){var e=this._delegate.options();return null!==this._resource&&this._resource.length>0&&(e+=" -r ",e+=-1!==this._resource.indexOf(":")?'"'+this._resource+'"':this._resource),e},toConnectorString:function(){return this._delegate.toConnectorString()},initWithStream:function(e){this._resource=e.readString()},checkOption:function(e,t,n){if("-r"!==e)return!1;if(null===t)throw new Ice.EndpointParseException("no argument provided for -r option in endpoint "+n);return this._resource=t,!0}});void 0!==Ice.WSTransceiver?i.prototype.connectable=function(){return!0}:i.prototype.connectable=function(){return!1},Ice.WSEndpoint=i}(),function(){var e=Ice.HashMap,t=Ice.RouterInfo,n=Ice.RouterPrx,i=Ice.Class({__init__:function(){this._table=new e(e.compareEquals)},destroy:function(){for(var e=this._table.entries;null!==e;e=e.next)e.value.destroy();this._table.clear()},find:function(e){if(null===e)return null;var i=n.uncheckedCast(e.ice_router(null)),r=this._table.get(i);return void 0===r&&(r=new t(i),this._table.set(i,r)),r},erase:function(e){var t=null;if(null!==e){var i=n.uncheckedCast(e.ice_router(null));t=this._table.get(i),this._table.del(i)}return t}});Ice.RouterManager=i}(),function(){var e=Ice.Class,t=Ice.Debug,n=e({__init__:function(e,t,n,i){if(void 0===e)return this.timeout=6e4,this.heartbeat=Ice.ACMHeartbeat.HeartbeatOnInvocation,void(this.close=Ice.ACMClose.CloseOnInvocationAndIdle);var r;r="Ice.ACM.Client"!=n&&"Ice.ACM.Server"!=n||0!==e.getProperty(n+".Timeout").length?n+".Timeout":n,this.timeout=1e3*e.getPropertyAsIntWithDefault(r,i.timeout/1e3);var o=e.getPropertyAsIntWithDefault(n+".Heartbeat",i.heartbeat.value);o>=0&&o<=Ice.ACMHeartbeat.maxValue?this.heartbeat=Ice.ACMHeartbeat.valueOf(o):(t.warning("invalid value for property `"+n+".Heartbeat', default value will be used instead"),this.heartbeat=i.heartbeat);var c=e.getPropertyAsIntWithDefault(n+".Close",i.close.value);c>=0&&c<=Ice.ACMClose.maxValue?this.close=Ice.ACMClose.valueOf(c):(t.warning("invalid value for property `"+n+".Close', default value will be used instead"),this.close=i.close)}}),i=e({add:function(e){t.assert(!1)},remove:function(e){t.assert(!1)},reap:function(e){t.assert(!1)},acm:function(e){return t.assert(!1),null},getACM:function(){return t.assert(!1),0}}),r=e(i,{__init__:function(e,t){this._instance=e,this._config=t,this._reapedConnections=[],this._connections=[]},destroy:function(){null!==this._instance&&(this._instance=null,this._connections=null)},add:function(e){if(0!==this._config.timeout&&(this._connections.push(e),1==this._connections.length)){var t=this;this._timerToken=this._instance.timer().scheduleRepeated((function(){t.runTimerTask()}),this._config.timeout/2)}},remove:function(e){if(0!==this._config.timeout){var n=this._connections.indexOf(e);t.assert(n>=0),this._connections.splice(n,1),0!==this._connections.length||this._instance.timer().cancel(this._timerToken)}},reap:function(e){this._reapedConnections.push(e)},acm:function(e,i,r){t.assert(null!==this._instance);var c=new n;return c.timeout=this._config.timeout,c.close=this._config.close,c.heartbeat=this._config.heartbeat,void 0!==e&&(c.timeout=1e3*e),void 0!==i&&(c.close=i),void 0!==r&&(c.heartbeat=r),new o(this,this._instance.timer(),c)},getACM:function(){return new Ice.ACM(this._config.timeout/1e3,this._config.close,this._config.heartbeat)},swapReapedConnections:function(){if(0===this._reapedConnections.length)return null;var e=this._reapedConnections;return this._reapedConnections=[],e},runTimerTask:function(){if(null!==this._instance)for(var e=Date.now(),t=0;t<this._connections.length;t++)try{this._connections[t].monitor(e,this._config)}catch(e){this.handleException(e)}},handleException:function(e){null!==this._instance&&this._instance.initializationData().logger.error("exception in connection monitor:\n"+e)}}),o=e(i,{__init__:function(e,t,n){this._parent=e,this._timer=t,this._config=n,this._connection=null},add:function(e){if(t.assert(null===this._connection),this._connection=e,this._config.timeout>0){var n=this;this._timerToken=this._timer.scheduleRepeated((function(){n.runTimerTask()}),this._config.timeout/2)}},remove:function(e){t.assert(this._connection===e),this._connection=null,this._config.timeout>0&&this._timer.cancel(this._timerToken)},reap:function(e){this._parent.reap(e)},acm:function(e,t,n){return this._parent.acm(e,t,n)},getACM:function(){return new Ice.ACM(this._config.timeout/1e3,this._config.close,this._config.heartbeat)},runTimerTask:function(){try{this._connection.monitor(Date.now(),this._config)}catch(e){this._parent.handleException(e)}}});Ice.FactoryACMMonitor=r,Ice.ACMConfig=n}(),N=Ice.Context,A=Ice.InitializationException,(T=Ice.Class({__init__:function(){this._context=new N},getContext:function(){return new N(this._context)},setContext:function(e){null!==e&&e.size>0?this._context=new N(e):this._context.clear()},containsKey:function(e){return null===e&&(e=""),this._context.has(e)},get:function(e){null===e&&(e="");var t=this._context.get(e);return null===t&&(t=""),t},put:function(e,t){null===e&&(e=""),null===t&&(t="");var n=this._context.get(e);return null===n&&(n=""),this._context.set(e,t),n},remove:function(e){null===e&&(e="");var t=this._context.get(e);return this._context.del(e),null===t&&(t=""),t},write:function(e,t){if(0===e.size)Ice.ContextHelper.write(t,this._context);else{var n=null;0===this._context.size?n=e:(n=new N(this._context)).merge(e),Ice.ContextHelper.write(t,n)}}})).create=function(e){if(0===e.length||"None"===e)return null;if("Shared"===e)return new T;throw new A("'"+e+"' is not a valid value for Ice.ImplicitContext")},Ice.ImplicitContextI=T,function(){var e=Ice.ArrayUtil,t=Ice.Debug,n=Ice.BatchRequestQueue,i=Ice.HashMap,r=Ice.HashUtil,o=Ice.OpaqueEndpointI,c=Ice.Promise,s=(Ice.Protocol,Ice.ReferenceMode),a=Ice.StringUtil,l=Ice.StringSeqHelper,u=Ice.EndpointSelectionType,d=Ice.Identity,h=Ice.RouterPrx,f=Ice.LocatorPrx,p=Ice.PropertyNames,_=Ice.ConnectionRequestHandler,C=Ice.Class,g=["EndpointSelection","ConnectionCached","PreferSecure","EncodingVersion","LocatorCacheTimeout","InvocationTimeout","Locator","Router","CollocationOptimized"],y=C({__init__:function(e,t){this._instance=e,this._communicator=t,this._defaultRouter=null,this._defaultLocator=null},create:function(e,t,n,i){return 0===e.name.length&&0===e.category.length?null:this.createImpl(e,t,n.getMode(),n.getSecure(),n.getProtocol(),n.getEncoding(),i,null,null)},createWithAdapterId:function(e,t,n,i){return 0===e.name.length&&0===e.category.length?null:this.createImpl(e,t,n.getMode(),n.getSecure(),n.getProtocol(),n.getEncoding(),null,i,null)},createFixed:function(e,t){return 0===e.name.length&&0===e.category.length?null:new v(this._instance,this._communicator,e,"",t.endpoint().datagram()?s.ModeDatagram:s.ModeTwoway,t.endpoint().secure(),this._instance.defaultsAndOverrides().defaultEncoding,t)},copy:function(e){var t=e.getIdentity();return 0===t.name.length&&0===t.category.length?null:e.clone()},createFromString:function(e,n){if(null==e||0===e.length)return null;var i,r=0;if(-1==(i=a.findFirstNotOf(e," \t\n\r",r)))throw new Ice.ProxyParseException("no non-whitespace characters found in `"+e+"'");var o=null;if(-1===(r=a.checkQuote(e,i)))throw new Ice.ProxyParseException("mismatched quotes around identity in `"+e+"'");if(0===r?(-1===(r=a.findFirstOf(e," \t\n\r:@",i))&&(r=e.length),o=e.substring(i,r)):(i++,o=e.substring(i,r),r++),i===r)throw new Ice.ProxyParseException("no identity in `"+e+"'");var c=this._instance.stringToIdentity(o);if(0===c.name.length){if(c.category.length>0)throw new Ice.IllegalIdentityException(c);if(-1!=a.findFirstNotOf(e," \t\n\r",r))throw new Ice.ProxyParseException("invalid characters after identity in `"+e+"'");return null}for(var l="",u=s.ModeTwoway,d=!1,h=this._instance.defaultsAndOverrides().defaultEncoding,f=Ice.Protocol_1_0,p="";-1!==(i=a.findFirstNotOf(e," \t\n\r",r))&&":"!=e.charAt(i)&&"@"!=e.charAt(i)&&(-1==(r=a.findFirstOf(e," \t\n\r:@",i))&&(r=e.length),i!=r);){var _=e.substring(i,r);if(2!=_.length||"-"!=_.charAt(0))throw new Ice.ProxyParseException("expected a proxy option but found `"+_+"' in `"+e+"'");var C=null,g=a.findFirstNotOf(e," \t\n\r",r);if(-1!=g){var y=e.charAt(g);if("@"!=y&&":"!=y&&"-"!=y){if(i=g,-1==(r=a.checkQuote(e,i)))throw new Ice.ProxyParseException("mismatched quotes around value for "+_+" option in `"+e+"'");0===r?(-1===(r=a.findFirstOf(e," \t\n\r:@",i))&&(r=e.length),C=e.substring(i,r)):(i++,C=e.substring(i,r),r++)}}switch(_.charAt(1)){case"f":if(null===C)throw new Ice.ProxyParseException("no argument provided for -f option in `"+e+"'");try{l=a.unescapeString(C,0,C.length)}catch(t){throw new Ice.ProxyParseException("invalid facet in `"+e+"': "+t.message)}break;case"t":if(null!==C)throw new Ice.ProxyParseException("unexpected argument `"+C+"' provided for -t option in `"+e+"'");u=s.ModeTwoway;break;case"o":if(null!==C)throw new Ice.ProxyParseException("unexpected argument `"+C+"' provided for -o option in `"+e+"'");u=s.ModeOneway;break;case"O":if(null!==C)throw new Ice.ProxyParseException("unexpected argument `"+C+"' provided for -O option in `"+e+"'");u=s.ModeBatchOneway;break;case"d":if(null!==C)throw new Ice.ProxyParseException("unexpected argument `"+C+"' provided for -d option in `"+e+"'");u=s.ModeDatagram;break;case"D":if(null!==C)throw new Ice.ProxyParseException("unexpected argument `"+C+"' provided for -D option in `"+e+"'");u=s.ModeBatchDatagram;break;case"s":if(null!==C)throw new Ice.ProxyParseException("unexpected argument `"+C+"' provided for -s option in `"+e+"'");d=!0;break;case"e":if(null===C)throw new Ice.ProxyParseException("no argument provided for -e option in `"+e+"'");try{h=Ice.stringToEncodingVersion(C)}catch(t){throw new Ice.ProxyParseException("invalid encoding version `"+C+"' in `"+e+"':\n"+t.str)}break;case"p":if(null===C)throw new Ice.ProxyParseException("no argument provided for -p option in `"+e+"'");try{f=Ice.stringToProtocolVersion(C)}catch(t){throw new Ice.ProxyParseException("invalid protocol version `"+C+"' in `"+e+"':\n"+t.str)}break;default:throw new Ice.ProxyParseException("unknown option `"+_+"' in `"+e+"'")}}if(-1===i)return this.createImpl(c,l,u,d,f,h,null,null,n);var I=[];if(":"==e.charAt(i)){var v=[];for(r=i;r<e.length&&":"==e.charAt(r);){for(r=i=r+1;;){if(-1==(r=e.indexOf(":",r))){r=e.length;break}for(var m=!1,S=i;!(-1==(S=e.indexOf('"',S))||r<S)&&-1!=(S=e.indexOf('"',++S));){if(r<S){m=!0;break}++S}if(!m)break;++r}var E=e.substring(i,r),R=this._instance.endpointFactoryManager().create(E,!1);null!==R?I.push(R):v.push(E)}if(0===I.length)throw t.assert(v.length>0),new Ice.EndpointParseException("invalid endpoint `"+v[0]+"' in `"+e+"'");if(0!==v.length&&this._instance.initializationData().properties.getPropertyAsIntWithDefault("Ice.Warn.Endpoints",1)>0){var b=[];b.push("Proxy contains unknown endpoints:");for(var w=0;w<v.length;++w)b.push(" `"),b.push(v[w]),b.push("'");this._instance.initializationData().logger.warning(b.join(""))}return this.createImpl(c,l,u,d,f,h,I,null,n)}if("@"==e.charAt(i)){if(-1==(i=a.findFirstNotOf(e," \t\n\r",i+1)))throw new Ice.ProxyParseException("missing adapter id in `"+e+"'");var x=null;if(-1===(r=a.checkQuote(e,i)))throw new Ice.ProxyParseException("mismatched quotes around adapter id in `"+e+"'");if(0===r?(-1===(r=a.findFirstOf(e," \t\n\r",i))&&(r=e.length),x=e.substring(i,r)):(i++,x=e.substring(i,r),r++),r!==e.length&&-1!==a.findFirstNotOf(e," \t\n\r",r))throw new Ice.ProxyParseException("invalid trailing characters after `"+e.substring(0,r+1)+"' in `"+e+"'");try{p=a.unescapeString(x,0,x.length)}catch(t){throw new Ice.ProxyParseException("invalid adapter id in `"+e+"': "+t.message)}if(0===p.length)throw new Ice.ProxyParseException("empty adapter id in `"+e+"'");return this.createImpl(c,l,u,d,f,h,null,p,n)}throw new Ice.ProxyParseException("malformed proxy `"+e+"'")},createFromStream:function(e,t){if(0===e.name.length&&0===e.category.length)return null;var n,i=l.read(t);if(i.length>0){if(i.length>1)throw new Ice.ProxyUnmarshalException;n=i[0]}else n="";var r=t.readByte();if(r<0||r>s.ModeLast)throw new Ice.ProxyUnmarshalException;var o=t.readBool(),c=null,a=null;t.getReadEncoding().equals(Ice.Encoding_1_0)?(c=Ice.Protocol_1_0,a=Ice.Encoding_1_0):((c=new Ice.ProtocolVersion).__read(t),(a=new Ice.EncodingVersion).__read(t));var u=null,d=null,h=t.readSize();if(h>0){u=[];for(var f=0;f<h;f++)u[f]=this._instance.endpointFactoryManager().read(t)}else d=t.readString();return this.createImpl(e,n,r,o,c,a,u,d,null)},setDefaultRouter:function(e){if(null===this._defaultRouter?null===e:this._defaultRouter.equals(e))return this;var t=new y(this._instance,this._communicator);return t._defaultLocator=this._defaultLocator,t._defaultRouter=e,t},getDefaultRouter:function(){return this._defaultRouter},setDefaultLocator:function(e){if(null===this._defaultLocator?null===e:this._defaultLocator.equals(e))return this;var t=new y(this._instance,this._communicator);return t._defaultRouter=this._defaultRouter,t._defaultLocator=e,t},getDefaultLocator:function(){return this._defaultLocator},checkForUnknownProperties:function(e){var t,n,i=[];for(t=0;t<p.clPropNames.length;++t)if(0===e.indexOf(p.clPropNames[t]+"."))return;for(var r=this._instance.initializationData().properties.getPropertiesForPrefix(e+".").entries;null!==r;r=r.next){var o=!1;for(t=0,n=g.length;t<n;++t)if(r.key===e+"."+g[t]){o=!0;break}o||i.push(r.key)}if(i.length>0){var c=[];for(c.push("found unknown properties for proxy '"),c.push(e),c.push("':"),t=0,n=i.length;t<n;++t)c.push("\n    "),c.push(i[t]);this._instance.initializationData().logger.warning(c.join(""))}},createImpl:function(e,t,n,i,r,o,c,s,a){var l=this._instance.defaultsAndOverrides(),d=null;null!==this._defaultLocator&&(d=this._defaultLocator.__reference().getEncoding().equals(o)?this._instance.locatorManager().find(this._defaultLocator):this._instance.locatorManager().find(this._defaultLocator.ice_encodingVersion(o)));var p=this._instance.routerManager().find(this._defaultRouter),_=!0,C=l.defaultPreferSecure,g=l.defaultEndpointSelection,y=l.defaultLocatorCacheTimeout,I=l.defaultInvocationTimeout;if(null!==a&&a.length>0){var v,S=this._instance.initializationData().properties;S.getPropertyAsIntWithDefault("Ice.Warn.UnknownProperties",1)>0&&this.checkForUnknownProperties(a),v=a+".Locator";var E=f.uncheckedCast(this._communicator.propertyToProxy(v));null!==E&&(d=E.__reference().getEncoding().equals(o)?this._instance.locatorManager().find(E):this._instance.locatorManager().find(E.ice_encodingVersion(o))),v=a+".Router";var R=h.uncheckedCast(this._communicator.propertyToProxy(v));if(null!==R){if(a.lastIndexOf(".Router")==a.length-".Router".length){var b="`"+v+"="+S.getProperty(v)+"': cannot set a router on a router; setting ignored";this._instance.initializationData().logger.warning(b)}else p=this._instance.routerManager().find(R)}if(v=a+".ConnectionCached",_=S.getPropertyAsIntWithDefault(v,_?1:0)>0,v=a+".PreferSecure",C=S.getPropertyAsIntWithDefault(v,C?1:0)>0,v=a+".EndpointSelection",S.getProperty(v).length>0){var w=S.getProperty(v);if("Random"==w)g=u.Random;else{if("Ordered"!=w)throw new Ice.EndpointSelectionTypeParseException("illegal value `"+w+"'; expected `Random' or `Ordered'");g=u.Ordered}}v=a+".LocatorCacheTimeout";var x=S.getProperty(v);0!==x.length&&(y=S.getPropertyAsIntWithDefault(v,y))<-1&&(y=-1,this._instance.initializationData().logger.warning("invalid value for"+v+"`"+S.getProperty(v)+"': defaulting to -1")),v=a+".InvocationTimeout",0!==(x=S.getProperty(v)).length&&(I=S.getPropertyAsIntWithDefault(v,I))<1&&-1!==I&&(I=-1,this._instance.initializationData().logger.warning("invalid value for"+v+"`"+S.getProperty(v)+"': defaulting to -1"))}return new m(this._instance,this._communicator,e,t,n,i,r,o,c,s,d,p,_,C,g,y,I)}});Ice.ReferenceFactory=y;var I=C({__init__:function(e,n,i,r,o,c,s,a,l){t.assert(void 0===i||null!==i.name),t.assert(void 0===i||null!==i.category),t.assert(void 0===r||null!==r),this._instance=e,this._communicator=n,this._mode=o,this._secure=c,this._identity=i,this._context=I._emptyContext,this._facet=r,this._protocol=s,this._encoding=a,this._invocationTimeout=l,this._hashInitialized=!1,this._overrideCompress=!1,this._compress=!1},getMode:function(){return this._mode},getSecure:function(){return this._secure},getProtocol:function(){return this._protocol},getEncoding:function(){return this._encoding},getIdentity:function(){return this._identity},getFacet:function(){return this._facet},getInstance:function(){return this._instance},getContext:function(){return this._context},getInvocationTimeout:function(){return this._invocationTimeout},getCommunicator:function(){return this._communicator},getEndpoints:function(){return t.assert(!1),null},getAdapterId:function(){return t.assert(!1),""},getRouterInfo:function(){return t.assert(!1),null},getLocatorInfo:function(){return t.assert(!1),null},getCacheConnection:function(){return t.assert(!1),!1},getPreferSecure:function(){return t.assert(!1),!1},getEndpointSelection:function(){return t.assert(!1),null},getLocatorCacheTimeout:function(){return t.assert(!1),0},getConnectionId:function(){return t.assert(!1),""},changeContext:function(e){null==e&&(e=I._emptyContext);var t=this._instance.referenceFactory().copy(this);return 0===e.size?t._context=I._emptyContext:t._context=new i(e),t},changeMode:function(e){if(e===this._mode)return this;var t=this._instance.referenceFactory().copy(this);return t._mode=e,t},changeSecure:function(e){if(e===this._secure)return this;var t=this._instance.referenceFactory().copy(this);return t._secure=e,t},changeIdentity:function(e){if(e.equals(this._identity))return this;var t=this._instance.referenceFactory().copy(this);return t._identity=new d(e.name,e.category),t},changeFacet:function(e){if(e===this._facet)return this;var t=this._instance.referenceFactory().copy(this);return t._facet=e,t},changeInvocationTimeout:function(e){if(e===this._invocationTimeout)return this;var t=this._instance.referenceFactory().copy(this);return t._invocationTimeout=e,t},changeEncoding:function(e){if(e.equals(this._encoding))return this;var t=this._instance.referenceFactory().copy(this);return t._encoding=e,t},changeCompress:function(e){if(this._overrideCompress&&this._compress===e)return this;var t=this._instance.referenceFactory().copy(this);return t._compress=e,t._overrideCompress=!0,t},changeAdapterId:function(e){return t.assert(!1),null},changeEndpoints:function(e){return t.assert(!1),null},changeLocator:function(e){return t.assert(!1),null},changeRouter:function(e){return t.assert(!1),null},changeCacheConnection:function(e){return t.assert(!1),null},changePreferSecure:function(e){return t.assert(!1),null},changeEndpointSelection:function(e){return t.assert(!1),null},changeLocatorCacheTimeout:function(e){return t.assert(!1),null},changeTimeout:function(e){return t.assert(!1),null},changeConnectionId:function(e){return t.assert(!1),null},hashCode:function(){if(this._hashInitialized)return this._hashValue;var e=5381;if(e=r.addNumber(e,this._mode),e=r.addBoolean(e,this._secure),e=r.addHashable(e,this._identity),null!==this._context&&void 0!==this._context)for(var t=this._context.entries;null!==t;t=t.next)e=r.addString(e,t.key),e=r.addString(e,t.value);return e=r.addString(e,this._facet),e=r.addBoolean(e,this._overrideCompress),this._overrideCompress&&(e=r.addBoolean(e,this._compress)),e=r.addHashable(e,this._protocol),e=r.addHashable(e,this._encoding),e=r.addNumber(e,this._invocationTimeout),this._hashValue=e,this._hashInitialized=!0,this._hashValue},isIndirect:function(){return t.assert(!1),!1},isWellKnown:function(){return t.assert(!1),!1},streamWrite:function(e){0===this._facet.length?e.writeSize(0):(e.writeSize(1),e.writeString(this._facet)),e.writeByte(this._mode),e.writeBool(this._secure),e.getWriteEncoding().equals(Ice.Encoding_1_0)||(this._protocol.__write(e),this._encoding.__write(e))},toString:function(){var e=[],t=this._instance.identityToString(this._identity);if(-1!=t.search(/[ :@]/)?(e.push('"'),e.push(t),e.push('"')):e.push(t),this._facet.length>0){e.push(" -f ");var n=a.escapeString(this._facet,"");-1!=n.search(/[ :@]/)?(e.push('"'),e.push(n),e.push('"')):e.push(n)}switch(this._mode){case s.ModeTwoway:e.push(" -t");break;case s.ModeOneway:e.push(" -o");break;case s.ModeBatchOneway:e.push(" -O");break;case s.ModeDatagram:e.push(" -d");break;case s.ModeBatchDatagram:e.push(" -D")}return this._secure&&e.push(" -s"),this._protocol.equals(Ice.Protocol_1_0)||(e.push(" -p "),e.push(Ice.protocolVersionToString(this._protocol))),e.push(" -e "),e.push(Ice.encodingVersionToString(this._encoding)),e.join("")},toProperty:function(e){return t.assert(!1),null},getRequestHandler:function(e){t.assert(!1)},getBatchRequestQueue:function(){t.assert(!1)},equals:function(e){return this._mode===e._mode&&(this._secure===e._secure&&(!!this._identity.equals(e._identity)&&(!!this._context.equals(e._context)&&(this._facet===e._facet&&(this._overrideCompress===e._overrideCompress&&((!this._overrideCompress||this._compress===e._compress)&&(!!this._protocol.equals(e._protocol)&&(!!this._encoding.equals(e._encoding)&&this._invocationTimeout===e._invocationTimeout))))))))},clone:function(){return t.assert(!1),null},copyMembers:function(e){e._context=this._context,e._overrideCompress=this._overrideCompress,e._compress=this._compress}});I._emptyContext=new i,I._emptyEndpoints=[],Ice.Reference=I;var v=C(I,{__init__:function(e,t,n,i,r,o,c,s){I.call(this,e,t,n,i,r,o,Ice.Protocol_1_0,c),this._fixedConnection=s},getEndpoints:function(){return I._emptyEndpoints},getAdapterId:function(){return""},getRouterInfo:function(){return null},getLocatorInfo:function(){return null},getCacheConnection:function(){return!0},getPreferSecure:function(){return!1},getEndpointSelection:function(){return u.Random},getLocatorCacheTimeout:function(){return 0},getConnectionId:function(){return""},changeAdapterId:function(e){throw new Ice.FixedProxyException},changeEndpoints:function(e){throw new Ice.FixedProxyException},changeLocator:function(e){throw new Ice.FixedProxyException},changeRouter:function(e){throw new Ice.FixedProxyException},changeCacheConnection:function(e){throw new Ice.FixedProxyException},changePreferSecure:function(e){throw new Ice.FixedProxyException},changeEndpointSelection:function(e){throw new Ice.FixedProxyException},changeLocatorCacheTimeout:function(e){throw new Ice.FixedProxyException},changeTimeout:function(e){throw new Ice.FixedProxyException},changeConnectionId:function(e){throw new Ice.FixedProxyException},isIndirect:function(){return!1},isWellKnown:function(){return!1},streamWrite:function(e){throw new Ice.FixedProxyException},toString:function(){throw new Ice.FixedProxyException},toProperty:function(e){throw new Ice.FixedProxyException},clone:function(){var e=new v(this.getInstance(),this.getCommunicator(),this.getIdentity(),this.getFacet(),this.getMode(),this.getSecure(),this.getEncoding(),this._fixedConnection);return this.copyMembers(e),e},getRequestHandler:function(e){switch(this.getMode()){case s.ModeTwoway:case s.ModeOneway:case s.ModeBatchOneway:if(this._fixedConnection.endpoint().datagram())throw new Ice.NoEndpointException("");break;case s.ModeDatagram:case s.ModeBatchDatagram:if(!this._fixedConnection.endpoint().datagram())throw new Ice.NoEndpointException("")}var t,n=this.getInstance().defaultsAndOverrides();if((n.overrideSecure?n.overrideSecureValue:this.getSecure())&&!this._fixedConnection.endpoint().secure())throw new Ice.NoEndpointException("");return this._fixedConnection.throwException(),t=n.overrideCompress?n.overrideCompressValue:this._overrideCompress?this._compress:this._fixedConnection.endpoint().compress(),e.__setRequestHandler(new _(this,this._fixedConnection,t))},getBatchRequestQueue:function(){return this._fixedConnection.getBatchRequestQueue()},equals:function(e){return this===e||e instanceof v&&(!!I.prototype.equals.call(this,e)&&this._fixedConnection.equals(e._fixedConnection))}});Ice.FixedReference=v;var m=C(I,{__init__:function(e,n,i,r,o,c,s,a,l,u,d,h,f,p,_,C,g){I.call(this,e,n,i,r,o,c,s,a,g),this._endpoints=l,this._adapterId=u,this._locatorInfo=d,this._routerInfo=h,this._cacheConnection=f,this._preferSecure=p,this._endpointSelection=_,this._locatorCacheTimeout=C,this._overrideTimeout=!1,this._timeout=-1,null===this._endpoints&&(this._endpoints=I._emptyEndpoints),null===this._adapterId&&(this._adapterId=""),this._connectionId="",t.assert(0===this._adapterId.length||0===this._endpoints.length)},getEndpoints:function(){return this._endpoints},getAdapterId:function(){return this._adapterId},getRouterInfo:function(){return this._routerInfo},getLocatorInfo:function(){return this._locatorInfo},getCacheConnection:function(){return this._cacheConnection},getPreferSecure:function(){return this._preferSecure},getEndpointSelection:function(){return this._endpointSelection},getLocatorCacheTimeout:function(){return this._locatorCacheTimeout},getConnectionId:function(){return this._connectionId},changeEncoding:function(e){var t=I.prototype.changeEncoding.call(this,e);if(t!==this){var n=t._locatorInfo;null===n||n.getLocator().ice_getEncodingVersion().equals(e)||(t._locatorInfo=this.getInstance().locatorManager().find(n.getLocator().ice_encodingVersion(e)))}return t},changeCompress:function(e){var t=I.prototype.changeCompress.call(this,e);if(t!==this&&this._endpoints.length>0){for(var n=[],i=0;i<this._endpoints.length;i++)n[i]=this._endpoints[i].changeCompress(e);t._endpoints=n}return t},changeAdapterId:function(e){if(this._adapterId===e)return this;var t=this.getInstance().referenceFactory().copy(this);return t._adapterId=e,t._endpoints=I._emptyEndpoints,t},changeEndpoints:function(t){if(e.equals(t,this._endpoints,(function(e,t){return e.equals(t)})))return this;var n=this.getInstance().referenceFactory().copy(this);return n._endpoints=t,n._adapterId="",n.applyOverrides(n._endpoints),n},changeLocator:function(e){var t=this.getInstance().locatorManager().find(e);if(null!==t&&null!==this._locatorInfo&&t.equals(this._locatorInfo))return this;var n=this.getInstance().referenceFactory().copy(this);return n._locatorInfo=t,n},changeRouter:function(e){var t=this.getInstance().routerManager().find(e);if(null!==t&&null!==this._routerInfo&&t.equals(this._routerInfo))return this;var n=this.getInstance().referenceFactory().copy(this);return n._routerInfo=t,n},changeCacheConnection:function(e){if(e===this._cacheConnection)return this;var t=this.getInstance().referenceFactory().copy(this);return t._cacheConnection=e,t},changePreferSecure:function(e){if(e===this._preferSecure)return this;var t=this.getInstance().referenceFactory().copy(this);return t._preferSecure=e,t},changeEndpointSelection:function(e){if(e===this._endpointSelection)return this;var t=this.getInstance().referenceFactory().copy(this);return t._endpointSelection=e,t},changeLocatorCacheTimeout:function(e){if(this._locatorCacheTimeout===e)return this;var t=this.getInstance().referenceFactory().copy(this);return t._locatorCacheTimeout=e,t},changeTimeout:function(e){if(this._overrideTimeout&&this._timeout===e)return this;var t=this.getInstance().referenceFactory().copy(this);if(t._timeout=e,t._overrideTimeout=!0,this._endpoints.length>0){for(var n=[],i=0;i<this._endpoints.length;i++)n[i]=this._endpoints[i].changeTimeout(e);t._endpoints=n}return t},changeConnectionId:function(e){if(this._connectionId===e)return this;var t=this.getInstance().referenceFactory().copy(this);if(t._connectionId=e,this._endpoints.length>0){for(var n=[],i=0;i<this._endpoints.length;i++)n[i]=this._endpoints[i].changeConnectionId(e);t._endpoints=n}return t},isIndirect:function(){return 0===this._endpoints.length},isWellKnown:function(){return 0===this._endpoints.length&&0===this._adapterId.length},streamWrite:function(e){if(I.prototype.streamWrite.call(this,e),e.writeSize(this._endpoints.length),this._endpoints.length>0){t.assert(0===this._adapterId.length);for(var n=0;n<this._endpoints.length;++n)e.writeShort(this._endpoints[n].type()),this._endpoints[n].streamWrite(e)}else e.writeString(this._adapterId)},toString:function(){var e=[];if(e.push(I.prototype.toString.call(this)),this._endpoints.length>0)for(var t=0;t<this._endpoints.length;++t){var n=this._endpoints[t].toString();null!==n&&n.length>0&&(e.push(":"),e.push(n))}else if(this._adapterId.length>0){e.push(" @ ");var i=a.escapeString(this._adapterId,null);-1!=i.search(/[ :@]/)?(e.push('"'),e.push(i),e.push('"')):e.push(i)}return e.join("")},toProperty:function(e){var t,n=new i;if(n.set(e,this.toString()),n.set(e+".CollocationOptimized","0"),n.set(e+".ConnectionCached",this._cacheConnection?"1":"0"),n.set(e+".PreferSecure",this._preferSecure?"1":"0"),n.set(e+".EndpointSelection",this._endpointSelection===u.Random?"Random":"Ordered"),n.set(e+".LocatorCacheTimeout",""+this._locatorCacheTimeout),n.set(e+".InvocationTimeout",""+this.getInvocationTimeout()),null!==this._routerInfo)for(t=this._routerInfo.getRouter().__reference().toProperty(e+".Router").entries;null!==t;t=t.next)n.set(t.key,t.value);if(null!==this._locatorInfo)for(t=this._locatorInfo.getLocator().__reference().toProperty(e+".Locator").entries;null!==t;t=t.next)n.set(t.key,t.value);return n},hashCode:function(){return this._hashInitialized||(I.prototype.hashCode.call(this),this._hashValue=r.addString(this._hashValue,this._adapterId)),this._hashValue},equals:function(t){return this===t||t instanceof m&&(!!I.prototype.equals.call(this,t)&&(!!(null===this._locatorInfo?null===t._locatorInfo:this._locatorInfo.equals(t._locatorInfo))&&(!!(null===this._routerInfo?null===t._routerInfo:this._routerInfo.equals(t._routerInfo))&&(this._cacheConnection===t._cacheConnection&&(this._preferSecure===t._preferSecure&&(this._endpointSelection===t._endpointSelection&&(this._locatorCacheTimeout===t._locatorCacheTimeout&&(this._connectionId===t._connectionId&&(this._overrideTimeout===t._overrideTimeout&&((!this._overrideTimeout||this._timeout===t._timeout)&&(!!e.equals(this._endpoints,t._endpoints,(function(e,t){return e.equals(t)}))&&this._adapterId===t._adapterId)))))))))))},getRequestHandler:function(e){return this._instance.requestHandlerFactory().getRequestHandler(this,e)},getBatchRequestQueue:function(){return new n(this._instance,this._mode===s.ModeBatchDatagram)},getConnection:function(){var e=new c;if(null!==this._routerInfo){var t=this;this._routerInfo.getClientEndpoints().then((function(n){n.length>0?(t.applyOverrides(n),t.createConnection(n).then((function(t,n){e.succeed(t,n)}),(function(t){e.fail(t)}))):t.getConnectionNoRouterInfo(e)})).exception((function(t){e.fail(t)}))}else this.getConnectionNoRouterInfo(e);return e},getConnectionNoRouterInfo:function(e){if(this._endpoints.length>0)this.createConnection(this._endpoints).then((function(t,n){e.succeed(t,n)})).exception((function(t){e.fail(t)}));else{var n=this;null!==this._locatorInfo?this._locatorInfo.getEndpoints(this,null,this._locatorCacheTimeout).then((function(i,r){0!==i.length?(n.applyOverrides(i),n.createConnection(i).then((function(t,n){e.succeed(t,n)}),(function(i){if(i instanceof Ice.NoEndpointException)e.fail(i);else{if(t.assert(null!==n._locatorInfo),n.getLocatorInfo().clearCache(n),r){var o=n.getInstance().traceLevels();if(o.retry>=2){var c="connection to cached endpoints failed\nremoving endpoints from cache and trying one more time\n"+i.toString();n.getInstance().initializationData().logger.trace(o.retryCat,c)}return void n.getConnectionNoRouterInfo(e)}e.fail(i)}}))):e.fail(new Ice.NoEndpointException(n.toString()))})).exception((function(t){e.fail(t)})):e.fail(new Ice.NoEndpointException(this.toString()))}},clone:function(){var e=new m(this.getInstance(),this.getCommunicator(),this.getIdentity(),this.getFacet(),this.getMode(),this.getSecure(),this.getProtocol(),this.getEncoding(),this._endpoints,this._adapterId,this._locatorInfo,this._routerInfo,this._cacheConnection,this._preferSecure,this._endpointSelection,this._locatorCacheTimeout,this._invocationTimeout);return this.copyMembers(e),e},copyMembers:function(e){I.prototype.copyMembers.call(this,e),e._overrideTimeout=this._overrideTimeout,e._timeout=this._timeout,e._connectionId=this._connectionId},applyOverrides:function(e){for(var t=0;t<e.length;++t)e[t]=e[t].changeConnectionId(this._connectionId),this._overrideCompress&&(e[t]=e[t].changeCompress(this._compress)),this._overrideTimeout&&(e[t]=e[t].changeTimeout(this._timeout))},filterEndpoints:function(n){for(var i=[],r=0;r<n.length;++r)n[r]instanceof o||!n[r].connectable()||i.push(n[r]);switch(this.getMode()){case s.ModeTwoway:case s.ModeOneway:case s.ModeBatchOneway:i=e.filter(i,(function(e,t,n){return!e.datagram()}));break;case s.ModeDatagram:case s.ModeBatchDatagram:i=e.filter(i,(function(e,t,n){return e.datagram()}))}switch(this.getEndpointSelection()){case u.Random:e.shuffle(i);break;case u.Ordered:break;default:t.assert(!1)}var c=this.getInstance().defaultsAndOverrides();if(c.overrideSecure?c.overrideSecureValue:this.getSecure())i=e.filter(i,(function(e,t,n){return e.secure()}));else{var a=this.getPreferSecure();i.sort((function(e,t){var n=e.secure(),i=t.secure();return n&&i||!n&&!i?0:!n&&i?a?1:-1:a?-1:1}))}return i},createConnection:function(e){var t=this.filterEndpoints(e);if(0===t.length)return(new c).fail(new Ice.NoEndpointException(this.toString()));var n,i=new c,r=this.getInstance().outgoingConnectionFactory();if(this.getCacheConnection()||1==t.length)n=new S(this,null,i),r.create(t,!1,this.getEndpointSelection()).then((function(e,t){n.setConnection(e,t)})).exception((function(e){n.setException(e)}));else{var o=[t[0]];n=new S(this,t,i),r.create(o,!0,this.getEndpointSelection()).then((function(e,t){n.setConnection(e,t)})).exception((function(e){n.setException(e)}))}return i}});Ice.RoutableReference=m;var S=C({__init__:function(e,t,n){this.ref=e,this.endpoints=t,this.promise=n,this.i=0,this.exception=null},setConnection:function(e,t){null!==this.ref.getRouterInfo()&&null!==this.ref.getRouterInfo().getAdapter()&&e.setAdapter(this.ref.getRouterInfo().getAdapter()),this.promise.succeed(e,t)},setException:function(e){if(null===this.exception&&(this.exception=e),null!==this.endpoints&&++this.i!==this.endpoints.length){var t=this.i!=this.endpoints.length-1,n=[this.endpoints[this.i]],i=this;this.ref.getInstance().outgoingConnectionFactory().create(n,t,this.ref.getEndpointSelection()).then((function(e,t){i.setConnection(e,t)})).exception((function(e){i.setException(e)}))}else this.promise.fail(this.exception)}})}(),function(){var e=Ice.Debug,t=Ice.BasicStream,n=Ice.EndpointParseException,i=Ice.OpaqueEndpointI,r=Ice.Protocol,o=Ice.StringUtil,c=Ice.Class({__init__:function(e){this._instance=e,this._factories=[]},add:function(t){for(var n=0;n<this._factories.length;++n)e.assert(this._factories[n].type()!=t.type());this._factories.push(t)},get:function(e){for(var t=0;t<this._factories.length;++t)if(this._factories[t].type()===e)return this._factories[t];return null},create:function(e,c){var s=e.trim();if(0===s.length)throw new n("value has no non-whitespace characters");var a=o.splitString(s," \t\n\r");if(0===a.length)throw new n("value has no non-whitespace characters");var l=a[0];a.splice(0,1),"default"===l&&(l=this._instance.defaultsAndOverrides().defaultProtocol);for(var u=0,d=this._factories.length;u<d;++u)if(this._factories[u].protocol()===l){var h=this._factories[u].create(a,c);if(a.length>0)throw new n("unrecognized argument `"+a[0]+"' in endpoint `"+e+"'");return h}if("opaque"===l){var f=new i;if(f.initWithOptions(a),a.length>0)throw new n("unrecognized argument `"+a[0]+"' in endpoint `"+e+"'");for(u=0,d=this._factories.length;u<d;++u)if(this._factories[u].type()==f.type()){var p=new t(this._instance,r.currentProtocolEncoding);p.writeShort(f.type()),f.streamWrite(p),p.pos=0,p.readShort(),p.startReadEncaps();var _=this._factories[u].read(p);return p.endReadEncaps(),_}return f}return null},read:function(e){for(var t,n=e.readShort(),r=0;r<this._factories.length;++r)if(this._factories[r].type()==n)return e.startReadEncaps(),t=this._factories[r].read(e),e.endReadEncaps(),t;return e.startReadEncaps(),(t=new i(n)).initWithStream(e),e.endReadEncaps(),t},destroy:function(){for(var e=0;e<this._factories.length;++e)this._factories[e].destroy();this._factories=[]}});Ice.EndpointFactoryManager=c}(),function(){var e=Ice.Debug,t=Ice.HashMap,n=Ice.ObjectPrx,i=Ice.StringUtil,r=Ice.Identity,o=Ice.Class({__init__:function(e){this._instance=e;var t=this._instance.initializationData().properties.getPropertyAsList("Ice.RetryIntervals");if(t.length>0){this._retryIntervals=[];for(var n=0;n<t.length;n++){var r;try{r=i.toInt(t[n])}catch(e){r=0}if(0===n&&-1===r)break;this._retryIntervals[n]=r>0?r:0}}else this._retryIntervals=[0]},stringToProxy:function(e){var t=this._instance.referenceFactory().createFromString(e,null);return this.referenceToProxy(t)},proxyToString:function(e){return null!==e?e.__reference().toString():""},propertyToProxy:function(e){var t=this._instance.initializationData().properties.getProperty(e),n=this._instance.referenceFactory().createFromString(t,e);return this.referenceToProxy(n)},proxyToProperty:function(e,n){return null!==e?e.__reference().toProperty(n):new t},streamToProxy:function(e,t){var n=new r;n.__read(e);var i=this._instance.referenceFactory().createFromStream(n,e);return this.referenceToProxy(i,t)},referenceToProxy:function(e,t){if(null!==e){var i=t?new t:new n;return i.__setup(e),i}return null},proxyToStream:function(e,t){if(null!==e){var n=e.__reference();n.getIdentity().__write(t),n.streamWrite(t)}else{new r("","").__write(t)}},checkRetryAfterException:function(t,n,i,r){var o,c=this._instance.traceLevels(),s=this._instance.initializationData().logger;if(n.getMode()===Ice.Reference.ModeBatchOneway||n.getMode()===Ice.Reference.ModeBatchDatagram)throw t;if(t instanceof Ice.ObjectNotExistException){var a=t;if(null!==n.getRouterInfo()&&"ice_add_proxy"===a.operation)return n.getRouterInfo().clearCache(n),c.retry>=1&&s.trace(c.retryCat,"retrying operation call to add proxy to router\n"+t.toString()),null!==i&&(i.value=0),r;if(!n.isIndirect())throw t;if(n.isWellKnown()){var l=n.getLocatorInfo();null!==l&&l.clearCache(n)}}else if(t instanceof Ice.RequestFailedException)throw t;if(t instanceof Ice.MarshalException)throw t;if(t instanceof Ice.CommunicatorDestroyedException||t instanceof Ice.ObjectAdapterDeactivatedException)throw t;if(t instanceof Ice.InvocationTimeoutException||t instanceof Ice.InvocationCanceledException)throw t;if(++r,e.assert(r>0),r===this._retryIntervals.length+1&&t instanceof Ice.CloseConnectionException)o=0;else{if(r>this._retryIntervals.length)throw c.retry>=1&&s.trace(c.retryCat,"cannot retry operation call because retry limit has been exceeded\n"+t.toString()),t;o=this._retryIntervals[r-1]}if(c.retry>=1){var u="retrying operation call";o>0&&(u+=" in "+o+"ms"),u+=" because of exception\n"+t.toString(),s.trace(c.retryCat,u)}return e.assert(null!==i),i.value=o,r}});Ice.ProxyFactory=o}(),function(){var e=Ice.FormatType,t=Ice.EndpointSelectionType,n=Ice.Protocol;Ice.DefaultsAndOverrides=function(i,r){this.defaultProtocol=i.getPropertyWithDefault("Ice.Default.Protocol",void 0!==Ice.TcpEndpointFactory?"tcp":"ws");var o=i.getProperty("Ice.Default.Host");if(this.defaultHost=o.length>0?o:null,o=i.getProperty("Ice.Default.SourceAddress"),this.defaultSourceAddress=o.length>0?o:null,(o=i.getProperty("Ice.Override.Timeout")).length>0?(this.overrideTimeout=!0,this.overrideTimeoutValue=i.getPropertyAsInt("Ice.Override.Timeout"),this.overrideTimeoutValue<1&&-1!==this.overrideTimeoutValue&&(this.overrideTimeoutValue=-1,r.warning("invalid value for Ice.Override.Timeout `"+i.getProperty("Ice.Override.Timeout")+"': defaulting to -1"))):(this.overrideTimeout=!1,this.overrideTimeoutValue=-1),(o=i.getProperty("Ice.Override.ConnectTimeout")).length>0?(this.overrideConnectTimeout=!0,this.overrideConnectTimeoutValue=i.getPropertyAsInt("Ice.Override.ConnectTimeout"),this.overrideConnectTimeoutValue<1&&-1!==this.overrideConnectTimeoutValue&&(this.overrideConnectTimeoutValue=-1,r.warning("invalid value for Ice.Override.ConnectTimeout `"+i.getProperty("Ice.Override.ConnectTimeout")+"': defaulting to -1"))):(this.overrideConnectTimeout=!1,this.overrideConnectTimeoutValue=-1),(o=i.getProperty("Ice.Override.CloseTimeout")).length>0?(this.overrideCloseTimeout=!0,this.overrideCloseTimeoutValue=i.getPropertyAsInt("Ice.Override.CloseTimeout"),this.overrideCloseTimeoutValue<1&&-1!==this.overrideCloseTimeoutValue&&(this.overrideCloseTimeoutValue=-1,r.warning("invalid value for Ice.Override.CloseTimeout `"+i.getProperty("Ice.Override.CloseTimeout")+"': defaulting to -1"))):(this.overrideCloseTimeout=!1,this.overrideCloseTimeoutValue=-1),this.overrideCompress=!1,this.overrideSecure=!1,"Random"===(o=i.getPropertyWithDefault("Ice.Default.EndpointSelection","Random")))this.defaultEndpointSelection=t.Random;else{if("Ordered"!==o){var c=new Ice.EndpointSelectionTypeParseException;throw c.str="illegal value `"+o+"'; expected `Random' or `Ordered'",c}this.defaultEndpointSelection=t.Ordered}this.defaultTimeout=i.getPropertyAsIntWithDefault("Ice.Default.Timeout",6e4),this.defaultTimeout<1&&-1!==this.defaultTimeout&&(this.defaultTimeout=6e4,r.warning("invalid value for Ice.Default.Timeout `"+i.getProperty("Ice.Default.Timeout")+"': defaulting to 60000")),this.defaultLocatorCacheTimeout=i.getPropertyAsIntWithDefault("Ice.Default.LocatorCacheTimeout",-1),this.defaultLocatorCacheTimeout<-1&&(this.defaultLocatorCacheTimeout=-1,r.warning("invalid value for Ice.Default.LocatorCacheTimeout `"+i.getProperty("Ice.Default.LocatorCacheTimeout")+"': defaulting to -1")),this.defaultInvocationTimeout=i.getPropertyAsIntWithDefault("Ice.Default.InvocationTimeout",-1),this.defaultInvocationTimeout<1&&-1!==this.defaultInvocationTimeout&&(this.defaultInvocationTimeout=-1,r.warning("invalid value for Ice.Default.InvocationTimeout `"+i.getProperty("Ice.Default.InvocationTimeout")+"': defaulting to -1")),this.defaultPreferSecure=i.getPropertyAsIntWithDefault("Ice.Default.PreferSecure",0)>0,o=i.getPropertyWithDefault("Ice.Default.EncodingVersion",Ice.encodingVersionToString(n.currentEncoding)),this.defaultEncoding=Ice.stringToEncodingVersion(o),n.checkSupportedEncoding(this.defaultEncoding);var s=i.getPropertyAsIntWithDefault("Ice.Default.SlicedFormat",0)>0;this.defaultFormat=s?e.SlicedFormat:e.CompactFormat}}(),function(){var e=Ice.StringUtil,t=Ice.Identity,n=Ice.IdentityParseException;Ice.stringToIdentity=function(i){for(var r=new t,o=-1,c=0;-1!==(c=i.indexOf("/",c));){for(var s=0;c-s>0&&"\\"==i.charAt(c-s-1);)s++;if(s%2==0){if(-1!=o)throw(a=new n).str="unescaped backslash in identity `"+i+"'",a;o=c}c++}if(-1==o){r.category="";try{r.name=e.unescapeString(i)}catch(e){throw(a=new n).str="invalid identity name `"+i+"': "+a.toString(),a}}else{try{r.category=e.unescapeString(i,0,o)}catch(e){throw(a=new n).str="invalid category in identity `"+i+"': "+a.toString(),a}if(o+1<i.length)try{r.name=e.unescapeString(i,o+1,i.length)}catch(e){var a;throw(a=new n).str="invalid name in identity `"+i+"': "+a.toString(),a}else r.name=""}return r},Ice.identityToString=function(t){return null===t.category||0===t.category.length?e.escapeString(t.name,"/"):e.escapeString(t.category,"/")+"/"+e.escapeString(t.name,"/")},Ice.proxyIdentityCompare=function(e,t){if(e===t)return 0;if(null===e&&null!==t)return-1;if(null!==e&&null===t)return 1;var n,i=e.ice_getIdentity(),r=t.ice_getIdentity();return 0!==(n=i.name.localeCompare(r.name))?n:i.category.localeCompare(r.category)},Ice.proxyIdentityAndFacetCompare=function(e,t){if(e===t)return 0;if(null===e&&null!==t)return-1;if(null!==e&&null===t)return 1;var n,i=e.ice_getIdentity(),r=t.ice_getIdentity();if(0!==(n=i.name.localeCompare(r.name)))return n;if(0!==(n=i.category.localeCompare(r.category)))return n;var o=e.ice_getFacet(),c=t.ice_getFacet();return null===o&&null===c?0:null===o?-1:null===c?1:o.localeCompare(c)}}(),function(){Ice.ArrayUtil;var e=Ice.AsyncResultBase,t=Ice.ConnectionI,n=(Ice.ConnectionReaper,Ice.Debug),i=Ice.HashMap,r=Ice.Promise,o=(Ice.EndpointSelectionType,Ice.FactoryACMMonitor),c=Ice.Class,s=c({__init__:function(e,t){this._communicator=e,this._instance=t,this._destroyed=!1,this._monitor=new o(this._instance,this._instance.clientACM()),this._connectionsByEndpoint=new a,this._pending=new i(i.compareEquals),this._pendingConnectCount=0,this._waitPromise=null},destroy:function(){this._destroyed||(this._connectionsByEndpoint.forEach((function(e){e.destroy(t.CommunicatorDestroyed)})),this._destroyed=!0,this._communicator=null,this.checkFinished())},waitUntilFinished:function(){return this._waitPromise=new r,this.checkFinished(),this._waitPromise},create:function(e,t,i){n.assert(e.length>0);var o=this.applyOverrides(e);try{var c={value:!1},s=this.findConnectionByEndpoint(o,c);if(null!==s)return(new r).succeed(s,c.value)}catch(e){return(new r).fail(e)}return new l(this,o,t,i).start()},setRouterInfo:function(e){var t=this;return Ice.Promise.try2((function(){if(t._destroyed)throw new Ice.CommunicatorDestroyedException;return e.getClientEndpoints()})).then((function(n){for(var i=e.getAdapter(),r=t._instance.defaultsAndOverrides(),o=0;o<n.length;++o){var c=n[o];r.overrideTimeout&&(c=c.changeTimeout(r.overrideTimeoutValue)),c=c.changeCompress(!1);for(var s=0;s<t._connectionsByEndpoint.length;++s){var a=t._connectionsByEndpoint[s];a.endpoint().equals(c)&&a.setAdapter(i)}}}))},removeAdapter:function(e){this._destroyed||this._connectionsByEndpoint.forEach((function(t){t.getAdapter()===e&&t.setAdapter(null)}))},flushAsyncBatchRequests:function(){var t=new e(this._communicator,"flushBatchRequests",null,null,null);if(!this._destroyed)return r.all(this._connectionsByEndpoint.map((function(e){if(e.isActiveOrHolding())return e.flushBatchRequests().exception((function(e){if(!(e instanceof Ice.LocalException))throw e}))}))).then((function(){t.succeed(t)}),(function(e){t.fail(e,t)})),t;t.succeed()},applyOverrides:function(e){for(var t=this._instance.defaultsAndOverrides(),n=[],i=0;i<e.length;++i){var r=e[i];t.overrideTimeout?n.push(r.changeTimeout(t.overrideTimeoutValue)):n.push(r)}return n},findConnectionByEndpoint:function(e,t){if(this._destroyed)throw new Ice.CommunicatorDestroyedException;var i=this._instance.defaultsAndOverrides();n.assert(e.length>0);for(var r=0;r<e.length;++r){var o=e[r];if(!this._pending.has(o)){var c=this._connectionsByEndpoint.get(o);if(void 0!==c)for(var s=0;s<c.length;++s)if(c[s].isActiveOrHolding())return i.overrideCompress?t.value=i.overrideCompressValue:t.value=o.compress(),c[s]}}return null},incPendingConnectCount:function(){if(this._destroyed)throw new Ice.CommunicatorDestroyedException;++this._pendingConnectCount},decPendingConnectCount:function(){--this._pendingConnectCount,n.assert(this._pendingConnectCount>=0),this._destroyed&&0===this._pendingConnectCount&&this.checkFinished()},getConnection:function(e,t,n){if(this._destroyed)throw new Ice.CommunicatorDestroyedException;var i=this._monitor.swapReapedConnections();if(null!==i)for(var r=0;r<i.length;++r){var o=i[r];this._connectionsByEndpoint.removeConnection(o.endpoint(),o),this._connectionsByEndpoint.removeConnection(o.endpoint().changeCompress(!0),o)}for(;;){if(this._destroyed)throw new Ice.CommunicatorDestroyedException;var c=this.findConnectionByEndpoint(e,n);if(null!==c)return c;if(this.addToPending(t,e))return null;break}return t.nextEndpoint(),null},createConnection:function(e,i){n.assert(this._pending.has(i)&&null!==e);var r=null;try{if(this._destroyed)throw new Ice.CommunicatorDestroyedException;r=new t(this._communicator,this._instance,this._monitor,e,i.changeCompress(!1),!1,null)}catch(t){if(t instanceof Ice.LocalException)try{e.close()}catch(e){}throw t}return this._connectionsByEndpoint.set(r.endpoint(),r),this._connectionsByEndpoint.set(r.endpoint().changeCompress(!0),r),r},finishGetConnection:function(e,t,n,i){var r,o,c=[];null!==i&&c.push(i);var s,a=[];for(r=0;r<e.length;++r){var l=e[r],u=this._pending.get(l);if(void 0!==u){this._pending.del(l);for(var d=0;d<u.length;++d)(o=u[d]).hasEndpoint(t)?-1===c.indexOf(o)&&c.push(o):-1===a.indexOf(o)&&a.push(o)}}for(r=0;r<c.length;++r){(o=c[r]).removeFromPending();var h=a.indexOf(o);-1!==h&&a.splice(h,1)}for(r=0;r<a.length;++r)(o=a[r]).removeFromPending();var f=this._instance.defaultsAndOverrides();for(s=f.overrideCompress?f.overrideCompressValue:t.compress(),r=0;r<a.length;++r)(o=a[r]).getConnection();for(r=0;r<c.length;++r)(o=c[r]).setConnection(n,s);this.checkFinished()},finishGetConnectionEx:function(e,t,i){var r,o,c=[];null!==i&&c.push(i);var s=[];for(r=0;r<e.length;++r){var a=e[r],l=this._pending.get(a);if(void 0!==l){this._pending.del(a);for(var u=0;u<l.length;++u)(o=l[u]).removeEndpoints(e)?-1===c.indexOf(o)&&c.push(o):-1===s.indexOf(o)&&s.push(o)}}for(r=0;r<s.length;++r)o=s[r],n.assert(-1===c.indexOf(o)),o.removeFromPending();for(this.checkFinished(),r=0;r<s.length;++r)(o=s[r]).getConnection();for(r=0;r<c.length;++r)(o=c[r]).setException(t)},addToPending:function(e,t){var n,i,r=!1;if(null!==e)for(i=0;i<t.length;++i){n=t[i];var o=this._pending.get(n);void 0!==o&&(r=!0,-1===o.indexOf(e)&&o.push(e))}if(r)return!0;for(i=0;i<t.length;++i)n=t[i],this._pending.has(n)||this._pending.set(n,[]);return!1},removeFromPending:function(e,t){for(var n=0;n<t.length;++n){var i=t[n],r=this._pending.get(i);if(void 0!==r){var o=r.indexOf(e);-1!==o&&r.splice(o,1)}}},handleConnectionException:function(e,t){var n=this._instance.traceLevels();if(n.retry>=2){var i=[];i.push("connection to endpoint failed"),e instanceof Ice.CommunicatorDestroyedException?i.push("\n"):t?i.push(", trying next endpoint\n"):i.push(" and no more endpoints to try\n"),i.push(e.toString()),this._instance.initializationData().logger.trace(n.retryCat,i.join(""))}},handleException:function(e,t){var n=this._instance.traceLevels();if(n.retry>=2){var i=[];i.push("couldn't resolve endpoint host"),e instanceof Ice.CommunicatorDestroyedException?i.push("\n"):t?i.push(", trying next endpoint\n"):i.push(" and no more endpoints to try\n"),i.push(e.toString()),this._instance.initializationData().logger.trace(n.retryCat,i.join(""))}},checkFinished:function(){if(!(!this._waitPromise||!this._destroyed||this._pending.size>0||this._pendingConnectCount>0)){var e=this;r.all(e._connectionsByEndpoint.map((function(e){return e.waitUntilFinished().exception((function(e){n.assert(!1)}))}))).then((function(){var t=e._monitor.swapReapedConnections();if(null!==t){for(var i=[],r=e._connectionsByEndpoint.entries;null!==r;r=r.next)for(var o=r.value,c=0;c<o.length;++c)-1===i.indexOf(o[c])&&i.push(o[c]);n.assert(t.length===i.length),e._connectionsByEndpoint.clear()}else n.assert(0===e._connectionsByEndpoint.size);n.assert(null!==e._waitPromise),e._waitPromise.succeed(),e._monitor.destroy()}))}}});Ice.OutgoingConnectionFactory=s;var a=c(i,{__init__:function(e){i.call(this,e||i.compareEquals)},set:function(e,r){var o=this.get(e);void 0===o&&(o=[],i.prototype.set.call(this,e,o)),n.assert(r instanceof t),o.push(r)},removeConnection:function(e,t){var i=this.get(e);n.assert(null!==i);var r=i.indexOf(t);n.assert(-1!==r),i.splice(r,1),0===i.length&&this.del(e)},map:function(e){var t=[];return this.forEach((function(n){t.push(e(n))})),t},forEach:function(e){for(var t=this._head;null!==t;t=t._next)for(var n=0;n<t.value.length;++n)e(t.value[n])}}),l=c({__init__:function(e,t,n,i){this._factory=e,this._endpoints=t,this._hasMore=n,this._selType=i,this._promise=new r,this._index=0,this._current=null},connectionStartCompleted:function(e){e.activate(),this._factory.finishGetConnection(this._endpoints,this._current,e,this)},connectionStartFailed:function(e,t){n.assert(null!==this._current),t instanceof Ice.LocalException?(this._factory.handleConnectionException(t,this._hasMore||this._index<this._endpoints.length),t instanceof Ice.CommunicatorDestroyedException?this._factory.finishGetConnectionEx(this._endpoints,t,this):this._index<this._endpoints.length?this.nextEndpoint():this._factory.finishGetConnectionEx(this._endpoints,t,this)):this._factory.finishGetConnectionEx(this._endpoints,t,this)},setConnection:function(e,t){this._promise.succeed(e,t),this._factory.decPendingConnectCount()},setException:function(e){this._promise.fail(e),this._factory.decPendingConnectCount()},hasEndpoint:function(e){return-1!==this.findEndpoint(e)},findEndpoint:function(e){for(var t=0;t<this._endpoints.length;++t)if(e.equals(this._endpoints[t]))return t;return-1},removeEndpoints:function(e){for(var t=0;t<e.length;++t){var n=this.findEndpoint(e[t]);-1!==n&&this._endpoints.splice(n,1)}return this._index=0,0===this._endpoints.length},removeFromPending:function(){this._factory.removeFromPending(this,this._endpoints)},start:function(){try{this._factory.incPendingConnectCount()}catch(e){return void this._promise.fail(e)}return this.getConnection(),this._promise},getConnection:function(){try{var e={value:!1},t=this._factory.getConnection(this._endpoints,this,e);if(null===t)return;this._promise.succeed(t,e.value),this._factory.decPendingConnectCount()}catch(e){this._promise.fail(e),this._factory.decPendingConnectCount()}},nextEndpoint:function(){var e=null,t=this._factory._instance.traceLevels();try{if(n.assert(this._index<this._endpoints.length),this._current=this._endpoints[this._index++],t.network>=2)(r=[]).push("trying to establish "),r.push(this._current.protocol()),r.push(" connection to "),r.push(this._current.toConnectorString()),this._factory._instance.initializationData().logger.trace(t.networkCat,r.join(""));e=this._factory.createConnection(this._current.connect(),this._current);var i=this;e.start().then((function(){i.connectionStartCompleted(e)}),(function(t){i.connectionStartFailed(e,t)}))}catch(n){var r;if(t.network>=2)(r=[]).push("failed to establish "),r.push(this._current.protocol()),r.push(" connection to "),r.push(this._current.toString()),r.push("\n"),r.push(n.toString()),this._factory._instance.initializationData().logger.trace(t.networkCat,r.join(""));this.connectionStartFailed(e,n)}}})}(),function(){var e=Ice.Debug,t=Ice.HashMap,n=Ice.Promise,i=Ice.Protocol,r=Ice.LocatorRegisterPrx,o=Ice.Class,c=o({__init__:function(e,n,i){this._locator=e,this._locatorRegistry=null,this._table=n,this._background=i,this._adapterRequests=new t,this._objectRequests=new t(t.compareEquals)},destroy:function(){this._locatorRegistry=null,this._table.clear()},equals:function(e){return this===e||e instanceof c&&this._locator.equals(e._locator)},hashCode:function(){return this._locator.hashCode()},getLocator:function(){return this._locator},getLocatorRegistry:function(){if(null!==this._locatorRegistry)return(new n).succeed(this._locatorRegistry);var e=this;return this._locator.getRegistry().then((function(t){return e._locatorRegistry=r.uncheckedCast(t.ice_locator(null).ice_endpointSelection(Ice.EndpointSelectionType.Ordered)),e._locatorRegistry}))},getEndpoints:function(t,i,r,o){var c=o||new n;e.assert(t.isIndirect());var s=null,a={value:!1};if(t.isWellKnown()){var l=this._table.getObjectReference(t.getIdentity(),r,a);if(!a.value){if(!this._background||null===l)return this.getObjectRequest(t).addCallback(t,null,r,c),c;this.getObjectRequest(t).addCallback(t,null,r,null)}if(l.isIndirect()){if(!l.isWellKnown())return this.getEndpoints(l,t,r,c),c}else s=l.getEndpoints()}else if(s=this._table.getAdapterEndpoints(t.getAdapterId(),r,a),!a.value){if(!this._background||null===s)return this.getAdapterRequest(t).addCallback(t,i,r,c),c;this.getAdapterRequest(t).addCallback(t,i,r,null)}return e.assert(null!==s),t.getInstance().traceLevels().location>=1&&this.getEndpointsTrace(t,s,!0),c.succeed(s,!0),c},clearCache:function(t){if(e.assert(t.isIndirect()),t.isWellKnown()){var n=this._table.removeObjectReference(t.getIdentity());null!==n&&(n.isIndirect()?n.isWellKnown()||this.clearCache(n):t.getInstance().traceLevels().location>=2&&this.trace("removed endpoints from locator table",t,n.getEndpoints()))}else{var i=this._table.removeAdapterEndpoints(t.getAdapterId());null!==i&&t.getInstance().traceLevels().location>=2&&this.trace("removed endpoints from locator table\n",t,i)}},trace:function(t,n,i){e.assert(n.isIndirect());var r=[];r.push(t),r.push("\n"),n.isWellKnown()?(r.push("object = "),r.push(n.getInstance().identityToString(n.getIdentity())),r.push("\n")):(r.push("adapter = "),r.push(n.getAdapterId()),r.push("\n")),r.push("endpoints = ");for(var o=0;o<i.length;o++)r.push(i[o].toString()),o+1<i.length&&r.push(":");n.getInstance().initializationData().logger.trace(n.getInstance().traceLevels().locationCat,r.join(""))},getEndpointsException:function(t,n){e.assert(t.isIndirect());var i,r,o=t.getInstance();try{throw n}catch(n){if(n instanceof Ice.AdapterNotFoundException)throw o.traceLevels().location>=1&&((i=[]).push("adapter not found\n"),i.push("adapter = "),i.push(t.getAdapterId()),o.initializationData().logger.trace(o.traceLevels().locationCat,i.join(""))),(r=new Ice.NotRegisteredException).kindOfObject="object adapter",r.id=t.getAdapterId(),r;if(n instanceof Ice.ObjectNotFoundException)throw o.traceLevels().location>=1&&((i=[]).push("object not found\n"),i.push("object = "),i.push(o.identityToString(t.getIdentity())),o.initializationData().logger.trace(o.traceLevels().locationCat,i.join(""))),(r=new Ice.NotRegisteredException).kindOfObject="object",r.id=o.identityToString(t.getIdentity()),r;if(n instanceof Ice.NotRegisteredException)throw n;if(n instanceof Ice.LocalException)throw o.traceLevels().location>=1&&((i=[]).push("couldn't contact the locator to retrieve adapter endpoints\n"),t.getAdapterId().length>0?(i.push("adapter = "),i.push(t.getAdapterId()),i.push("\n")):(i.push("object = "),i.push(o.identityToString(t.getIdentity())),i.push("\n")),i.push("reason = "+n.toString()),o.initializationData().logger.trace(o.traceLevels().locationCat,i.join(""))),n;e.assert(!1)}},getEndpointsTrace:function(e,t,n){if(null!==t&&t.length>0)n?this.trace("found endpoints in locator table",e,t):this.trace("retrieved endpoints from locator, adding to locator table",e,t);else{var i=e.getInstance(),r=[];r.push("no endpoints configured for "),e.getAdapterId().length>0?(r.push("adapter\n"),r.push("adapter = "),r.push(e.getAdapterId()),r.push("\n")):(r.push("object\n"),r.push("object = "),r.push(i.identityToString(e.getIdentity())),r.push("\n")),i.initializationData().logger.trace(i.traceLevels().locationCat,r.join(""))}},getAdapterRequest:function(e){if(e.getInstance().traceLevels().location>=1){var t=e.getInstance(),n=[];n.push("searching for adapter by id\n"),n.push("adapter = "),n.push(e.getAdapterId()),t.initializationData().logger.trace(t.traceLevels().locationCat,n.join(""))}var i=this._adapterRequests.get(e.getAdapterId());return void 0!==i||(i=new u(this,e),this._adapterRequests.set(e.getAdapterId(),i)),i},getObjectRequest:function(e){if(e.getInstance().traceLevels().location>=1){var t=e.getInstance(),n=[];n.push("searching for object by id\n"),n.push("object = "),n.push(t.identityToString(e.getIdentity())),t.initializationData().logger.trace(t.traceLevels().locationCat,n.join(""))}var i=this._objectRequests.get(e.getIdentity());return void 0!==i||(i=new l(this,e),this._objectRequests.set(e.getIdentity(),i)),i},finishRequest:function(t,n,i,r){if(null===i||i.__reference().isIndirect())for(var o=0;o<n.length;++o)this._table.removeObjectReference(n[o].getIdentity());t.isWellKnown()?(null===i||i.__reference().isWellKnown()?r&&this._table.removeObjectReference(t.getIdentity()):this._table.addObjectReference(t.getIdentity(),i.__reference()),e.assert(this._objectRequests.has(t.getIdentity())),this._objectRequests.del(t.getIdentity())):(null===i||i.__reference().isIndirect()?r&&this._table.removeAdapterEndpoints(t.getAdapterId()):this._table.addAdapterEndpoints(t.getAdapterId(),i.__reference().getEndpoints()),e.assert(this._adapterRequests.has(t.getAdapterId())),this._adapterRequests.del(t.getAdapterId()))}});Ice.LocatorInfo=c;var s=o({__init__:function(e,t,n){this._ref=e,this._ttl=t,this._promise=n},response:function(e,t){var n=null;if(null!==t){var r=t.__reference();if(this._ref.isWellKnown()&&!i.isSupported(this._ref.getEncoding(),r.getEncoding()));else if(r.isIndirect()){if(this._ref.isWellKnown()&&!r.isWellKnown()){var o=this;return void e.getEndpoints(r,this._ref,this._ttl).then((function(e,t){null!==o._promise&&o._promise.succeed(e,t)}),(function(e){null!==o._promise&&o._promise.fail(e)}))}}else n=r.getEndpoints()}this._ref.getInstance().traceLevels().location>=1&&e.getEndpointsTrace(this._ref,n,!1),null!==this._promise&&this._promise.succeed(null===n?[]:n,!1)},exception:function(e,t){try{e.getEndpointsException(this._ref,t)}catch(e){null!==this._promise&&this._promise.fail(e)}}}),a=o({__init__:function(e,t){this._locatorInfo=e,this._ref=t,this._callbacks=[],this._wellKnownRefs=[],this._sent=!1,this._response=!1,this._proxy=null,this._exception=null},addCallback:function(e,t,n,i){var r=new s(e,n,i);this._response?r.response(this._locatorInfo,this._proxy):null!==this._exception?r.exception(this._locatorInfo,this._exception):(this._callbacks.push(r),null!==t&&this._wellKnownRefs.push(t),this._sent||(this._sent=!0,this.send()))},response:function(e){this._locatorInfo.finishRequest(this._ref,this._wellKnownRefs,e,!1),this._response=!0,this._proxy=e;for(var t=0;t<this._callbacks.length;++t)this._callbacks[t].response(this._locatorInfo,e)},exception:function(e){this._locatorInfo.finishRequest(this._ref,this._wellKnownRefs,null,e instanceof Ice.UserException),this._exception=e;for(var t=0;t<this._callbacks.length;++t)this._callbacks[t].exception(this._locatorInfo,e)}}),l=o(a,{__init__:function(t,n){a.call(this,t,n),e.assert(n.isWellKnown())},send:function(){try{var e=this;this._locatorInfo.getLocator().findObjectById(this._ref.getIdentity()).then((function(t){e.response(t)}),(function(t){e.exception(t)}))}catch(e){this.exception(e)}}}),u=o(a,{__init__:function(t,n){a.call(this,t,n),e.assert(n.isIndirect())},send:function(){try{var e=this;this._locatorInfo.getLocator().findAdapterById(this._ref.getAdapterId()).then((function(t){e.response(t)}),(function(t){e.exception(t)}))}catch(e){this.exception(e)}}})}(),function(){var e=Ice.AsyncResultBase,t=Ice.Debug,n=Ice.Identity,i=(Ice.Promise,Ice.PropertyNames),r=Ice.ServantManager,o=(Ice.StringUtil,["ACM","AdapterId","Endpoints","Locator","Locator.EncodingVersion","Locator.EndpointSelection","Locator.ConnectionCached","Locator.PreferSecure","Locator.CollocationOptimized","Locator.Router","MessageSizeMax","PublishedEndpoints","ReplicaGroupId","Router","Router.EncodingVersion","Router.EndpointSelection","Router.ConnectionCached","Router.PreferSecure","Router.CollocationOptimized","Router.Locator","Router.Locator.EndpointSelection","Router.Locator.ConnectionCached","Router.Locator.PreferSecure","Router.Locator.CollocationOptimized","Router.Locator.LocatorCacheTimeout","Router.Locator.InvocationTimeout","Router.LocatorCacheTimeout","Router.InvocationTimeout","ProxyOptions","ThreadPool.Size","ThreadPool.SizeMax","ThreadPool.SizeWarn","ThreadPool.StackSize","ThreadPool.Serialize"]),c=Ice.Class({__init__:function(e,n,i,o,c,s,a){if(this._instance=e,this._communicator=n,this._objectAdapterFactory=i,this._servantManager=new r(e,o),this._name=o,this._routerEndpoints=[],this._routerInfo=null,this._state=0,this._noConfig=s,this._noConfig)return this._reference=this._instance.referenceFactory().createFromString("dummy -t",""),this._messageSizeMax=this._instance.messageSizeMax(),void a.succeed(this,a);var l=this._instance.initializationData().properties,u=[],d=this.filterProperties(u);if(0!==u.length&&l.getPropertyAsIntWithDefault("Ice.Warn.UnknownProperties",1)>0){for(var h=["found unknown properties for object adapter `"+o+"':"],f=0;f<u.length;++f)h.push("\n    "+u[f]);this._instance.initializationData().logger.warning(h.join(""))}if(null===c&&d)throw(_=new Ice.InitializationException).reason="object adapter `"+this._name+"' requires configuration",_;var p=l.getPropertyWithDefault(this._name+".ProxyOptions","-t");try{this._reference=this._instance.referenceFactory().createFromString("dummy "+p,"")}catch(e){var _;if(e instanceof Ice.ProxyParseException)throw(_=new Ice.InitializationException).reason="invalid proxy options `"+p+"' for object adapter `"+o+"'",_;throw e}var C=this._instance.messageSizeMax()/1024,g=l.getPropertyAsIntWithDefault(this._name+".MessageSizeMax",C);this._messageSizeMax=g<1||g>2147483647/1024?2147483647:1024*g;try{if(null===c&&(c=Ice.RouterPrx.uncheckedCast(this._instance.proxyFactory().propertyToProxy(this._name+".Router"))),null!==c){if(this._routerInfo=this._instance.routerManager().find(c),t.assert(null!==this._routerInfo),null!==this._routerInfo.getAdapter())throw new Ice.AlreadyRegisteredException("object adapter with router",this._instance.identityToString(c.ice_getIdentity()));var y=this;this._routerInfo.getServerEndpoints().then((function(e){var t;for(t=0;t<e.length;++t)y._routerEndpoints.push(e[t]);for(y._routerEndpoints.sort((function(e,t){return e.compareTo(t)})),t=0;t<y._routerEndpoints.length-1;){var n=y._routerEndpoints[t],i=y._routerEndpoints[t+1];n.equals(i)?y._routerEndpoints.splice(t,1):++t}return y._routerInfo.setAdapter(y),y._instance.outgoingConnectionFactory().setRouterInfo(y._routerInfo)})).then((function(){a.succeed(y,a)}),(function(e){a.fail(e,a)}))}else{if(l.getProperty(this._name+".Endpoints").length>0)throw new Ice.FeatureNotSupportedException("object adapter endpoints not supported");a.succeed(this,a)}}catch(_){throw this.destroy(),_}},getName:function(){return this._noConfig?"":this._name},getCommunicator:function(){return this._communicator},activate:function(){},hold:function(){this.checkForDeactivation()},waitForHold:function(){var t=new e(this._communicator,"waitForHold",null,null,this);return this.checkForDeactivation(t)?t:t.succeed(t)},deactivate:function(){var t=new e(this._communicator,"deactivate",null,null,this);return this._state<5&&(this._state=5,this._instance.outgoingConnectionFactory().removeAdapter(this)),t.succeed(t)},waitForDeactivate:function(){var t=new e(this._communicator,"deactivate",null,null,this);return t.succeed(t)},isDeactivated:function(){return this._state>=5},destroy:function(){var t=new e(this._communicator,"destroy",null,null,this),n=this,i=function(){return n._state<6&&(n._state=6,n._servantManager.destroy(),n._objectAdapterFactory.removeObjectAdapter(n)),t.succeed(t)};return this._state<5?this.deactivate().then(i):i()},add:function(e,t){return this.addFacet(e,t,"")},addFacet:function(e,t,n){this.checkForDeactivation(),this.checkIdentity(t),this.checkServant(e);var i=t.clone();return this._servantManager.addServant(e,i,n),this.newProxy(i,n)},addWithUUID:function(e){return this.addFacetWithUUID(e,"")},addFacetWithUUID:function(e,t){return this.addFacet(e,new n(Ice.generateUUID(),""),t)},addDefaultServant:function(e,t){this.checkServant(e),this.checkForDeactivation(),this._servantManager.addDefaultServant(e,t)},remove:function(e){return this.removeFacet(e,"")},removeFacet:function(e,t){return this.checkForDeactivation(),this.checkIdentity(e),this._servantManager.removeServant(e,t)},removeAllFacets:function(e){return this.checkForDeactivation(),this.checkIdentity(e),this._servantManager.removeAllFacets(e)},removeDefaultServant:function(e){return this.checkForDeactivation(),this._servantManager.removeDefaultServant(e)},find:function(e){return this.findFacet(e,"")},findFacet:function(e,t){return this.checkForDeactivation(),this.checkIdentity(e),this._servantManager.findServant(e,t)},findAllFacets:function(e){return this.checkForDeactivation(),this.checkIdentity(e),this._servantManager.findAllFacets(e)},findByProxy:function(e){this.checkForDeactivation();var t=e.__reference();return this.findFacet(t.getIdentity(),t.getFacet())},findDefaultServant:function(e){return this.checkForDeactivation(),this._servantManager.findDefaultServant(e)},addServantLocator:function(e,t){this.checkForDeactivation(),this._servantManager.addServantLocator(e,t)},removeServantLocator:function(e){return this.checkForDeactivation(),this._servantManager.removeServantLocator(e)},findServantLocator:function(e){return this.checkForDeactivation(),this._servantManager.findServantLocator(e)},createProxy:function(e){return this.checkForDeactivation(),this.checkIdentity(e),this.newProxy(e,"")},createDirectProxy:function(e){return this.createProxy(e)},createIndirectProxy:function(e){throw new Ice.FeatureNotSupportedException("setLocator not supported")},setLocator:function(e){throw new Ice.FeatureNotSupportedException("setLocator not supported")},refreshPublishedEndpoints:function(){throw new Ice.FeatureNotSupportedException("refreshPublishedEndpoints not supported")},getEndpoints:function(){return[]},getPublishedEndpoints:function(){return[]},getServantManager:function(){return this._servantManager},messageSizeMax:function(){return this._messageSizeMax},newProxy:function(e,t){for(var n=[],i=0;i<this._routerEndpoints.length;++i)n.push(this._routerEndpoints[i]);var r=this._instance.referenceFactory().create(e,t,this._reference,n);return this._instance.proxyFactory().referenceToProxy(r)},checkForDeactivation:function(e){if(this._state>=5){var t=new Ice.ObjectAdapterDeactivatedException;if(t.name=this.getName(),void 0!==e)return e.fail(t,e),!0;throw t}return!1},checkIdentity:function(e){if(void 0===e.name||null===e.name||0===e.name.length)throw new Ice.IllegalIdentityException(e);void 0!==e.category&&null!==e.category||(e.category="")},checkServant:function(e){if(null==e)throw new Ice.IllegalServantException("cannot add null servant to Object Adapter")},filterProperties:function(e){var t,n=!0,r=this._name+".";for(t=0;t<i.clPropNames.length;++t)if(0===r.indexOf(i.clPropNames[t]+".")){n=!1;break}for(var c=!0,s=this._instance.initializationData().properties.getPropertiesForPrefix(r).entries;null!==s;s=s.next){var a=!1;for(t=0;t<o.length;++t)if(s.key===r+o[t]){c=!1,a=!0;break}!a&&n&&e.push(s.key)}return c}});Ice.ObjectAdapterI=c}(),function(){var e=Ice.HashMap,t=Ice.LocatorInfo,n=Ice.LocatorTable,i=Ice.LocatorPrx,r=Ice.Class({__init__:function(t){this._background=t.getPropertyAsInt("Ice.BackgroundLocatorCacheUpdates")>0,this._table=new e(e.compareEquals),this._locatorTables=new e(e.compareEquals)},destroy:function(){for(var e=this._table.entries;null!==e;e=e.next)e.value.destroy();this._table.clear(),this._locatorTables.clear()},find:function(e){if(null===e)return null;var r=i.uncheckedCast(e.ice_locator(null)),o=this._table.get(r);if(void 0===o){var c=this._locatorTables.get(r.ice_getIdentity());void 0===c&&(c=new n,this._locatorTables.set(r.ice_getIdentity(),c)),o=new t(r,c,this._background),this._table.set(r,o)}return o}});Ice.LocatorManager=r}(),function(){Ice.AsyncResultBase;var e=Ice.ObjectAdapterI,t=Ice.Promise,n=Ice.Class({__init__:function(e,n){this._instance=e,this._communicator=n,this._adapters=[],this._adapterNamesInUse=[],this._shutdownPromise=new t},shutdown:function(){return null===this._instance||(this._instance=null,this._communicator=null,this._shutdownPromise=t.all(this._adapters.map((function(e){return e.deactivate()})))),this._shutdownPromise},waitForShutdown:function(){var e=this;return this._shutdownPromise.then((function(){return t.all(e._adapters.map((function(e){return e.waitForDeactivate()})))}))},isShutdown:function(){return null===this._instance},destroy:function(){var e=this;return this.waitForShutdown().then((function(){return t.all(e._adapters.map((function(e){return e.destroy()})))}))},createObjectAdapter:function(t,n,i){if(null===this._instance)throw new Ice.ObjectAdapterDeactivatedException;var r=null;try{if(0===t.length){var o=Ice.generateUUID();r=new e(this._instance,this._communicator,this,o,null,!0,i)}else{if(-1!==this._adapterNamesInUse.indexOf(t))throw new Ice.AlreadyRegisteredException("object adapter",t);r=new e(this._instance,this._communicator,this,t,n,!1,i),this._adapterNamesInUse.push(t)}this._adapters.push(r)}catch(e){i.fail(e,i)}},removeObjectAdapter:function(e){if(null!==this._instance){var t=this._adapters.indexOf(e);-1!==t&&this._adapters.splice(t,1),-1!==(t=this._adapterNamesInUse.indexOf(e.getName()))&&this._adapterNamesInUse.splice(t,1)}}});Ice.ObjectAdapterFactory=n}(),B.defineDictionary(IceMX,"StringIntDict","StringIntDictHelper","Ice.StringHelper","Ice.IntHelper",!1,void 0,void 0),IceMX.Metrics=B.defineObject((function(e,t,n,i,r){Ice.Object.call(this),this.id=void 0!==e?e:"",this.total=void 0!==t?t:new Ice.Long(0,0),this.current=void 0!==n?n:0,this.totalLifetime=void 0!==i?i:new Ice.Long(0,0),this.failures=void 0!==r?r:0}),Ice.Object,void 0,1,["::Ice::Object","::IceMX::Metrics"],-1,(function(e){e.writeString(this.id),e.writeLong(this.total),e.writeInt(this.current),e.writeLong(this.totalLifetime),e.writeInt(this.failures)}),(function(e){this.id=e.readString(),this.total=e.readLong(),this.current=e.readInt(),this.totalLifetime=e.readLong(),this.failures=e.readInt()}),!1),IceMX.MetricsPrx=B.defineProxy(Ice.ObjectPrx,IceMX.Metrics.ice_staticId,void 0),B.defineOperations(IceMX.Metrics,IceMX.MetricsPrx),IceMX.MetricsFailures=B.defineStruct((function(e,t){this.id=void 0!==e?e:"",this.failures=void 0!==t?t:null}),!1,(function(e){e.writeString(this.id),IceMX.StringIntDictHelper.write(e,this.failures)}),(function(e){this.id=e.readString(),this.failures=IceMX.StringIntDictHelper.read(e)}),2,!1),B.defineSequence(IceMX,"MetricsFailuresSeqHelper","IceMX.MetricsFailures",!1),B.defineSequence(IceMX,"MetricsMapHelper","Ice.ObjectHelper",!1,"IceMX.Metrics"),B.defineDictionary(IceMX,"MetricsView","MetricsViewHelper","Ice.StringHelper","IceMX.MetricsMapHelper",!1,void 0,void 0,Ice.ArrayUtil.equals),IceMX.UnknownMetricsView=B.defineUserException((function(e){Ice.UserException.call(this,e)}),Ice.UserException,"IceMX::UnknownMetricsView",void 0,void 0,!1,!1),IceMX.MetricsAdmin=B.defineObject(void 0,Ice.Object,void 0,1,["::Ice::Object","::IceMX::MetricsAdmin"],-1,void 0,void 0,!1),IceMX.MetricsAdminPrx=B.defineProxy(Ice.ObjectPrx,IceMX.MetricsAdmin.ice_staticId,void 0),B.defineOperations(IceMX.MetricsAdmin,IceMX.MetricsAdminPrx,{getMetricsViewNames:[,,,,2,["Ice.StringSeqHelper"],,[["Ice.StringSeqHelper"]],,,],enableMetricsView:[,,,,2,,[[7]],,[IceMX.UnknownMetricsView],,],disableMetricsView:[,,,,2,,[[7]],,[IceMX.UnknownMetricsView],,],getMetricsView:[,,,,2,["IceMX.MetricsViewHelper"],[[7]],[[4]],[IceMX.UnknownMetricsView],,!0],getMapMetricsFailures:[,,,,2,["IceMX.MetricsFailuresSeqHelper"],[[7],[7]],,[IceMX.UnknownMetricsView],,],getMetricsFailures:[,,,,2,[IceMX.MetricsFailures],[[7],[7],[7]],,[IceMX.UnknownMetricsView],,]}),IceMX.ThreadMetrics=B.defineObject((function(e,t,n,i,r,o,c,s){IceMX.Metrics.call(this,e,t,n,i,r),this.inUseForIO=void 0!==o?o:0,this.inUseForUser=void 0!==c?c:0,this.inUseForOther=void 0!==s?s:0}),IceMX.Metrics,void 0,2,["::Ice::Object","::IceMX::Metrics","::IceMX::ThreadMetrics"],-1,(function(e){e.writeInt(this.inUseForIO),e.writeInt(this.inUseForUser),e.writeInt(this.inUseForOther)}),(function(e){this.inUseForIO=e.readInt(),this.inUseForUser=e.readInt(),this.inUseForOther=e.readInt()}),!1),IceMX.ThreadMetricsPrx=B.defineProxy(IceMX.MetricsPrx,IceMX.ThreadMetrics.ice_staticId,void 0),B.defineOperations(IceMX.ThreadMetrics,IceMX.ThreadMetricsPrx),IceMX.DispatchMetrics=B.defineObject((function(e,t,n,i,r,o,c,s){IceMX.Metrics.call(this,e,t,n,i,r),this.userException=void 0!==o?o:0,this.size=void 0!==c?c:new Ice.Long(0,0),this.replySize=void 0!==s?s:new Ice.Long(0,0)}),IceMX.Metrics,void 0,1,["::Ice::Object","::IceMX::DispatchMetrics","::IceMX::Metrics"],-1,(function(e){e.writeInt(this.userException),e.writeLong(this.size),e.writeLong(this.replySize)}),(function(e){this.userException=e.readInt(),this.size=e.readLong(),this.replySize=e.readLong()}),!1),IceMX.DispatchMetricsPrx=B.defineProxy(IceMX.MetricsPrx,IceMX.DispatchMetrics.ice_staticId,void 0),B.defineOperations(IceMX.DispatchMetrics,IceMX.DispatchMetricsPrx),IceMX.ChildInvocationMetrics=B.defineObject((function(e,t,n,i,r,o,c){IceMX.Metrics.call(this,e,t,n,i,r),this.size=void 0!==o?o:new Ice.Long(0,0),this.replySize=void 0!==c?c:new Ice.Long(0,0)}),IceMX.Metrics,void 0,1,["::Ice::Object","::IceMX::ChildInvocationMetrics","::IceMX::Metrics"],-1,(function(e){e.writeLong(this.size),e.writeLong(this.replySize)}),(function(e){this.size=e.readLong(),this.replySize=e.readLong()}),!1),IceMX.ChildInvocationMetricsPrx=B.defineProxy(IceMX.MetricsPrx,IceMX.ChildInvocationMetrics.ice_staticId,void 0),B.defineOperations(IceMX.ChildInvocationMetrics,IceMX.ChildInvocationMetricsPrx),IceMX.CollocatedMetrics=B.defineObject((function(e,t,n,i,r,o,c){IceMX.ChildInvocationMetrics.call(this,e,t,n,i,r,o,c)}),IceMX.ChildInvocationMetrics,void 0,2,["::Ice::Object","::IceMX::ChildInvocationMetrics","::IceMX::CollocatedMetrics","::IceMX::Metrics"],-1,void 0,void 0,!1),IceMX.CollocatedMetricsPrx=B.defineProxy(IceMX.ChildInvocationMetricsPrx,IceMX.CollocatedMetrics.ice_staticId,void 0),B.defineOperations(IceMX.CollocatedMetrics,IceMX.CollocatedMetricsPrx),IceMX.RemoteMetrics=B.defineObject((function(e,t,n,i,r,o,c){IceMX.ChildInvocationMetrics.call(this,e,t,n,i,r,o,c)}),IceMX.ChildInvocationMetrics,void 0,3,["::Ice::Object","::IceMX::ChildInvocationMetrics","::IceMX::Metrics","::IceMX::RemoteMetrics"],-1,void 0,void 0,!1),IceMX.RemoteMetricsPrx=B.defineProxy(IceMX.ChildInvocationMetricsPrx,IceMX.RemoteMetrics.ice_staticId,void 0),B.defineOperations(IceMX.RemoteMetrics,IceMX.RemoteMetricsPrx),IceMX.InvocationMetrics=B.defineObject((function(e,t,n,i,r,o,c,s,a){IceMX.Metrics.call(this,e,t,n,i,r),this.retry=void 0!==o?o:0,this.userException=void 0!==c?c:0,this.remotes=void 0!==s?s:null,this.collocated=void 0!==a?a:null}),IceMX.Metrics,void 0,1,["::Ice::Object","::IceMX::InvocationMetrics","::IceMX::Metrics"],-1,(function(e){e.writeInt(this.retry),e.writeInt(this.userException),IceMX.MetricsMapHelper.write(e,this.remotes),IceMX.MetricsMapHelper.write(e,this.collocated)}),(function(e){this.retry=e.readInt(),this.userException=e.readInt(),this.remotes=IceMX.MetricsMapHelper.read(e),this.collocated=IceMX.MetricsMapHelper.read(e)}),!1),IceMX.InvocationMetricsPrx=B.defineProxy(IceMX.MetricsPrx,IceMX.InvocationMetrics.ice_staticId,void 0),B.defineOperations(IceMX.InvocationMetrics,IceMX.InvocationMetricsPrx),IceMX.ConnectionMetrics=B.defineObject((function(e,t,n,i,r,o,c){IceMX.Metrics.call(this,e,t,n,i,r),this.receivedBytes=void 0!==o?o:new Ice.Long(0,0),this.sentBytes=void 0!==c?c:new Ice.Long(0,0)}),IceMX.Metrics,void 0,1,["::Ice::Object","::IceMX::ConnectionMetrics","::IceMX::Metrics"],-1,(function(e){e.writeLong(this.receivedBytes),e.writeLong(this.sentBytes)}),(function(e){this.receivedBytes=e.readLong(),this.sentBytes=e.readLong()}),!1),IceMX.ConnectionMetricsPrx=B.defineProxy(IceMX.MetricsPrx,IceMX.ConnectionMetrics.ice_staticId,void 0),B.defineOperations(IceMX.ConnectionMetrics,IceMX.ConnectionMetricsPrx),function(){Ice.Debug;var e=Ice.HashMap,t=Ice.ConnectRequestHandler,n=Ice.Class({__init__:function(t){this._instance=t,this._handlers=new e(e.compareEquals)},getRequestHandler:function(e,n){var i,r=!1;return e.getCacheConnection()?(i=this._handlers.get(e))||(i=new t(e,n),this._handlers.set(e,i),r=!0):(r=!0,i=new t(e,n)),r&&e.getConnection().then((function(e,t){i.setConnection(e,t)}),(function(e){i.setException(e)})),n.__setRequestHandler(i.connect(n))},removeRequestHandler:function(e,t){e.getCacheConnection()&&this._handlers.get(e)===t&&this._handlers.del(e)}});Ice.RequestHandlerFactory=n}(),Ice.Process=B.defineObject(void 0,Ice.Object,void 0,1,["::Ice::Object","::Ice::Process"],-1,void 0,void 0,!1),Ice.ProcessPrx=B.defineProxy(Ice.ObjectPrx,Ice.Process.ice_staticId,void 0),B.defineOperations(Ice.Process,Ice.ProcessPrx,{shutdown:[,,,,,,,,,,],writeMessage:[,,,,,,[[7],[3]],,,,]}),k=Ice.TcpEndpointI,L=Ice.Class({__init__:function(e){this._instance=e},type:function(){return this._instance.type()},protocol:function(){return this._instance.protocol()},create:function(e,t){var n=new k(this._instance);return n.initWithOptions(e,t),n},read:function(e){var t=new k(this._instance);return t.initWithStream(e),t},destroy:function(){this._instance=null},clone:function(e){return new L(e)}}),Ice.TcpEndpointFactory=L,B.defineDictionary(Ice,"PropertyDict","PropertyDictHelper","Ice.StringHelper","Ice.StringHelper",!1,void 0,void 0),Ice.PropertiesAdmin=B.defineObject(void 0,Ice.Object,void 0,1,["::Ice::Object","::Ice::PropertiesAdmin"],-1,void 0,void 0,!1),Ice.PropertiesAdminPrx=B.defineProxy(Ice.ObjectPrx,Ice.PropertiesAdmin.ice_staticId,void 0),B.defineOperations(Ice.PropertiesAdmin,Ice.PropertiesAdminPrx,{getProperty:[,,,,,[7],[[7]],,,,],getPropertiesForPrefix:[,,,,,["Ice.PropertyDictHelper"],[[7]],,,,],setProperties:[,,,1,,,[["Ice.PropertyDictHelper"]],,,,]}),Ice.LogMessageType=B.defineEnum([["PrintMessage",0],["TraceMessage",1],["WarningMessage",2],["ErrorMessage",3]]),B.defineSequence(Ice,"LogMessageTypeSeqHelper","Ice.LogMessageType.__helper",!1),Ice.LogMessage=B.defineStruct((function(e,t,n,i){this.type=void 0!==e?e:Ice.LogMessageType.PrintMessage,this.timestamp=void 0!==t?t:0,this.traceCategory=void 0!==n?n:"",this.message=void 0!==i?i:""}),!0,(function(e){Ice.LogMessageType.__write(e,this.type),e.writeLong(this.timestamp),e.writeString(this.traceCategory),e.writeString(this.message)}),(function(e){this.type=Ice.LogMessageType.__read(e),this.timestamp=e.readLong(),this.traceCategory=e.readString(),this.message=e.readString()}),11,!1),B.defineSequence(Ice,"LogMessageSeqHelper","Ice.LogMessage",!1),Ice.RemoteLogger=B.defineObject(void 0,Ice.Object,void 0,1,["::Ice::Object","::Ice::RemoteLogger"],-1,void 0,void 0,!1),Ice.RemoteLoggerPrx=B.defineProxy(Ice.ObjectPrx,Ice.RemoteLogger.ice_staticId,void 0),B.defineOperations(Ice.RemoteLogger,Ice.RemoteLoggerPrx,{init:[,,,,,,[[7],["Ice.LogMessageSeqHelper"]],,,,],log:[,,,,,,[[Ice.LogMessage]],,,,]}),Ice.RemoteLoggerAlreadyAttachedException=B.defineUserException((function(e){Ice.UserException.call(this,e)}),Ice.UserException,"Ice::RemoteLoggerAlreadyAttachedException",void 0,void 0,!1,!1),Ice.LoggerAdmin=B.defineObject(void 0,Ice.Object,void 0,0,["::Ice::LoggerAdmin","::Ice::Object"],-1,void 0,void 0,!1),Ice.LoggerAdminPrx=B.defineProxy(Ice.ObjectPrx,Ice.LoggerAdmin.ice_staticId,void 0),B.defineOperations(Ice.LoggerAdmin,Ice.LoggerAdminPrx,{attachRemoteLogger:[,,,,,,[["Ice.RemoteLoggerPrx"],["Ice.LogMessageTypeSeqHelper"],["Ice.StringSeqHelper"],[3]],,[Ice.RemoteLoggerAlreadyAttachedException],,],detachRemoteLogger:[,,,,,[1],[["Ice.RemoteLoggerPrx"]],,,,],getLog:[,,,,,["Ice.LogMessageSeqHelper"],[["Ice.LogMessageTypeSeqHelper"],["Ice.StringSeqHelper"],[3]],[[7]],,,]}),U=Ice.WSEndpoint,V=Ice.Class({__init__:function(e,t){this._instance=e,this._delegate=t},type:function(){return this._instance.type()},protocol:function(){return this._instance.protocol()},create:function(e,t){var n=new U(this._instance,this._delegate.create(e,t));return n.initWithOptions(e),n},read:function(e){var t=new U(this._instance,this._delegate.read(e));return t.initWithStream(e),t},destroy:function(){this._delegate.destroy(),this._instance=null}}),Ice.WSEndpointFactory=V,B.defineDictionary(Ice,"SliceChecksumDict","SliceChecksumDictHelper","Ice.StringHelper","Ice.StringHelper",!1,void 0,void 0),function(){var e=Ice.AsyncResultBase,t=Ice.Debug,n=Ice.DefaultsAndOverrides,i=Ice.EndpointFactoryManager,r=(Ice.HashMap,Ice.ImplicitContextI),o=Ice.LocatorManager,c=(Ice.Logger,Ice.ObjectAdapterFactory),s=Ice.ObjectFactoryManager,a=Ice.OutgoingConnectionFactory,l=(Ice.Promise,Ice.Properties),u=Ice.ProxyFactory,d=Ice.RetryQueue,h=Ice.RouterManager,f=Ice.Timer,p=Ice.TraceLevels,_=Ice.ReferenceFactory,C=Ice.RequestHandlerFactory,g=Ice.ACMConfig,y=Ice.Class({__init__:function(e){this._state=0,this._initData=e,this._traceLevels=null,this._defaultsAndOverrides=null,this._messageSizeMax=0,this._batchAutoFlushSize=0,this._clientACM=null,this._implicitContext=null,this._routerManager=null,this._locatorManager=null,this._referenceFactory=null,this._requestHandlerFactory=null,this._proxyFactory=null,this._outgoingConnectionFactory=null,this._servantFactoryManager=null,this._objectAdapterFactory=null,this._retryQueue=null,this._endpointHostResolver=null,this._endpointFactoryManager=null},initializationData:function(){return this._initData},traceLevels:function(){return t.assert(null!==this._traceLevels),this._traceLevels},defaultsAndOverrides:function(){return t.assert(null!==this._defaultsAndOverrides),this._defaultsAndOverrides},routerManager:function(){if(2===this._state)throw new Ice.CommunicatorDestroyedException;return t.assert(null!==this._routerManager),this._routerManager},locatorManager:function(){if(2===this._state)throw new Ice.CommunicatorDestroyedException;return t.assert(null!==this._locatorManager),this._locatorManager},referenceFactory:function(){if(2===this._state)throw new Ice.CommunicatorDestroyedException;return t.assert(null!==this._referenceFactory),this._referenceFactory},requestHandlerFactory:function(){if(2===this._state)throw new Ice.CommunicatorDestroyedException;return t.assert(null!==this._requestHandlerFactory),this._requestHandlerFactory},proxyFactory:function(){if(2===this._state)throw new Ice.CommunicatorDestroyedException;return t.assert(null!==this._proxyFactory),this._proxyFactory},outgoingConnectionFactory:function(){if(2===this._state)throw new Ice.CommunicatorDestroyedException;return t.assert(null!==this._outgoingConnectionFactory),this._outgoingConnectionFactory},servantFactoryManager:function(){if(2===this._state)throw new Ice.CommunicatorDestroyedException;return t.assert(null!==this._servantFactoryManager),this._servantFactoryManager},objectAdapterFactory:function(){if(2===this._state)throw new Ice.CommunicatorDestroyedException;return t.assert(null!==this._objectAdapterFactory),this._objectAdapterFactory},retryQueue:function(){if(2===this._state)throw new Ice.CommunicatorDestroyedException;return t.assert(null!==this._retryQueue),this._retryQueue},timer:function(){if(2===this._state)throw new Ice.CommunicatorDestroyedException;return t.assert(null!==this._timer),this._timer},endpointFactoryManager:function(){if(2===this._state)throw new Ice.CommunicatorDestroyedException;return t.assert(null!==this._endpointFactoryManager),this._endpointFactoryManager},messageSizeMax:function(){return this._messageSizeMax},batchAutoFlushSize:function(){return this._batchAutoFlushSize},clientACM:function(){return this._clientACM},getImplicitContext:function(){return this._implicitContext},stringToIdentity:function(e){return Ice.stringToIdentity(e)},identityToString:function(e){return Ice.identityToString(e)},setDefaultLocator:function(e){if(2==this._state)throw new Ice.CommunicatorDestroyedException;this._referenceFactory=this._referenceFactory.setDefaultLocator(e)},setDefaultRouter:function(e){if(2==this._state)throw new Ice.CommunicatorDestroyedException;this._referenceFactory=this._referenceFactory.setDefaultRouter(e)},setLogger:function(e){this._initData.logger=e},finishSetup:function(e,t){try{null===this._initData.properties&&(this._initData.properties=l.createProperties()),void 0===Ice.__oneOfDone&&(Ice.__printStackTraces=this._initData.properties.getPropertyAsIntWithDefault("Ice.PrintStackTraces",0)>0,Ice.__oneOfDone=!0),null===this._initData.logger&&(this._initData.logger=Ice.getProcessLogger()),this._traceLevels=new p(this._initData.properties),this._defaultsAndOverrides=new n(this._initData.properties,this._initData.logger);var y=this._initData.properties.getPropertyAsIntWithDefault("Ice.MessageSizeMax",1024);this._messageSizeMax=y<1||y>2147483647/1024?2147483647:1024*y,0===this._initData.properties.getProperty("Ice.BatchAutoFlushSize").length&&this._initData.properties.getProperty("Ice.BatchAutoFlush").length>0?this._initData.properties.getPropertyAsInt("Ice.BatchAutoFlush")>0&&(this._batchAutoFlushSize=this._messageSizeMax):(y=this._initData.properties.getPropertyAsIntWithDefault("Ice.BatchAutoFlushSize",1024),this._batchAutoFlushSize=y<1?y:y>2147483647/1024?2147483647:1024*y),this._clientACM=new g(this._initData.properties,this._initData.logger,"Ice.ACM.Client",new g(this._initData.properties,this._initData.logger,"Ice.ACM",new g)),this._implicitContext=r.create(this._initData.properties.getProperty("Ice.ImplicitContext")),this._routerManager=new h,this._locatorManager=new o(this._initData.properties),this._referenceFactory=new _(this,e),this._requestHandlerFactory=new C(this,e),this._proxyFactory=new u(this),this._endpointFactoryManager=new i(this);var I=new Ice.ProtocolInstance(this,Ice.TCPEndpointType,"tcp",!1),v=new Ice.TcpEndpointFactory(I);this._endpointFactoryManager.add(v);var m=new Ice.ProtocolInstance(this,Ice.WSEndpointType,"ws",!1),S=new Ice.WSEndpointFactory(m,v.clone(m));this._endpointFactoryManager.add(S);var E=new Ice.ProtocolInstance(this,IceSSL.EndpointType,"ssl",!0),R=new Ice.TcpEndpointFactory(E);this._endpointFactoryManager.add(R);var b=new Ice.ProtocolInstance(this,Ice.WSSEndpointType,"wss",!0),w=new Ice.WSEndpointFactory(b,R.clone(b));this._endpointFactoryManager.add(w),this._outgoingConnectionFactory=new a(e,this),this._servantFactoryManager=new s,this._objectAdapterFactory=new c(this,e),this._retryQueue=new d(this),this._timer=new f(this._initData.logger);var x=Ice.RouterPrx.uncheckedCast(this._proxyFactory.propertyToProxy("Ice.Default.Router"));null!==x&&(this._referenceFactory=this._referenceFactory.setDefaultRouter(x));var P=Ice.LocatorPrx.uncheckedCast(this._proxyFactory.propertyToProxy("Ice.Default.Locator"));null!==P&&(this._referenceFactory=this._referenceFactory.setDefaultLocator(P)),null!==t&&t.succeed(e)}catch(e){if(null===t)throw e instanceof Ice.LocalException&&this.destroy(),e;e instanceof Ice.LocalException?this.destroy().finally2((function(){t.fail(e)})):t.fail(e)}},destroy:function(){var t=new e(null,"destroy",null,this,null);if(1==this._state)return this._destroyPromises||(this._destroyPromises=[]),this._destroyPromises.push(t),t;this._state=1;var n=this;return Ice.Promise.try2((function(){if(n._objectAdapterFactory)return n._objectAdapterFactory.shutdown()})).then((function(){if(null!==n._outgoingConnectionFactory&&n._outgoingConnectionFactory.destroy(),null!==n._objectAdapterFactory)return n._objectAdapterFactory.destroy()})).then((function(){if(null!==n._outgoingConnectionFactory)return n._outgoingConnectionFactory.waitUntilFinished()})).then((function(){var e;if(n._retryQueue&&n._retryQueue.destroy(),n._timer&&n._timer.destroy(),n._servantFactoryManager&&n._servantFactoryManager.destroy(),n._routerManager&&n._routerManager.destroy(),n._locatorManager&&n._locatorManager.destroy(),n._endpointFactoryManager&&n._endpointFactoryManager.destroy(),n._initData.properties.getPropertyAsInt("Ice.Warn.UnusedProperties")>0){var i=n._initData.properties.getUnusedProperties();if(i.length>0){var r=[];for(r.push("The following properties were set but never read:"),e=0;e<i.length;++e)r.push("\n    "),r.push(i[e]);n._initData.logger.warning(r.join(""))}}if(n._objectAdapterFactory=null,n._outgoingConnectionFactory=null,n._retryQueue=null,n._timer=null,n._servantFactoryManager=null,n._referenceFactory=null,n._requestHandlerFactory=null,n._proxyFactory=null,n._routerManager=null,n._locatorManager=null,n._endpointFactoryManager=null,n._state=2,this._destroyPromises)for(e=0;e<this._destroyPromises.length;++e)this._destroyPromises[e].succeed(this._destroyPromises[e]);t.succeed(t)})).exception((function(e){if(this._destroyPromises)for(var n=0;n<this._destroyPromises.length;++n)this._destroyPromises[n].fail(e,this._destroyPromises[n]);t.fail(e,t)})),t}});Ice.Instance=y}(),F=Ice.Instance,Ice.Promise,j=Ice.Class({__init__:function(e){this._instance=new F(e)},finishSetup:function(e){this._instance.finishSetup(this,e)},destroy:function(){return this._instance.destroy()},shutdown:function(){this._instance.objectAdapterFactory().shutdown()},waitForShutdown:function(){return this._instance.objectAdapterFactory().waitForShutdown()},isShutdown:function(){return this._instance.objectAdapterFactory().isShutdown()},stringToProxy:function(e){return this._instance.proxyFactory().stringToProxy(e)},proxyToString:function(e){return this._instance.proxyFactory().proxyToString(e)},propertyToProxy:function(e){return this._instance.proxyFactory().propertyToProxy(e)},proxyToProperty:function(e,t){return this._instance.proxyFactory().proxyToProperty(e,t)},stringToIdentity:function(e){return this._instance.stringToIdentity(e)},identityToString:function(e){return this._instance.identityToString(e)},createObjectAdapter:function(e){var t=new Ice.AsyncResultBase(this,"createObjectAdapter",this,null,null);return this._instance.objectAdapterFactory().createObjectAdapter(e,null,t),t},createObjectAdapterWithEndpoints:function(e,t){0===e.length&&(e=Ice.generateUUID()),this.getProperties().setProperty(e+".Endpoints",t);var n=new Ice.AsyncResultBase(this,"createObjectAdapterWithEndpoints",this,null,null);return this._instance.objectAdapterFactory().createObjectAdapter(e,null,n),n},createObjectAdapterWithRouter:function(e,t){0===e.length&&(e=Ice.generateUUID());for(var n=new Ice.AsyncResultBase(this,"createObjectAdapterWithRouter",this,null,null),i=this.proxyToProperty(t,e+".Router").entries;null!==i;i=i.next)this.getProperties().setProperty(i.key,i.value);return this._instance.objectAdapterFactory().createObjectAdapter(e,t,n),n},addObjectFactory:function(e,t){this._instance.servantFactoryManager().add(e,t)},findObjectFactory:function(e){return this._instance.servantFactoryManager().find(e)},getImplicitContext:function(){return this._instance.getImplicitContext()},getProperties:function(){return this._instance.initializationData().properties},getLogger:function(){return this._instance.initializationData().logger},getDefaultRouter:function(){return this._instance.referenceFactory().getDefaultRouter()},setDefaultRouter:function(e){this._instance.setDefaultRouter(e)},getDefaultLocator:function(){return this._instance.referenceFactory().getDefaultLocator()},setDefaultLocator:function(e){this._instance.setDefaultLocator(e)},flushBatchRequests:function(){return this._instance.outgoingConnectionFactory().flushAsyncBatchRequests()}}),Object.defineProperty(j.prototype,"instance",{get:function(){return this._instance}}),Ice.Communicator=j,function(){var e=Ice.Protocol;Ice.InitializationData=function(){this.properties=null,this.logger=null},Ice.InitializationData.prototype.clone=function(){var e=new Ice.InitializationData;return e.properties=this.properties,e.logger=this.logger,e},Ice.initialize=function(e,t){var n=null,i=null;if(e instanceof Array)n=e;else if(e instanceof Ice.InitializationData)i=e;else if(null!=e)throw new Ice.InitializationException("invalid argument to initialize");if(null!=t){if(!(t instanceof Ice.InitializationData&&null===i))throw new Ice.InitializationException("invalid argument to initialize");i=t}(i=null===i?new Ice.InitializationData:i.clone()).properties=Ice.createProperties(n,i.properties);var r=new Ice.Communicator(i);return r.finishSetup(null),r},Ice.createProperties=function(e,t){return new Ice.Properties(e,t)},Ice.currentProtocol=function(){return e.currentProtocol.clone()},Ice.currentEncoding=function(){return e.currentEncoding.clone()}}(),t.Ice=Ice,t.IceMX=IceMX,t.IceSSL=IceSSL}(),function(){var e="undefined"!=typeof window?window:self;e.Glacier2=e.Glacier2||{};var t=Ice.Slice;IceMX.SessionMetrics=t.defineObject((function(e,t,n,i,r,o,c,s,a,l,u,d){IceMX.Metrics.call(this,e,t,n,i,r),this.forwardedClient=void 0!==o?o:0,this.forwardedServer=void 0!==c?c:0,this.routingTableSize=void 0!==s?s:0,this.queuedClient=void 0!==a?a:0,this.queuedServer=void 0!==l?l:0,this.overriddenClient=void 0!==u?u:0,this.overriddenServer=void 0!==d?d:0}),IceMX.Metrics,void 0,2,["::Ice::Object","::IceMX::Metrics","::IceMX::SessionMetrics"],-1,(function(e){e.writeInt(this.forwardedClient),e.writeInt(this.forwardedServer),e.writeInt(this.routingTableSize),e.writeInt(this.queuedClient),e.writeInt(this.queuedServer),e.writeInt(this.overriddenClient),e.writeInt(this.overriddenServer)}),(function(e){this.forwardedClient=e.readInt(),this.forwardedServer=e.readInt(),this.routingTableSize=e.readInt(),this.queuedClient=e.readInt(),this.queuedServer=e.readInt(),this.overriddenClient=e.readInt(),this.overriddenServer=e.readInt()}),!1),IceMX.SessionMetricsPrx=t.defineProxy(IceMX.MetricsPrx,IceMX.SessionMetrics.ice_staticId,void 0),t.defineOperations(IceMX.SessionMetrics,IceMX.SessionMetricsPrx),Glacier2.SSLInfo=t.defineStruct((function(e,t,n,i,r,o){this.remoteHost=void 0!==e?e:"",this.remotePort=void 0!==t?t:0,this.localHost=void 0!==n?n:"",this.localPort=void 0!==i?i:0,this.cipher=void 0!==r?r:"",this.certs=void 0!==o?o:null}),!0,(function(e){e.writeString(this.remoteHost),e.writeInt(this.remotePort),e.writeString(this.localHost),e.writeInt(this.localPort),e.writeString(this.cipher),Ice.StringSeqHelper.write(e,this.certs)}),(function(e){this.remoteHost=e.readString(),this.remotePort=e.readInt(),this.localHost=e.readString(),this.localPort=e.readInt(),this.cipher=e.readString(),this.certs=Ice.StringSeqHelper.read(e)}),12,!1),Glacier2.CannotCreateSessionException=t.defineUserException((function(e,t){Ice.UserException.call(this,t),this.reason=void 0!==e?e:""}),Ice.UserException,"Glacier2::CannotCreateSessionException",(function(e){e.writeString(this.reason)}),(function(e){this.reason=e.readString()}),!0,!1),Glacier2.Session=t.defineObject(void 0,Ice.Object,void 0,0,["::Glacier2::Session","::Ice::Object"],-1,void 0,void 0,!1),Glacier2.SessionPrx=t.defineProxy(Ice.ObjectPrx,Glacier2.Session.ice_staticId,void 0),t.defineOperations(Glacier2.Session,Glacier2.SessionPrx,{destroy:[,,,,,,,,,,]}),Glacier2.StringSet=t.defineObject(void 0,Ice.Object,void 0,0,["::Glacier2::StringSet","::Ice::Object"],-1,void 0,void 0,!1),Glacier2.StringSetPrx=t.defineProxy(Ice.ObjectPrx,Glacier2.StringSet.ice_staticId,void 0),t.defineOperations(Glacier2.StringSet,Glacier2.StringSetPrx,{add:[,2,2,,,,[["Ice.StringSeqHelper"]],,,,],remove:[,2,2,,,,[["Ice.StringSeqHelper"]],,,,],get:[,2,2,,,["Ice.StringSeqHelper"],,,,,]}),Glacier2.IdentitySet=t.defineObject(void 0,Ice.Object,void 0,0,["::Glacier2::IdentitySet","::Ice::Object"],-1,void 0,void 0,!1),Glacier2.IdentitySetPrx=t.defineProxy(Ice.ObjectPrx,Glacier2.IdentitySet.ice_staticId,void 0),t.defineOperations(Glacier2.IdentitySet,Glacier2.IdentitySetPrx,{add:[,2,2,,,,[["Ice.IdentitySeqHelper"]],,,,],remove:[,2,2,,,,[["Ice.IdentitySeqHelper"]],,,,],get:[,2,2,,,["Ice.IdentitySeqHelper"],,,,,]}),Glacier2.SessionControl=t.defineObject(void 0,Ice.Object,void 0,0,["::Glacier2::SessionControl","::Ice::Object"],-1,void 0,void 0,!1),Glacier2.SessionControlPrx=t.defineProxy(Ice.ObjectPrx,Glacier2.SessionControl.ice_staticId,void 0),t.defineOperations(Glacier2.SessionControl,Glacier2.SessionControlPrx,{categories:[,,,,,["Glacier2.StringSetPrx"],,,,,],adapterIds:[,,,,,["Glacier2.StringSetPrx"],,,,,],identities:[,,,,,["Glacier2.IdentitySetPrx"],,,,,],getSessionTimeout:[,2,2,,,[3],,,,,],destroy:[,,,,,,,,,,]}),Glacier2.SessionManager=t.defineObject(void 0,Ice.Object,void 0,0,["::Glacier2::SessionManager","::Ice::Object"],-1,void 0,void 0,!1),Glacier2.SessionManagerPrx=t.defineProxy(Ice.ObjectPrx,Glacier2.SessionManager.ice_staticId,void 0),t.defineOperations(Glacier2.SessionManager,Glacier2.SessionManagerPrx,{create:[,,,,2,["Glacier2.SessionPrx"],[[7],["Glacier2.SessionControlPrx"]],,[Glacier2.CannotCreateSessionException],,]}),Glacier2.SSLSessionManager=t.defineObject(void 0,Ice.Object,void 0,0,["::Glacier2::SSLSessionManager","::Ice::Object"],-1,void 0,void 0,!1),Glacier2.SSLSessionManagerPrx=t.defineProxy(Ice.ObjectPrx,Glacier2.SSLSessionManager.ice_staticId,void 0),t.defineOperations(Glacier2.SSLSessionManager,Glacier2.SSLSessionManagerPrx,{create:[,,,,2,["Glacier2.SessionPrx"],[[Glacier2.SSLInfo],["Glacier2.SessionControlPrx"]],,[Glacier2.CannotCreateSessionException],,]}),Glacier2.PermissionDeniedException=t.defineUserException((function(e,t){Ice.UserException.call(this,t),this.reason=void 0!==e?e:""}),Ice.UserException,"Glacier2::PermissionDeniedException",(function(e){e.writeString(this.reason)}),(function(e){this.reason=e.readString()}),!0,!1),Glacier2.PermissionsVerifier=t.defineObject(void 0,Ice.Object,void 0,0,["::Glacier2::PermissionsVerifier","::Ice::Object"],-1,void 0,void 0,!1),Glacier2.PermissionsVerifierPrx=t.defineProxy(Ice.ObjectPrx,Glacier2.PermissionsVerifier.ice_staticId,void 0),t.defineOperations(Glacier2.PermissionsVerifier,Glacier2.PermissionsVerifierPrx,{checkPermissions:[,2,1,,2,[1],[[7],[7]],[[7]],[Glacier2.PermissionDeniedException],,]}),Glacier2.SSLPermissionsVerifier=t.defineObject(void 0,Ice.Object,void 0,0,["::Glacier2::SSLPermissionsVerifier","::Ice::Object"],-1,void 0,void 0,!1),Glacier2.SSLPermissionsVerifierPrx=t.defineProxy(Ice.ObjectPrx,Glacier2.SSLPermissionsVerifier.ice_staticId,void 0),t.defineOperations(Glacier2.SSLPermissionsVerifier,Glacier2.SSLPermissionsVerifierPrx,{authorize:[,2,1,,2,[1],[[Glacier2.SSLInfo]],[[7]],[Glacier2.PermissionDeniedException],,]}),Glacier2.SessionNotExistException=t.defineUserException((function(e){Ice.UserException.call(this,e)}),Ice.UserException,"Glacier2::SessionNotExistException",void 0,void 0,!1,!1),Glacier2.Router=t.defineObject(void 0,Ice.Object,[Ice.Router],0,["::Glacier2::Router","::Ice::Object","::Ice::Router"],-1,void 0,void 0,!1),Glacier2.RouterPrx=t.defineProxy(Ice.ObjectPrx,Glacier2.Router.ice_staticId,[Ice.RouterPrx]),t.defineOperations(Glacier2.Router,Glacier2.RouterPrx,{getCategoryForClient:[,2,1,,,[7],,,,,],createSession:[,,,1,2,["Glacier2.SessionPrx"],[[7],[7]],,[Glacier2.CannotCreateSessionException,Glacier2.PermissionDeniedException],,],createSessionFromSecureConnection:[,,,1,2,["Glacier2.SessionPrx"],,,[Glacier2.CannotCreateSessionException,Glacier2.PermissionDeniedException],,],refreshSession:[,,,1,,,,,[Glacier2.SessionNotExistException],,],destroySession:[,,,,,,,,[Glacier2.SessionNotExistException],,],getSessionTimeout:[,2,1,,,[4],,,,,],getACMTimeout:[,2,1,,,[3],,,,,]}),e.Glacier2=Glacier2}(),function(e,t,n){var i=t("ice").Ice,r=i.__M,o=i.Slice,c=r.module("Common");c.ConferenceError=o.defineUserException((function(e,t,n){i.UserException.call(this,n),this.error=void 0!==e?e:0,this.reason=void 0!==t?t:""}),i.UserException,"Common::ConferenceError",(function(e){e.writeInt(this.error),e.writeString(this.reason)}),(function(e){this.error=e.readInt(),this.reason=e.readString()}),!1,!1),n.Common=c}(void 0!==i&&i.process,void 0!==i&&void 0!==i.process?n(0):d.Ice.__require,void 0!==i&&void 0!==i.process?t:this),function(e,t,n){var i=t("ice").Ice,r=i.__M,o=i.Slice,c=r.module("MS");c.AudioTransType=o.defineEnum([["ATT_CORP_PRIV",0],["ATT_EIS_ENCRYPT",1],["ATT_RTP_STD",2],["ATT_RTMP",3]]),c.AudioCodecType=o.defineEnum([["ACT_PCMU",0],["ACT_PCMA",1],["ACT_G723",2],["ACT_G729",3],["ACT_AMRWB",4],["ACT_SPEEX",5],["ACT_AAC",6],["ACT_ISAC",7],["ACT_RESERV08",8],["ACT_RESERV09",9],["ACT_RESERV10",10],["ACT_RESERV11",11],["ACT_RESERV12",12],["ACT_RESERV13",13],["ACT_RESERV14",14],["ACT_NULL",15]]),c.MediaStreamIOMode=o.defineEnum([["MSIO_INACTIVE",0],["MSIO_SEND",1],["MSIO_RECV",2],["MSIO_SEND_RECV",3]]),c.AudioStreamParam=o.defineStruct((function(e,t,n,i,r){this.codecType=void 0!==e?e:c.AudioCodecType.ACT_PCMU,this.transType=void 0!==t?t:c.AudioTransType.ATT_CORP_PRIV,this.ioMode=void 0!==n?n:c.MediaStreamIOMode.MSIO_INACTIVE,this.mixerID=void 0!==i?i:0,this.shareListen=void 0!==r&&r}),!0,(function(e){c.AudioCodecType.__write(e,this.codecType),c.AudioTransType.__write(e,this.transType),c.MediaStreamIOMode.__write(e,this.ioMode),e.writeInt(this.mixerID),e.writeBool(this.shareListen)}),(function(e){this.codecType=c.AudioCodecType.__read(e),this.transType=c.AudioTransType.__read(e),this.ioMode=c.MediaStreamIOMode.__read(e),this.mixerID=e.readInt(),this.shareListen=e.readBool()}),8,!1),c.VideoContentType=o.defineEnum([["VCT_CAMERA",0],["VCT_SCREEN",1],["VCT_FILM",2],["VCT_LIVE",3]]),c.VideoStreamParam=o.defineStruct((function(e,t,n,i,r,o,s,a){this.contentType=void 0!==e?e:c.VideoContentType.VCT_CAMERA,this.srcTermID=void 0!==t?t:0,this.cameraID=void 0!==n?n:0,this.ioMode=void 0!==i?i:c.MediaStreamIOMode.MSIO_INACTIVE,this.attachToMSID=void 0!==r?r:0,this.subscribeFlag=void 0!==o&&o,this.isPeerSourceTerm=void 0!==s&&s,this.screenAuthKey=void 0!==a?a:""}),!0,(function(e){c.VideoContentType.__write(e,this.contentType),e.writeShort(this.srcTermID),e.writeShort(this.cameraID),c.MediaStreamIOMode.__write(e,this.ioMode),e.writeInt(this.attachToMSID),e.writeBool(this.subscribeFlag),e.writeBool(this.isPeerSourceTerm),e.writeString(this.screenAuthKey)}),(function(e){this.contentType=c.VideoContentType.__read(e),this.srcTermID=e.readShort(),this.cameraID=e.readShort(),this.ioMode=c.MediaStreamIOMode.__read(e),this.attachToMSID=e.readInt(),this.subscribeFlag=e.readBool(),this.isPeerSourceTerm=e.readBool(),this.screenAuthKey=e.readString()}),13,!1),c.NetworkAddress=o.defineStruct((function(e,t){this.ip=void 0!==e?e:"",this.port=void 0!==t?t:0}),!0,(function(e){e.writeString(this.ip),e.writeShort(this.port)}),(function(e){this.ip=e.readString(),this.port=e.readShort()}),3,!1),c.MediaStreamAddr=o.defineStruct((function(e,t){this.netAddr=void 0!==e?e:new c.NetworkAddress,this.MSID=void 0!==t?t:0}),!0,(function(e){c.NetworkAddress.write(e,this.netAddr),e.writeInt(this.MSID)}),(function(e){this.netAddr=c.NetworkAddress.read(e,this.netAddr),this.MSID=e.readInt()}),7,!1),c.ConferenceInfo=o.defineStruct((function(e,t,n,i){this.confId=void 0!==e?e:0,this.isPeerTerminal=void 0!==t&&t,this.peerTermId=void 0!==n?n:0,this.peerTermName=void 0!==i?i:""}),!0,(function(e){e.writeInt(this.confId),e.writeBool(this.isPeerTerminal),e.writeShort(this.peerTermId),e.writeString(this.peerTermName)}),(function(e){this.confId=e.readInt(),this.isPeerTerminal=e.readBool(),this.peerTermId=e.readShort(),this.peerTermName=e.readString()}),8,!1),o.defineDictionary(c,"DictStrParams","DictStrParamsHelper","Ice.StringHelper","Ice.StringHelper",!1,void 0,void 0),n.MS=c}(void 0!==i&&i.process,void 0!==i&&void 0!==i.process?n(0):d.Ice.__require,void 0!==i&&void 0!==i.process?t:this),function(e,t,n){var i=t("ice").Ice,r=(i.__M,t("Trans/MSPub").MS),o=i.Slice;r.LanTerm=o.defineStruct((function(e,t){this.hostIP=void 0!==e?e:"",this.termID=void 0!==t?t:0}),!0,(function(e){e.writeString(this.hostIP),e.writeShort(this.termID)}),(function(e){this.hostIP=e.readString(),this.termID=e.readShort()}),3,!1),o.defineSequence(r,"TermSeqHelper","MS.LanTerm",!1),r.MSClient=o.defineObject(void 0,i.Object,void 0,1,["::Ice::Object","::MS::MSClient"],-1,void 0,void 0,!1),r.MSClientPrx=o.defineProxy(i.ObjectPrx,r.MSClient.ice_staticId,void 0),o.defineOperations(r.MSClient,r.MSClientPrx,{AudioAllocRaw:[,,,1,,[3],[[r.AudioStreamParam]],,,,],AudioAlloc:[,,,1,,[3],[[r.AudioStreamParam],[r.MediaStreamAddr]],,,,],VideoAllocRaw:[,,,1,,[3],[[r.VideoStreamParam],[1]],,,,],VideoAlloc:[,,,1,,[3],[[r.VideoStreamParam],[1],[r.MediaStreamAddr]],,,,],AudioAllocRawExt:[,,,1,,[3],[[r.AudioStreamParam],["MS.DictStrParamsHelper"]],,,,],AudioAllocRawExt2:[,,,1,,[3],[[r.AudioStreamParam],["MS.DictStrParamsHelper"]],[["MS.DictStrParamsHelper"]],,,],AudioAllocExt:[,,,1,,[3],[[r.AudioStreamParam],[r.MediaStreamAddr],["MS.DictStrParamsHelper"]],,,,],VideoAllocRawExt:[,,,1,,[3],[[r.VideoStreamParam],[1],["MS.DictStrParamsHelper"]],,,,],VideoAllocRawExt2:[,,,1,,[3],[[r.VideoStreamParam],[1],["MS.DictStrParamsHelper"]],[["MS.DictStrParamsHelper"]],,,],VideoAllocExt:[,,,1,,[3],[[r.VideoStreamParam],[1],[r.MediaStreamAddr],["MS.DictStrParamsHelper"]],,,,],Free:[,,,1,,,[[3]],,,,],ModifyPeerAddr:[,,,1,,,[[3],[r.MediaStreamAddr]],,,,],ModifyPeerAddrExt:[,,,1,,,[[3],["MS.DictStrParamsHelper"]],,,,],ModifyIOMode:[,,,1,,,[[3],[r.MediaStreamIOMode.__helper]],,,,],NotifyRTMPStreamPublishFinished:[,,,1,,,[[3]],,,,],StartLanThrough:[,,,1,,,[[3],[3],[7]],,,,],StopLanThrough:[,,,1,,,[[3]],,,,],LanDetect:[,,,1,,,[["MS.TermSeqHelper"]],,,,],EnableSendVideo2Internet:[,,,1,,,[[2]],,,,],DisableSendVideo2Internet:[,,,1,,,[[2]],,,,],EnableSendScreen2Internet:[,,,1,,,,,,,],DisableSendScreen2Internet:[,,,1,,,,,,,],EnableSendFilm2Internet:[,,,1,,,,,,,],DisableSendFilm2Internet:[,,,1,,,,,,,],EnableSendLive2Internet:[,,,1,,,,,,,],DisableSendLive2Internet:[,,,1,,,,,,,]}),r.ClientReport=o.defineObject(void 0,i.Object,void 0,1,["::Ice::Object","::MS::ClientReport"],-1,void 0,void 0,!1),r.ClientReportPrx=o.defineProxy(i.ObjectPrx,r.ClientReport.ice_staticId,void 0),o.defineOperations(r.ClientReport,r.ClientReportPrx,{UpdateClientIP:[,,,1,,,[[7],[3],[7]],,,,],ReportLanNeighbor:[,,,1,,,[["MS.TermSeqHelper"]],,,,],LanMediaStreamFail:[,,,1,,,[[3],[3],[7]],,,,],VideoResolutionReport:[,,,1,,,[[3],[3],[3]],,,,]}),n.MS=r}(void 0!==i&&i.process,void 0!==i&&void 0!==i.process?n(0):d.Ice.__require,void 0!==i&&void 0!==i.process?t:this),function(e,t,n){var i=t("ice").Ice,r=i.__M,o=i.Slice,c=r.module("SendCmd");c.CmdError=o.defineUserException((function(e,t,n){i.UserException.call(this,n),this.error=void 0!==e?e:0,this.reason=void 0!==t?t:""}),i.UserException,"SendCmd::CmdError",(function(e){e.writeInt(this.error),e.writeString(this.reason)}),(function(e){this.error=e.readInt(),this.reason=e.readString()}),!1,!1),c.UnknowErr=o.defineUserException((function(e,t,n){c.CmdError.call(this,e,t,n)}),c.CmdError,"SendCmd::UnknowErr",void 0,void 0,!1,!1),c.CmdNotFound=o.defineUserException((function(e,t,n){c.CmdError.call(this,e,t,n)}),c.CmdError,"SendCmd::CmdNotFound",void 0,void 0,!1,!1),c.CmdNotImplement=o.defineUserException((function(e,t,n){c.CmdError.call(this,e,t,n)}),c.CmdError,"SendCmd::CmdNotImplement",void 0,void 0,!1,!1),c.AppException=o.defineUserException((function(e,t,n){c.CmdError.call(this,e,t,n)}),c.CmdError,"SendCmd::AppException",void 0,void 0,!1,!1),c.AppReturnInvalid=o.defineUserException((function(e,t,n){c.CmdError.call(this,e,t,n)}),c.CmdError,"SendCmd::AppReturnInvalid",void 0,void 0,!1,!1),c.SessionInvalid=o.defineUserException((function(e,t,n){c.CmdError.call(this,e,t,n)}),c.CmdError,"SendCmd::SessionInvalid",void 0,void 0,!1,!1),c.TargetInvalid=o.defineUserException((function(e,t,n){c.CmdError.call(this,e,t,n)}),c.CmdError,"SendCmd::TargetInvalid",void 0,void 0,!1,!1),Object.defineProperty(c,"DATATYPE_ALPHA",{value:1}),c.Cmd=o.defineObject(void 0,i.Object,void 0,1,["::Ice::Object","::SendCmd::Cmd"],-1,void 0,void 0,!1),c.CmdPrx=o.defineProxy(i.ObjectPrx,c.Cmd.ice_staticId,void 0),o.defineOperations(c.Cmd,c.CmdPrx,{sendCmd:[,,,1,,[7],[[7]],,[c.CmdError],,],sendBuffer:[,,,1,,[7],[[7],["Ice.ByteSeqHelper"]],,[c.CmdError],,]}),n.SendCmd=c}(void 0!==i&&i.process,void 0!==i&&void 0!==i.process?n(0):d.Ice.__require,void 0!==i&&void 0!==i.process?t:this),function(e,t,n){var i=t("ice").Ice,r=i.__M,o=i.Slice,c=r.module("Conference");Object.defineProperty(c,"CT_USER",{value:1}),Object.defineProperty(c,"CT_CONTACT",{value:2}),Object.defineProperty(c,"CT_TMP",{value:3}),Object.defineProperty(c,"CT_CLIENT",{value:6}),Object.defineProperty(c,"CT_VIRTUAL",{value:7}),c.Contact=o.defineStruct((function(e,t,n,i,r,o){this.id=void 0!==e?e:0,this.type=void 0!==t?t:0,this.nickname=void 0!==n?n:"",this.email=void 0!==i?i:"",this.mobile=void 0!==r?r:"",this.confPhone=void 0!==o?o:""}),!0,(function(e){e.writeInt(this.id),e.writeByte(this.type),e.writeString(this.nickname),e.writeString(this.email),e.writeString(this.mobile),e.writeString(this.confPhone)}),(function(e){this.id=e.readInt(),this.type=e.readByte(),this.nickname=e.readString(),this.email=e.readString(),this.mobile=e.readString(),this.confPhone=e.readString()}),9,!1),c.ContactIdType=o.defineStruct((function(e,t){this.id=void 0!==e?e:0,this.type=void 0!==t?t:0}),!0,(function(e){e.writeInt(this.id),e.writeByte(this.type)}),(function(e){this.id=e.readInt(),this.type=e.readByte()}),5,!0),o.defineSequence(c,"ContactSeqHelper","Conference.Contact",!1),o.defineSequence(c,"ContactIdSeqHelper","Conference.ContactIdType",!0),o.defineDictionary(c,"ContactTree","ContactTreeHelper","Ice.StringHelper","Conference.ContactSeqHelper",!1,void 0,void 0,i.ArrayUtil.equals),n.Conference=c}(void 0!==i&&i.process,void 0!==i&&void 0!==i.process?n(0):d.Ice.__require,void 0!==i&&void 0!==i.process?t:this),function(e,t,n){var i=t("ice").Ice,r=i.__M,o=t("Common/Exception").Common,c=i.Slice,s=r.module("Conference");Object.defineProperty(s,"SLICE_VER",{value:"1.9"}),Object.defineProperty(s,"ANON_TERMID",{value:0}),Object.defineProperty(s,"ALL_TERMID",{value:32767}),Object.defineProperty(s,"ANON_MEMBER_ID",{value:0}),Object.defineProperty(s,"TERM_PC",{value:1}),Object.defineProperty(s,"TERM_PHONE",{value:2}),Object.defineProperty(s,"NORMAL_AT",{value:0}),Object.defineProperty(s,"DEMO_AT",{value:1}),Object.defineProperty(s,"HOST_AT",{value:2}),Object.defineProperty(s,"PSTN_HOST_AT",{value:4}),Object.defineProperty(s,"ASSISTANT_AT",{value:8}),Object.defineProperty(s,"OPT_VIDEO",{value:1}),Object.defineProperty(s,"OPT_AUTO_MUTE",{value:2}),Object.defineProperty(s,"OPT_AUTO_AUDIO",{value:4}),Object.defineProperty(s,"OPT_PSTN_CALL",{value:8}),Object.defineProperty(s,"OPT_END_WHEN_HOST_EXIT",{value:16}),Object.defineProperty(s,"OPT_ONLY_INVITE_CAN_LOGIN",{value:32}),Object.defineProperty(s,"OPT_ALLOW_PLAY_APPLAUSE",{value:64}),Object.defineProperty(s,"OPT_PLAY_ENTRANCEANDEXITTONE",{value:128}),Object.defineProperty(s,"OPT_ALLOW_MODIFY_NICKNAME",{value:256}),Object.defineProperty(s,"OPT_NOT_SEE_EACH_OTHER",{value:512}),Object.defineProperty(s,"OPT_IM_FORBID_PIC",{value:1024}),Object.defineProperty(s,"OPT_IM_FORBID_URL",{value:2048}),Object.defineProperty(s,"OPT_FORBID_OPEN_CAMERA",{value:4096}),Object.defineProperty(s,"OPT_AUTO_MUTE_HOST",{value:8192}),Object.defineProperty(s,"OPT_REVIEW_CHAT",{value:16384}),Object.defineProperty(s,"OPT_AUTO_OPEN_CAMERA",{value:32768}),Object.defineProperty(s,"OPT_MIC_USE_LOCAL",{value:65536}),Object.defineProperty(s,"OPT_CAMERA_USE_LOCAL",{value:131072}),Object.defineProperty(s,"OPT_FORBID_MARK",{value:262144}),Object.defineProperty(s,"OPT_ALLOW_SHARE",{value:524288}),Object.defineProperty(s,"OPT_SCREENSHARE_WATERMARK",{value:1048576}),Object.defineProperty(s,"OPT_START_WAITINGROOM",{value:2097152}),c.defineSequence(s,"ByteListHelper","Ice.ByteHelper",!0),c.defineDictionary(s,"StringStringMap","StringStringMapHelper","Ice.StringHelper","Ice.StringHelper",!1,void 0,void 0),s.ASTATUS=c.defineEnum([["AUNKNOWN",0],["ANULL",1],["ACLOSE",2],["AOPEN",3],["AOPENING",4]]),s.WINDOW_MODE=c.defineEnum([["VMANAGER_LOCK",0],["VSPEAKER_TRACK",1],["VPRESENTER_LOCK",2]]),s.VSTATUS=c.defineEnum([["VUNKNOWN",0],["VNULL",1],["VCLOSE",2],["VOPEN",3],["VOPENING",4]]),s.VIDEOLEVEL=c.defineEnum([["VL_HIGH_HD",0],["VL_HIGH_HDL",1],["VL_HIGH_H",2],["VL_HIGH_M",3],["VL_HIGH_L",4],["VL_MID",5],["VL_LOW",6]]),s.VideoSize=c.defineStruct((function(e,t){this.w=void 0!==e?e:0,this.h=void 0!==t?t:0}),!0,(function(e){e.writeShort(this.w),e.writeShort(this.h)}),(function(e){this.w=e.readShort(),this.h=e.readShort()}),4,!0),s.VideoQuality=c.defineStruct((function(e,t,n,i,r,o){this.vl=void 0!==e?e:s.VIDEOLEVEL.VL_HIGH_HD,this.vs=void 0!==t?t:new s.VideoSize,this.isec=void 0!==n?n:0,this.fps=void 0!==i?i:null,this.crf=void 0!==r?r:null,this.cost=void 0!==o?o:""}),!0,(function(e){s.VIDEOLEVEL.__write(e,this.vl),s.VideoSize.write(e,this.vs),e.writeByte(this.isec),s.ByteListHelper.write(e,this.fps),s.ByteListHelper.write(e,this.crf),e.writeString(this.cost)}),(function(e){this.vl=s.VIDEOLEVEL.__read(e),this.vs=s.VideoSize.read(e,this.vs),this.isec=e.readByte(),this.fps=s.ByteListHelper.read(e),this.crf=s.ByteListHelper.read(e),this.cost=e.readString()}),9,!1),s.VIDEOLAYOUTMODE=c.defineEnum([["VLO_1v1_M",0],["VLO_WALL1_M",1],["VLO_WALL2",2],["VLO_WALL4",3],["VLO_WALL5_M",4],["VLO_WALL6_M",5],["VLO_WALL9",6],["VLO_WALL13_M",7],["VLO_WALL16",8],["VLO_WALL25",9]]),Object.defineProperty(s,"MVM_1MAIN",{value:0}),Object.defineProperty(s,"MVM_1v1",{value:1}),Object.defineProperty(s,"MVM_2VIDEO",{value:2}),Object.defineProperty(s,"MVM_4VIDEO",{value:3}),Object.defineProperty(s,"MVM_6VIDEO",{value:4}),Object.defineProperty(s,"VIDEO_SS_1M",{value:0}),Object.defineProperty(s,"VIDEO_SS_5M",{value:1}),Object.defineProperty(s,"VIDEO_SS_13M",{value:2}),Object.defineProperty(s,"VIDEO_SS_2",{value:3}),Object.defineProperty(s,"VIDEO_SS_4",{value:4}),Object.defineProperty(s,"VIDEO_SS_9",{value:5}),Object.defineProperty(s,"VIDEO_SS_16",{value:6}),Object.defineProperty(s,"VIDEO_SS_25",{value:7}),Object.defineProperty(s,"VIDEO_SS_NULL",{value:255}),c.defineSequence(s,"VideoQualitySeqHelper","Conference.VideoQuality",!1),s.SYNCMODE=c.defineEnum([["SYNC_FORCE",0],["SYNC_FREE",1]]),s.TabID=c.defineStruct((function(e,t){this.termID=void 0!==e?e:0,this.localID=void 0!==t?t:0}),!0,(function(e){e.writeShort(this.termID),e.writeShort(this.localID)}),(function(e){this.termID=e.readShort(),this.localID=e.readShort()}),4,!0),c.defineSequence(s,"TabIDSeqHelper","Conference.TabID",!0),s.WBBOARD_TYPE=c.defineEnum([["WB_WHITE",0],["WB_DOC",1]]),s.WBBOARD_DOCTYPE=c.defineEnum([["WD_IMG",0],["WD_PPTANIM",1],["WD_PPT",2]]),s.WB_SCALE_TYPE=c.defineEnum([["WB_SCALE_50",0],["WB_SCALE_100",1],["WB_SCALE_150",2],["WB_SCALE_200",3],["WB_SCALE_SADP",4],["WB_SCALE_WIDTH",5]]),s.WB_ROTATE_TYPE=c.defineEnum([["WB_ROTATE_0",0],["WB_ROTATE_90",1],["WB_ROTATE_180",2],["WB_ROTATE_270",3]]),s.WhiteBoardDescribe=c.defineStruct((function(e,t,n,i,r,o,c,a,l,u,d,h,f,p,_,C){this.wID=void 0!==e?e:new s.TabID,this.wType=void 0!==t?t:s.WBBOARD_TYPE.WB_WHITE,this.docType=void 0!==n?n:s.WBBOARD_DOCTYPE.WD_IMG,this.name=void 0!==i?i:"",this.docName=void 0!==r?r:"",this.width=void 0!==o?o:0,this.height=void 0!==c?c:0,this.scaleType=void 0!==a?a:s.WB_SCALE_TYPE.WB_SCALE_50,this.rotation=void 0!==l?l:s.WB_ROTATE_TYPE.WB_ROTATE_0,this.pageCount=void 0!==u?u:0,this.curPage=void 0!==d?d:0,this.animID=void 0!==h?h:0,this.animFrames=void 0!==f?f:0,this.showThum=void 0!==p&&p,this.bAll=void 0!==_&&_,this.allowTerms=void 0!==C?C:null}),!0,(function(e){s.TabID.write(e,this.wID),s.WBBOARD_TYPE.__write(e,this.wType),s.WBBOARD_DOCTYPE.__write(e,this.docType),e.writeString(this.name),e.writeString(this.docName),e.writeInt(this.width),e.writeInt(this.height),s.WB_SCALE_TYPE.__write(e,this.scaleType),s.WB_ROTATE_TYPE.__write(e,this.rotation),e.writeInt(this.pageCount),e.writeInt(this.curPage),e.writeInt(this.animID),e.writeInt(this.animFrames),e.writeBool(this.showThum),e.writeBool(this.bAll),i.ShortSeqHelper.write(e,this.allowTerms)}),(function(e){this.wID=s.TabID.read(e,this.wID),this.wType=s.WBBOARD_TYPE.__read(e),this.docType=s.WBBOARD_DOCTYPE.__read(e),this.name=e.readString(),this.docName=e.readString(),this.width=e.readInt(),this.height=e.readInt(),this.scaleType=s.WB_SCALE_TYPE.__read(e),this.rotation=s.WB_ROTATE_TYPE.__read(e),this.pageCount=e.readInt(),this.curPage=e.readInt(),this.animID=e.readInt(),this.animFrames=e.readInt(),this.showThum=e.readBool(),this.bAll=e.readBool(),this.allowTerms=i.ShortSeqHelper.read(e)}),37,!1),Object.defineProperty(s,"SubMeetType_MainRoom",{value:"main"}),Object.defineProperty(s,"SubMeetType_WaitRoom",{value:"wait"}),s.SubMeetInfo=c.defineStruct((function(e,t,n){this.type=void 0!==e?e:"",this.id=void 0!==t?t:0,this.key=void 0!==n?n:""}),!0,(function(e){e.writeString(this.type),e.writeInt(this.id),e.writeString(this.key)}),(function(e){this.type=e.readString(),this.id=e.readInt(),this.key=e.readString()}),6,!1),c.defineSequence(s,"WhiteBoardDescribeSeqHelper","Conference.WhiteBoardDescribe",!1),s.ConfIdError=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::ConfIdError",void 0,void 0,!1,!1),s.AuthError=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::AuthError",void 0,void 0,!1,!1),s.ReenterError=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::ReenterError",void 0,void 0,!1,!1),s.RoomLockedError=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::RoomLockedError",void 0,void 0,!1,!1),s.NicknameError=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::NicknameError",void 0,void 0,!1,!1),s.NicknameDuplicatedError=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::NicknameDuplicatedError",void 0,void 0,!1,!1),s.NotPermitError=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::NotPermitError",void 0,void 0,!1,!1),s.MemberDeactivedError=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::MemberDeactivedError",void 0,void 0,!1,!1),s.MemberOverflowError=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::MemberOverflowError",void 0,void 0,!1,!1),s.ConfMemberOverflowError=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::ConfMemberOverflowError",void 0,void 0,!1,!1),s.BalanceLessError=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::BalanceLessError",void 0,void 0,!1,!1),s.KickoutSelfError=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::KickoutSelfError",void 0,void 0,!1,!1),s.ConferenceEndError=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::ConferenceEndError",void 0,void 0,!1,!1),s.ConferenceBeginError=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::ConferenceBeginError",void 0,void 0,!1,!1),s.PINError=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::PINError",void 0,void 0,!1,!1),s.FieldDuplicatedError=c.defineUserException((function(e,t,n,i,r){o.ConferenceError.call(this,e,t,r),this.name=void 0!==n?n:"",this.value=void 0!==i?i:""}),o.ConferenceError,"Conference::FieldDuplicatedError",(function(e){e.writeString(this.name),e.writeString(this.value)}),(function(e){this.name=e.readString(),this.value=e.readString()}),!1,!1),s.InviteeNotFoundError=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::InviteeNotFoundError",void 0,void 0,!1,!1),s.InviteeDuplicatedError=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::InviteeDuplicatedError",void 0,void 0,!1,!1),s.InvalidTermTypeError=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::InvalidTermTypeError",void 0,void 0,!1,!1),s.NoPSTNHostError=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::NoPSTNHostError",void 0,void 0,!1,!1),s.ConferencePrepareError=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::ConferencePrepareError",void 0,void 0,!1,!1),s.ConferenceLoginRetry=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::ConferenceLoginRetry",void 0,void 0,!1,!1),s.ResourceAllocateError=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::ResourceAllocateError",void 0,void 0,!1,!1),s.OnlyInviteeCanLogin=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::OnlyInviteeCanLogin",void 0,void 0,!1,!1),s.MemberAlreadyInMeet=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::MemberAlreadyInMeet",void 0,void 0,!1,!1),s.MemberAlreadyInCanTryVisitor=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::MemberAlreadyInCanTryVisitor",void 0,void 0,!1,!1),s.MismatchClientVersion=c.defineUserException((function(e,t,n,i){o.ConferenceError.call(this,e,t,i),this.newVer=void 0!==n?n:""}),o.ConferenceError,"Conference::MismatchClientVersion",(function(e){e.writeString(this.newVer)}),(function(e){this.newVer=e.readString()}),!1,!1),s.PeerHasBeen1v1SubMeeting=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::PeerHasBeen1v1SubMeeting",void 0,void 0,!1,!1),s.LiveStreamNotStart=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::LiveStreamNotStart",void 0,void 0,!1,!1),s.PstnHostCantLoginInWeb=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::PstnHostCantLoginInWeb",void 0,void 0,!1,!1),s.CannotBoradcast=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::CannotBoradcast",void 0,void 0,!1,!1),s.CannotInteractBoradcast=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::CannotInteractBoradcast",void 0,void 0,!1,!1),s.ConfCannotInteractBoradcast=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::ConfCannotInteractBoradcast",void 0,void 0,!1,!1),s.ContainsSensitiveWords=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::ContainsSensitiveWords",void 0,void 0,!1,!1),s.ThirdPartyLiveIsOn=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::ThirdPartyLiveIsOn",void 0,void 0,!1,!1),s.ListLiveIsOn=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::ListLiveIsOn",void 0,void 0,!1,!1),s.ClientLiveIsOn=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::ClientLiveIsOn",void 0,void 0,!1,!1),s.LuckyDrawNotExists=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::LuckyDrawNotExists",void 0,void 0,!1,!1),s.LuckyDrawCfgFails=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::LuckyDrawCfgFails",void 0,void 0,!1,!1),s.JoinLuckyDrawFails=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::JoinLuckyDrawFails",void 0,void 0,!1,!1),s.AnnouceLuckyDrawFails=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::AnnouceLuckyDrawFails",void 0,void 0,!1,!1),s.AnnouceLuckyDrawNoMember=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::AnnouceLuckyDrawNoMember",void 0,void 0,!1,!1),s.SeviceNotEnabled=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::SeviceNotEnabled",void 0,void 0,!1,!1),s.SrvRecordStarted=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::SrvRecordStarted",void 0,void 0,!1,!1),s.NoResourceForMIC=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::NoResourceForMIC",void 0,void 0,!1,!1),s.StartRecordError=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::StartRecordError",void 0,void 0,!1,!1),s.PlayBackGroundMusicFail=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::PlayBackGroundMusicFail",void 0,void 0,!1,!1),s.SameTimeStartMediaError=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::SameTimeStartMediaError",void 0,void 0,!1,!1),s.lockQuesError=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::lockQuesError",void 0,void 0,!1,!1),s.delQuesError=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::delQuesError",void 0,void 0,!1,!1),s.quesNotExistError=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::quesNotExistError",void 0,void 0,!1,!1),s.modifyQuesTypeError=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::modifyQuesTypeError",void 0,void 0,!1,!1),s.AlreadyRollCallError=c.defineUserException((function(e,t,n,i){o.ConferenceError.call(this,e,t,i),this.rollCaller=void 0!==n?n:0}),o.ConferenceError,"Conference::AlreadyRollCallError",(function(e){e.writeShort(this.rollCaller)}),(function(e){this.rollCaller=e.readShort()}),!1,!1),s.AlreadySharedException=c.defineUserException((function(e,t,n,i){o.ConferenceError.call(this,e,t,i),this.sharer=void 0!==n?n:0}),o.ConferenceError,"Conference::AlreadySharedException",(function(e){e.writeShort(this.sharer)}),(function(e){this.sharer=e.readShort()}),!1,!1),s.WBMaxError=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::WBMaxError",void 0,void 0,!1,!1),s.WBNotExistError=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::WBNotExistError",void 0,void 0,!1,!1),s.WBElementNoExistError=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::WBElementNoExistError",void 0,void 0,!1,!1),s.ExceedTheCapacityLimit=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::ExceedTheCapacityLimit",void 0,void 0,!1,!1),s.ConferenceBusy=c.defineUserException((function(e,t,n,i){o.ConferenceError.call(this,e,t,i),this.retry_delay=void 0!==n?n:0}),o.ConferenceError,"Conference::ConferenceBusy",(function(e){e.writeInt(this.retry_delay)}),(function(e){this.retry_delay=e.readInt()}),!1,!1),s.EnterWaitingRoom=c.defineUserException((function(e,t,n,i){o.ConferenceError.call(this,e,t,i),this.subMeetInfo=void 0!==n?n:""}),o.ConferenceError,"Conference::EnterWaitingRoom",(function(e){e.writeString(this.subMeetInfo)}),(function(e){this.subMeetInfo=e.readString()}),!1,!1),s.NosuchPersonInWaitingRoom=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::NosuchPersonInWaitingRoom",void 0,void 0,!1,!1),Object.defineProperty(s,"SET_PSTN_NUM",{value:1}),Object.defineProperty(s,"CALLED_PSTN_NUM",{value:2}),Object.defineProperty(s,"BIND_PSTN_NUM",{value:4}),c.defineDictionary(s,"ModuleDict","ModuleDictHelper","Ice.StringHelper","Ice.ObjectPrx",!1,void 0,void 0),Object.defineProperty(s,"CLIENT_SLICE_VER",{value:"slice_ver"}),Object.defineProperty(s,"CLINET_PCID",{value:"client_pcid"}),Object.defineProperty(s,"CLINET_MACADDR",{value:"client_macaddr"}),Object.defineProperty(s,"CLINET_LANGUAGE",{value:"client_lang"}),Object.defineProperty(s,"CLINET_VER",{value:"client_ver"}),Object.defineProperty(s,"CLINET_SDK_VER",{value:"sdk_ver"}),Object.defineProperty(s,"CLINET_H5SDK_VER",{value:"h5sdk_ver"}),Object.defineProperty(s,"CLINET_ISWIFI",{value:"client_iswifi"}),Object.defineProperty(s,"CLINET_PLATFORM",{value:"client_platform"}),Object.defineProperty(s,"CLINET_PRODUCTTYPE",{value:"client_pdType"}),Object.defineProperty(s,"CLINET_DEVICETYPE",{value:"client_device"}),Object.defineProperty(s,"CLIENT_BRIDGETYPE",{value:"bridgeType"}),Object.defineProperty(s,"CLIENT_INVITECODE",{value:"invite_code"}),Object.defineProperty(s,"CLIENT_PHONENUM",{value:"phone_num"}),Object.defineProperty(s,"CLIENT_ISCUSTOMERSERVICE",{value:"is_cs"}),Object.defineProperty(s,"CLIENT_PRIV_ID",{value:"priv_id"}),Object.defineProperty(s,"CLIETN_PRIV_DAT",{value:"priv_dat"}),Object.defineProperty(s,"CLIETN_PRIV_ROLE",{value:"priv_role"}),Object.defineProperty(s,"CLINET_LOGIN_TIMESTAMP",{value:"client_time"}),Object.defineProperty(s,"CLINET_IS_WEB_VIEWER",{value:"webview"}),Object.defineProperty(s,"CLINET_LIVEAUDIO",{value:"liveAudio"}),Object.defineProperty(s,"CLINET_OPENID",{value:"openId"}),Object.defineProperty(s,"CLIENT_ACODEC",{value:"acodec"}),Object.defineProperty(s,"CLIENT_LIVE_TYPE",{value:"livetype"}),Object.defineProperty(s,"CLIENT_LIVE_MOBILE",{value:"livemobile"}),Object.defineProperty(s,"CLINET_BROWSER_INFO",{value:"browser"}),Object.defineProperty(s,"CLINET_VP8_SUPPORT",{value:"vp8"}),Object.defineProperty(s,"CLINET_WEBRTC_CODECS",{value:"rtc_codecs"}),Object.defineProperty(s,"CLIENT_TIME_OUT",{value:"time_out"}),Object.defineProperty(s,"CLINET_SUPPORT_NEWCONFID",{value:"spt_newconf"}),Object.defineProperty(s,"CLIENT_SDK_USRTOKEN",{value:"token"}),Object.defineProperty(s,"CLIENT_MCUID",{value:"mcuID"}),Object.defineProperty(s,"CLIENT_VER",{value:"client_ver"}),Object.defineProperty(s,"CLIENT_SIP_VIDEO_REENCODE",{value:"video_reencode"}),Object.defineProperty(s,"CLIENT_PROJECT_CODE",{value:"pjcode"}),Object.defineProperty(s,"CLIENT_PROJECT_FOR",{value:"pjfor"}),Object.defineProperty(s,"CLIENT_SUPPORT_DATA_CENTER",{value:"dcenter_enable"}),Object.defineProperty(s,"CLIENT_MCU_SESSION_ID",{value:"mcu_session_id"}),Object.defineProperty(s,"CLIENT_SDK_TYPE",{value:"sdktype"}),Object.defineProperty(s,"CLIENT_SDK_TYPE_VIDEO",{value:"video"}),Object.defineProperty(s,"CLIENT_SDK_TYPE_LIVE",{value:"live"}),Object.defineProperty(s,"PLATFORMTYPE_WIN32",{value:"win32"}),Object.defineProperty(s,"PLATFORMTYPE_IOS",{value:"ios"}),Object.defineProperty(s,"PLATFORMTYPE_ANDROID",{value:"android"}),Object.defineProperty(s,"PLATFORMTYPE_LINUX",{value:"linux"}),Object.defineProperty(s,"PLATFORMTYPE_MAC",{value:"mac"}),Object.defineProperty(s,"PDTYPE_TVNETMEETING",{value:"net_tv"}),Object.defineProperty(s,"PDTYPE_NETMEETING",{value:"net"}),Object.defineProperty(s,"PDTYPE_PSTNMEETING",{value:"pstn"}),Object.defineProperty(s,"PDTYPE_LIVE",{value:"live"}),Object.defineProperty(s,"PDTYPE_MCU",{value:"mcu"}),Object.defineProperty(s,"DEVICETYPE_PC",{value:"pc"}),Object.defineProperty(s,"DEVICETYPE_PAD",{value:"pad"}),Object.defineProperty(s,"DEVICETYPE_PHONE",{value:"phone"}),Object.defineProperty(s,"DEVICETYPE_FLASH",{value:"flash"}),Object.defineProperty(s,"DEVICETYPE_MCU",{value:"mcu"}),Object.defineProperty(s,"DEVICETYPE_BOX",{value:"box"}),Object.defineProperty(s,"DEVICETYPE_SIPGATEWAY",{value:"sipgateway"}),Object.defineProperty(s,"DEVICETYPE_WEBRTC",{value:"webrtc"}),Object.defineProperty(s,"DEVICETYPE_WXMINI",{value:"wxmini"}),Object.defineProperty(s,"BRIDGETYPE_MONITOR",{value:"monitor"}),Object.defineProperty(s,"BRIDGETYPE_MEETING",{value:"meeting"}),Object.defineProperty(s,"MEETINGMODE_NORMAL",{value:"normal"}),Object.defineProperty(s,"MEETINGMODE_CONSULTATION",{value:"consultation"}),Object.defineProperty(s,"ACODEC_ISAC",{value:"isac"}),Object.defineProperty(s,"LIVETYPE_WEIXIN",{value:"0"}),Object.defineProperty(s,"LIVETYPE_USER",{value:"1"}),Object.defineProperty(s,"LIVETYPE_OTHER",{value:"2"}),s.LoginRequest=c.defineStruct((function(e,t,n,i,r,o,c,s,a,l,u,d){this.confId=void 0!==e?e:0,this.confKey=void 0!==t?t:"",this.termId=void 0!==n?n:0,this.memberId=void 0!==i?i:0,this.memberType=void 0!==r?r:0,this.nickname=void 0!==o?o:"",this.callbacks=void 0!==c?c:null,this.accessNo=void 0!==s?s:0,this.publicIP=void 0!==a?a:"",this.localIP=void 0!==l?l:"",this.localMask=void 0!==u?u:"",this.extProperty=void 0!==d?d:null}),!1,(function(e){e.writeInt(this.confId),e.writeString(this.confKey),e.writeShort(this.termId),e.writeInt(this.memberId),e.writeByte(this.memberType),e.writeString(this.nickname),s.ModuleDictHelper.write(e,this.callbacks),e.writeInt(this.accessNo),e.writeString(this.publicIP),e.writeString(this.localIP),e.writeString(this.localMask),s.StringStringMapHelper.write(e,this.extProperty)}),(function(e){this.confId=e.readInt(),this.confKey=e.readString(),this.termId=e.readShort(),this.memberId=e.readInt(),this.memberType=e.readByte(),this.nickname=e.readString(),this.callbacks=s.ModuleDictHelper.read(e),this.accessNo=e.readInt(),this.publicIP=e.readString(),this.localIP=e.readString(),this.localMask=e.readString(),this.extProperty=s.StringStringMapHelper.read(e)}),22,!1),s.FileServerInfo=c.defineStruct((function(e,t){this.fsProxy=void 0!==e?e:"",this.key=void 0!==t?t:""}),!0,(function(e){e.writeString(this.fsProxy),e.writeString(this.key)}),(function(e){this.fsProxy=e.readString(),this.key=e.readString()}),2,!1),s.REC_STATE=c.defineEnum([["NO_RECORD",0],["STARTING",1],["RECORDING",2],["PAUSED",3],["STOPPING",4]]),c.defineSequence(s,"FileServerSeqHelper","Conference.FileServerInfo",!1),Object.defineProperty(s,"INVALID_COUNTDOWN",{value:-1}),Object.defineProperty(s,"CONFINFO_HOSTPWD",{value:"hostpwd"}),Object.defineProperty(s,"CONFINFO_CONFPWD",{value:"confpwd"}),Object.defineProperty(s,"CONFINFO_SCHEDULETIME",{value:"scheduletime"}),Object.defineProperty(s,"CONFINFO_SUBJECT",{value:"subject"}),Object.defineProperty(s,"CONFINFO_URL",{value:"url"}),Object.defineProperty(s,"CONFINFO_URLPIC",{value:"urlpic"}),Object.defineProperty(s,"CONFINFO_PSTNNUM",{value:"pstnnum"}),Object.defineProperty(s,"CONFINFO_PSTNPWD",{value:"pstnpwd"}),Object.defineProperty(s,"CONFINFO_AGENDA",{value:"agenda"}),Object.defineProperty(s,"CONFINFO_SUPPORT_VLIST",{value:"vlist"}),Object.defineProperty(s,"CONFINFO_ROOM_SIZETYPE",{value:"roomsizetype"}),Object.defineProperty(s,"CONFINFO_ISTEST",{value:"istest"}),Object.defineProperty(s,"CONFINFO_ISDEMO",{value:"isdemo"}),Object.defineProperty(s,"CONFINFO_HOTLINE",{value:"hotline"}),Object.defineProperty(s,"CONFINFO_ISFIX",{value:"isfixed"}),Object.defineProperty(s,"CONFINFO_HD",{value:"hd"}),Object.defineProperty(s,"CONFINFO_PSTNNOTICE",{value:"pstnnotice"}),Object.defineProperty(s,"CONFINFO_FUNC_VIDEOWALL",{value:"videowall"}),Object.defineProperty(s,"CONFINFO_VIDEO_ENABLE",{value:"video"}),Object.defineProperty(s,"CONFINFO_SHOW_MAIN_AD",{value:"main_ad"}),Object.defineProperty(s,"CONFINFO_VIDEO_MONITOR",{value:"vmonitor"}),Object.defineProperty(s,"CONFINFO_USE_PHONE",{value:"use_phone"}),Object.defineProperty(s,"CONFINFO_INVITE",{value:"invite"}),Object.defineProperty(s,"CONFINFO_VIDEO_LUBO",{value:"lubo"}),Object.defineProperty(s,"CONFINFO_MEDIA_PLAY",{value:"media_play"}),Object.defineProperty(s,"CONFINFO_MULTI_CAMERAS",{value:"multiple_cameras"}),Object.defineProperty(s,"CONFINFO_SUPPORT_BRIDGE",{value:"bridge"}),Object.defineProperty(s,"CONFINFO_SCREEN_SHARE",{value:"screen_share"}),Object.defineProperty(s,"CONFINFO_DOCUMENT_SHOW",{value:"document_show"}),Object.defineProperty(s,"CONFINFO_WHITE_BOARD",{value:"whiteboard"}),Object.defineProperty(s,"CONFINFO_ANSWER_QUESTION",{value:"answer_question"}),Object.defineProperty(s,"CONFINFO_FILE_SHARE",{value:"file_share"}),Object.defineProperty(s,"CONFINFO_MEETING_INFO",{value:"meeting_info"}),Object.defineProperty(s,"CONFINFO_OMNIDIRECTIONAL_MIC",{value:"omnidirectional_mic"}),Object.defineProperty(s,"CONFINFO_MEET_MODE",{value:"meeting_mode"}),Object.defineProperty(s,"CONFINFO_USER_ROLE",{value:"user_role"}),Object.defineProperty(s,"CONFINFO_COMPANY_ID",{value:"compid"}),Object.defineProperty(s,"CONFINFO_USER_NETDISK_ENABLE",{value:"user_net_disk"}),Object.defineProperty(s,"CONFINFO_COMP_NETDISK_ENABLE",{value:"comp_net_disk"}),Object.defineProperty(s,"CONFINFO_FREECONF",{value:"freeconf"}),Object.defineProperty(s,"CONFINFO_MAINVIDEO_SHOWMODE",{value:"main_svm"}),Object.defineProperty(s,"CONFINFO_IS_BROADCATING",{value:"rtmpliveon"}),Object.defineProperty(s,"CONFINFO_WEBVIEWER_NUM",{value:"webviewer_num"}),Object.defineProperty(s,"CONFINFO_WEBVIEWER_RIGHTS",{value:"webviewer_rights"}),Object.defineProperty(s,"CONFINFO_WEBVIEWER_QUES",{value:"webviewer_ques"}),Object.defineProperty(s,"CONFINFO_BROADCAST_DURATION",{value:"rtmplivetm"}),Object.defineProperty(s,"CONFINFO_WB_CONTAINERSIZE",{value:"wb_container"}),Object.defineProperty(s,"CONFINFO_H264_PROFILE",{value:"h264profile"}),Object.defineProperty(s,"CONFINFO_H264_NOCABAC",{value:"h264nocabac"}),Object.defineProperty(s,"CONFINFO_H264_SLICEMAXSZ",{value:"h264slicemaxsz"}),Object.defineProperty(s,"CONFINFO_H264_IFRAME",{value:"h264iframe"}),Object.defineProperty(s,"CONFINFO_H264_NOHARDCODING",{value:"h264nohardcoding"}),Object.defineProperty(s,"CONFINFO_SCREEN_ENCTYPE",{value:"screenenctype"}),Object.defineProperty(s,"CONFINFO_HIFPS_VALUE",{value:"hi_fps"}),Object.defineProperty(s,"CONFINFO_H264_PICMAXSIZE",{value:"h264picmaxsize"}),Object.defineProperty(s,"CONFINFO_SUPPORT_SIP",{value:"is_sip"}),Object.defineProperty(s,"CONFINFO_MS_MODE",{value:"ms_mode"}),Object.defineProperty(s,"CONFINFO_H264_ENCFIXEDSZ",{value:"h264encfixedsz"}),Object.defineProperty(s,"CONFINFO_HD_FOR_MOBILE",{value:"hd_for_mobile"}),Object.defineProperty(s,"CONFINFO_LOG_LEVEL",{value:"log_level"}),Object.defineProperty(s,"CONFINFO_LIVE_CONFIG",{value:"livecfg"}),Object.defineProperty(s,"CONFINFO_SRV_RECORDSTATE",{value:"srv_record_state"}),Object.defineProperty(s,"CONFINFO_SRV_RECORDCFG",{value:"srv_record_cfg"}),Object.defineProperty(s,"CONFINFO_SVR_RECORDOWNER",{value:"svr_record_owner"}),Object.defineProperty(s,"CONFINFO_VIDEO_VPU_SUPPORT_ENC",{value:"vpu_support_enc"}),Object.defineProperty(s,"CONFINFO_VIDEO_VPU_SUPPORT_DEC",{value:"vpu_supportd_dec"}),Object.defineProperty(s,"CONFINFO_VIDEO_VPU_UNSUPPORT_ENC_DEV",{value:"vpu_unsupport_enc_dev"}),Object.defineProperty(s,"CONFINFO_VIDEO_VPU_UNSUPPORT_DEC_DEV",{value:"vpu_unsupport_dec_dev"}),Object.defineProperty(s,"CONFINFO_VIDEOLIST_MODE",{value:"vlistmode"}),Object.defineProperty(s,"CONFINFO_VIDEOLIST_CAMS",{value:"vlistcams"}),Object.defineProperty(s,"CONFINFO_MAX_VIDEOUIS",{value:"maxvuis"}),Object.defineProperty(s,"CONFINFO_VIDEOWALL_LAYOUT",{value:"vwalllo"}),Object.defineProperty(s,"CONFINFO_UI_LOCKSTATUS",{value:"uilock"}),Object.defineProperty(s,"CONFINFO_SRV_RECORD",{value:"srv_record"}),Object.defineProperty(s,"CONFINFO_SHOW_LIVE",{value:"show_live"}),Object.defineProperty(s,"CONFINFO_SIGNIN",{value:"signinurl"}),Object.defineProperty(s,"CONFINFO_EXTTAB_URL",{value:"exttaburl"}),Object.defineProperty(s,"CONFINFO_PRIVTAB_INFO",{value:"privtabinfo"}),Object.defineProperty(s,"CONFINFO_PRIVATE_FILE_SERVER",{value:"privfs"}),Object.defineProperty(s,"CONFINFO_DOC_BACKUP_COMP_NDD",{value:"doc_backup_comp_ndd"}),Object.defineProperty(s,"CONFINFO_OEMKEY",{value:"oem_key"}),Object.defineProperty(s,"CONFINFO_VIDEOCUSTOMBPS",{value:"video_custom_bps"}),Object.defineProperty(s,"CONFINFO_CONFIRM_AUTOEND_TYPE",{value:"autoend"}),Object.defineProperty(s,"CONFINFO_RECORD_ALL_MEMBER",{value:"record_all"}),Object.defineProperty(s,"CONFINFO_ACCESS_KEEPALIVE_TIME",{value:"kp_time_a"}),Object.defineProperty(s,"CONFINFO_CONTROL_KEEPALIVE_TIME",{value:"kp_time_c"}),Object.defineProperty(s,"CONFINFO_NEW_CONFID",{value:"new_confid"}),Object.defineProperty(s,"CONFINFO_FS_HTTP",{value:"fs_http"}),Object.defineProperty(s,"CONFINFO_SHARE_CFG",{value:"share_cfg"}),Object.defineProperty(s,"CONFINFO_MCU_MAX_VIDEOUIS",{value:"mcu_maxvuis"}),Object.defineProperty(s,"CONFINFO_MEETING_CHECK",{value:"meeting_check"}),Object.defineProperty(s,"CONFINFO_DATA_CENTER_PROXY",{value:"dcenter_prxy"}),Object.defineProperty(s,"CONFINFO_DATA_CENTER_KEY",{value:"dcenter_key"}),Object.defineProperty(s,"CONFINFO_MCU_RECORD_ID",{value:"mcu_recid"}),Object.defineProperty(s,"CONFINFO_IS_SDKMEETING",{value:"is_sdkmeeting"}),Object.defineProperty(s,"CONF_END_REASON_UNKOWN",{value:"unkown"}),Object.defineProperty(s,"CONF_END_REASON_TERM",{value:"term"}),Object.defineProperty(s,"CONF_END_REASON_AUTO",{value:"auto"}),Object.defineProperty(s,"CONF_END_REASON_WEB",{value:"web"}),Object.defineProperty(s,"CONF_END_REASON_AAA",{value:"aaa"}),Object.defineProperty(s,"CONF_END_REASON_HOST_OFFLINE",{value:"host_offline"}),Object.defineProperty(s,"LEFT_REASON_KICK",{value:"kick"}),Object.defineProperty(s,"LEFT_REASON_REFRESH",{value:"refresh"}),Object.defineProperty(s,"LEFT_REASON_EXTRUDE",{value:"extrude"}),Object.defineProperty(s,"LEFT_REASON_TIMEOUT",{value:"timeout"}),Object.defineProperty(s,"LEFT_REASON_SEAT",{value:"seat"}),Object.defineProperty(s,"LEFT_REASON_EXIT",{value:"exit"}),Object.defineProperty(s,"LEFT_REASON_BUSY",{value:"busy"}),Object.defineProperty(s,"LEFT_REASON_BALANCE_LESS",{value:"balance_less"}),Object.defineProperty(s,"LEFT_REASON_TOKENTIMEOUT",{value:"token_timeout"}),Object.defineProperty(s,"LEFT_REASON_SUBMEETING",{value:"sub_meeting"}),Object.defineProperty(s,"KNOCKED_REASON_ROOMLOCKED",{value:"room_locked"}),Object.defineProperty(s,"KNOCKED_REASON_SEATLESS",{value:"seat_less"}),Object.defineProperty(s,"KNOCKED_REASON_BALANCELESS",{value:"balance_less"}),Object.defineProperty(s,"BOARDCAST_RTMP",{value:"rtmp"}),Object.defineProperty(s,"BOARDCAST_RTMP2",{value:"rtmp2"}),Object.defineProperty(s,"BOARDCAST_SCREEN_RTMP",{value:"rtmp_screen"}),Object.defineProperty(s,"BOARDCAST_HLS",{value:"hls"}),Object.defineProperty(s,"BOARDCAST_HLS2",{value:"hls2"}),Object.defineProperty(s,"BOARDCAST_SCREEN_HLS",{value:"hls_screen"}),Object.defineProperty(s,"BROADCAST_FLV",{value:"flv"}),n.Conference=s}(void 0!==i&&i.process,void 0!==i&&void 0!==i.process?n(0):d.Ice.__require,void 0!==i&&void 0!==i.process?t:this),function(e,t,n){var i=t("ice").Ice,r=i.__M,o=(t("Common/Exception").Common,r.require(e,["Control/PublicTypes","Control/Contact"]).Conference),c=i.Slice;Object.defineProperty(o,"ACNT_ADMIN",{value:0}),Object.defineProperty(o,"ACNT_MEETCREATOR",{value:1}),Object.defineProperty(o,"ACNT_PARTICIPANTS",{value:2}),Object.defineProperty(o,"MINFO_ALLCAMS",{value:"allCams"}),Object.defineProperty(o,"MINFO_OPENEDCAMIDS",{value:"openedCamIDs"}),Object.defineProperty(o,"MINFO_ACNTTYPE",{value:"anctType"}),Object.defineProperty(o,"MINFO_WDTXDTYPE",{value:"WDTXDType"}),Object.defineProperty(o,"WDTXDTYPE_ADMIN",{value:"1"}),Object.defineProperty(o,"WDTXDTYPE_USER",{value:"2"}),Object.defineProperty(o,"MINFO_PSTNIVR",{value:"ivr"}),Object.defineProperty(o,"PSTNIVR_YES",{value:"1"}),Object.defineProperty(o,"MINFO_YDYUSERID",{value:"ydyuserid"}),o.Member=c.defineStruct((function(e,t,n,i,r,c,s,a,l,u,d,h){this.termId=void 0!==e?e:0,this.bindId=void 0!==t?t:0,this.termType=void 0!==n?n:0,this.nickname=void 0!==i?i:"",this.actor=void 0!==r?r:0,this.audioStatus=void 0!==c?c:o.ASTATUS.AUNKNOWN,this.videoStatus=void 0!==s?s:o.VSTATUS.VUNKNOWN,this.bEnableVideo=void 0!==a&&a,this.rights=void 0!==l?l:null,this.contactId=void 0!==u?u:new o.ContactIdType,this.phone=void 0!==d?d:"",this.extProperty=void 0!==h?h:null}),!1,(function(e){e.writeShort(this.termId),e.writeShort(this.bindId),e.writeByte(this.termType),e.writeString(this.nickname),e.writeByte(this.actor),o.ASTATUS.__write(e,this.audioStatus),o.VSTATUS.__write(e,this.videoStatus),e.writeBool(this.bEnableVideo),o.ByteListHelper.write(e,this.rights),o.ContactIdType.write(e,this.contactId),e.writeString(this.phone),o.StringStringMapHelper.write(e,this.extProperty)}),(function(e){this.termId=e.readShort(),this.bindId=e.readShort(),this.termType=e.readByte(),this.nickname=e.readString(),this.actor=e.readByte(),this.audioStatus=o.ASTATUS.__read(e),this.videoStatus=o.VSTATUS.__read(e),this.bEnableVideo=e.readBool(),this.rights=o.ByteListHelper.read(e),this.contactId=o.ContactIdType.read(e,this.contactId),this.phone=e.readString(),this.extProperty=o.StringStringMapHelper.read(e)}),18,!1),c.defineSequence(o,"MemberSeqHelper","Conference.Member",!1),n.Conference=o}(void 0!==i&&void 0!==i.process?r:void 0,void 0!==i&&void 0!==i.process?n(0):d.Ice.__require,void 0!==i&&void 0!==i.process?t:this),function(e,t,n){var i=t("ice").Ice,r=i.__M,o=(i.Slice,r.module("Conference"));Object.defineProperty(o,"PUBLIC_CHAT",{value:1}),Object.defineProperty(o,"PRIVATE_HOST_CHAT",{value:2}),Object.defineProperty(o,"PRIVATE_DEMO_CHAT",{value:3}),Object.defineProperty(o,"PRIVATE_OTHER_CHAT",{value:4}),Object.defineProperty(o,"SCREEN_RECORD",{value:11}),Object.defineProperty(o,"FILE_SHARE",{value:5}),Object.defineProperty(o,"WB_VIEW_PAGE",{value:9}),Object.defineProperty(o,"WB_VIEW_ANY",{value:10}),Object.defineProperty(o,"DEMO_RIGHT_MANAGE",{value:50}),Object.defineProperty(o,"DEMO_ACTOR_MANAGE",{value:51}),Object.defineProperty(o,"OPTION_MANAGE",{value:60}),Object.defineProperty(o,"HOST_ACTOR_MANAGE",{value:70}),Object.defineProperty(o,"LOCK_RIGHT",{value:71}),Object.defineProperty(o,"KICKOUT_RIGHT",{value:72}),Object.defineProperty(o,"END_CONFERENCE_RIGHT",{value:73}),Object.defineProperty(o,"MEMBER_INFO_MANAGE",{value:74}),Object.defineProperty(o,"INVITE_RIGHT",{value:75}),Object.defineProperty(o,"BEGIN_CONFERENCE_RIGHT",{value:76}),Object.defineProperty(o,"UPLOAD_FILE",{value:80}),Object.defineProperty(o,"DEL_OTHERS_FILE",{value:81}),Object.defineProperty(o,"START_NOTICE",{value:85}),Object.defineProperty(o,"STOP_NOTICE",{value:86}),Object.defineProperty(o,"START_ROLL_CALL",{value:90}),Object.defineProperty(o,"STOP_ROLL_CALL",{value:91}),Object.defineProperty(o,"OPEN_OTHERS_MIC",{value:95}),Object.defineProperty(o,"CLOSE_OTHERS_MIC",{value:96}),Object.defineProperty(o,"ALL_SILENCE",{value:97}),Object.defineProperty(o,"CHANGE_VIDEO_FOCUS_WINDOW_MODE",{value:100}),Object.defineProperty(o,"CHANGE_VIDEO_LAYOUT_MODE",{value:101}),Object.defineProperty(o,"SET_CURRENT_TAB",{value:105}),Object.defineProperty(o,"SET_FULLSCREEN",{value:106}),Object.defineProperty(o,"SET_FRAME_LAYOUT",{value:107}),Object.defineProperty(o,"FORCE_SYNC",{value:108}),Object.defineProperty(o,"WB_CREATE",{value:110}),Object.defineProperty(o,"WB_CLOSE",{value:111}),Object.defineProperty(o,"WB_CHANGE_NAME",{value:112}),Object.defineProperty(o,"WB_MARK",{value:113}),Object.defineProperty(o,"WB_SAVE",{value:114}),Object.defineProperty(o,"WB_PAGE_IMPORT",{value:115}),Object.defineProperty(o,"WB_CHANGE_SCALE",{value:116}),Object.defineProperty(o,"WB_ROTATE",{value:117}),Object.defineProperty(o,"WB_SET_CURRENT_PAGE",{value:118}),Object.defineProperty(o,"WB_SET_HOTSPOT",{value:119}),Object.defineProperty(o,"WB_SET_MARK_TERMS",{value:120}),Object.defineProperty(o,"SCREEN_SHARE_OPERATE",{value:130}),n.Conference=o}(void 0!==i&&i.process,void 0!==i&&void 0!==i.process?n(0):d.Ice.__require,void 0!==i&&void 0!==i.process?t:this),function(e,t,n){var i=t("ice").Ice,r=(i.__M,t("Common/Exception").Common),o=t("Control/PublicTypes").Conference,c=i.Slice;o.ConferenceSessionV4=c.defineObject(void 0,i.Object,void 0,0,["::Conference::ConferenceSessionV4","::Ice::Object"],-1,void 0,void 0,!1),o.ConferenceSessionV4Prx=c.defineProxy(i.ObjectPrx,o.ConferenceSessionV4.ice_staticId,void 0),c.defineOperations(o.ConferenceSessionV4,o.ConferenceSessionV4Prx,{sendCmd:[,,,1,,,[[7],[7],[7],["Ice.ByteSeqHelper"]],[[7],["Ice.ByteSeqHelper"]],[r.ConferenceError],,]}),n.Conference=o}(void 0!==i&&i.process,void 0!==i&&void 0!==i.process?n(0):d.Ice.__require,void 0!==i&&void 0!==i.process?t:this),function(e,t,n){var i=t("ice").Ice,r=i.__M,o=t("Common/Exception").Common,c=r.require(e,["Control/Member","Control/Contact","Control/PublicTypes","Control/Notice","Control/ConferenceV4"]).Conference,s=i.Slice;c.LoginResponse=s.defineStruct((function(e,t,n,i,r,o,s,a,l,u,d,h,f,p,_,C,g,y,I,v,m,S,E){this.termId=void 0!==e?e:0,this.option=void 0!==t?t:0,this.myDetail=void 0!==n?n:new c.Contact,this.modules=void 0!==i?i:null,this.activeMembers=void 0!==r?r:null,this.ServerUTCTime=void 0!==o?o:0,this.bRoomLocked=void 0!==s&&s,this.confInfo=void 0!==a?a:null,this.isBegan=void 0!==l&&l,this.countdown=void 0!==u?u:0,this.fileServers=void 0!==d?d:null,this.vqs=void 0!==h?h:null,this.windowMode=void 0!==f?f:c.WINDOW_MODE.VMANAGER_LOCK,this.mainVideoTermID=void 0!==p?p:0,this.vlo=void 0!==_?_:c.VIDEOLAYOUTMODE.VLO_1v1_M,this.bAllowWall=void 0!==C&&C,this.curMainTab=void 0!==g?g:new c.TabID,this.curSubTab=void 0!==y?y:new c.TabID,this.bFull=void 0!==I&&I,this.sm=void 0!==v?v:c.SYNCMODE.SYNC_FORCE,this.lastTabValue=void 0!==m?m:0,this.lastElemValue=void 0!==S?S:0,this.wbDescibes=void 0!==E?E:null}),!1,(function(e){e.writeShort(this.termId),e.writeInt(this.option),c.Contact.write(e,this.myDetail),c.ModuleDictHelper.write(e,this.modules),c.MemberSeqHelper.write(e,this.activeMembers),e.writeInt(this.ServerUTCTime),e.writeBool(this.bRoomLocked),c.StringStringMapHelper.write(e,this.confInfo),e.writeBool(this.isBegan),e.writeInt(this.countdown),c.FileServerSeqHelper.write(e,this.fileServers),c.VideoQualitySeqHelper.write(e,this.vqs),c.WINDOW_MODE.__write(e,this.windowMode),e.writeShort(this.mainVideoTermID),c.VIDEOLAYOUTMODE.__write(e,this.vlo),e.writeBool(this.bAllowWall),c.TabID.write(e,this.curMainTab),c.TabID.write(e,this.curSubTab),e.writeBool(this.bFull),c.SYNCMODE.__write(e,this.sm),e.writeShort(this.lastTabValue),e.writeShort(this.lastElemValue),c.WhiteBoardDescribeSeqHelper.write(e,this.wbDescibes)}),(function(e){this.termId=e.readShort(),this.option=e.readInt(),this.myDetail=c.Contact.read(e,this.myDetail),this.modules=c.ModuleDictHelper.read(e),this.activeMembers=c.MemberSeqHelper.read(e),this.ServerUTCTime=e.readInt(),this.bRoomLocked=e.readBool(),this.confInfo=c.StringStringMapHelper.read(e),this.isBegan=e.readBool(),this.countdown=e.readInt(),this.fileServers=c.FileServerSeqHelper.read(e),this.vqs=c.VideoQualitySeqHelper.read(e),this.windowMode=c.WINDOW_MODE.__read(e),this.mainVideoTermID=e.readShort(),this.vlo=c.VIDEOLAYOUTMODE.__read(e),this.bAllowWall=e.readBool(),this.curMainTab=c.TabID.read(e,this.curMainTab),this.curSubTab=c.TabID.read(e,this.curSubTab),this.bFull=e.readBool(),this.sm=c.SYNCMODE.__read(e),this.lastTabValue=e.readShort(),this.lastElemValue=e.readShort(),this.wbDescibes=c.WhiteBoardDescribeSeqHelper.read(e)}),50,!1),c.ConferenceRoom=s.defineObject(void 0,i.Object,[c.ConferenceSessionV4],0,["::Conference::ConferenceRoom","::Conference::ConferenceSessionV4","::Ice::Object"],-1,void 0,void 0,!1),c.ConferenceRoomPrx=s.defineProxy(i.ObjectPrx,c.ConferenceRoom.ice_staticId,[c.ConferenceSessionV4Prx]),s.defineOperations(c.ConferenceRoom,c.ConferenceRoomPrx,{login:[,,,1,,[c.LoginResponse],[[c.LoginRequest]],,[o.ConferenceError],,]}),c.SSLoginRequest=s.defineStruct((function(e,t,n,i,r,o,c,s){this.confKey=void 0!==e?e:"",this.memberId=void 0!==t?t:0,this.memberType=void 0!==n?n:0,this.phoneNum=void 0!==i?i:"",this.callbacks=void 0!==r?r:null,this.accessNo=void 0!==o?o:0,this.PIN=void 0!==c?c:"",this.sessionId=void 0!==s?s:""}),!1,(function(e){e.writeString(this.confKey),e.writeInt(this.memberId),e.writeByte(this.memberType),e.writeString(this.phoneNum),c.ModuleDictHelper.write(e,this.callbacks),e.writeInt(this.accessNo),e.writeString(this.PIN),e.writeString(this.sessionId)}),(function(e){this.confKey=e.readString(),this.memberId=e.readInt(),this.memberType=e.readByte(),this.phoneNum=e.readString(),this.callbacks=c.ModuleDictHelper.read(e),this.accessNo=e.readInt(),this.PIN=e.readString(),this.sessionId=e.readString()}),14,!1),c.SSLoginResponse=s.defineStruct((function(e,t,n,i,r,o,s,a){this.termId=void 0!==e?e:0,this.modules=void 0!==t?t:null,this.actor=void 0!==n?n:0,this.needPIN=void 0!==i&&i,this.PINLen=void 0!==r?r:0,this.currentTermNum=void 0!==o?o:0,this.isBegan=void 0!==s&&s,this.audioStatus=void 0!==a?a:c.ASTATUS.AUNKNOWN}),!1,(function(e){e.writeShort(this.termId),c.ModuleDictHelper.write(e,this.modules),e.writeByte(this.actor),e.writeBool(this.needPIN),e.writeByte(this.PINLen),e.writeInt(this.currentTermNum),e.writeBool(this.isBegan),c.ASTATUS.__write(e,this.audioStatus)}),(function(e){this.termId=e.readShort(),this.modules=c.ModuleDictHelper.read(e),this.actor=e.readByte(),this.needPIN=e.readBool(),this.PINLen=e.readByte(),this.currentTermNum=e.readInt(),this.isBegan=e.readBool(),this.audioStatus=c.ASTATUS.__read(e)}),12,!1),Object.defineProperty(c,"PHASE_ALERTING",{value:0}),Object.defineProperty(c,"PHASE_CONNECT",{value:1}),Object.defineProperty(c,"PHASE_END",{value:2}),Object.defineProperty(c,"END_REASON_NORMAL",{value:0}),Object.defineProperty(c,"END_REASON_NO_ANSWER",{value:1}),Object.defineProperty(c,"END_REASON_REJECT",{value:2}),Object.defineProperty(c,"END_REASON_CONNECT_ERR",{value:3}),Object.defineProperty(c,"END_REASON_USER_BUSY",{value:4}),Object.defineProperty(c,"END_REASON_BALANCE_LESS",{value:5}),c.SoftSwitchUser=s.defineObject(void 0,i.Object,void 0,0,["::Conference::SoftSwitchUser","::Ice::Object"],-1,void 0,void 0,!1),c.SoftSwitchUserPrx=s.defineProxy(i.ObjectPrx,c.SoftSwitchUser.ice_staticId,void 0),s.defineOperations(c.SoftSwitchUser,c.SoftSwitchUserPrx,{login:[,,,1,,[c.SSLoginResponse],[[c.SSLoginRequest]],,[o.ConferenceError],,],callProgress:[,,,1,,,[[3],[3],[7]],,,,]}),c.AAAReport=s.defineObject(void 0,i.Object,void 0,0,["::Conference::AAAReport","::Ice::Object"],-1,void 0,void 0,!1),c.AAAReportPrx=s.defineProxy(i.ObjectPrx,c.AAAReport.ice_staticId,void 0),s.defineOperations(c.AAAReport,c.AAAReportPrx,{callBalanceLess:[,,,1,,,[[7],[7]],,[o.ConferenceError],,]}),s.defineDictionary(c,"IntMemberMap","IntMemberMapHelper","Ice.IntHelper","Conference.Member",!1,void 0,void 0,i.HashMap.compareEquals),c.AllMembersInfo=s.defineStruct((function(e,t){this.sn=void 0!==e?e:0,this.memberMap=void 0!==t?t:null}),!1,(function(e){e.writeLong(this.sn),c.IntMemberMapHelper.write(e,this.memberMap)}),(function(e){this.sn=e.readLong(),this.memberMap=c.IntMemberMapHelper.read(e)}),9,!1),c.ConfDataCenter=s.defineObject(void 0,i.Object,void 0,0,["::Conference::ConfDataCenter","::Ice::Object"],-1,void 0,void 0,!1),c.ConfDataCenterPrx=s.defineProxy(i.ObjectPrx,c.ConfDataCenter.ice_staticId,void 0),s.defineOperations(c.ConfDataCenter,c.ConfDataCenterPrx,{getActiveMembers:[,,,1,,[c.AllMembersInfo],[[7]],,[o.ConferenceError],,]}),c.WebAdmin=s.defineObject(void 0,i.Object,void 0,0,["::Conference::WebAdmin","::Ice::Object"],-1,void 0,void 0,!1),c.WebAdminPrx=s.defineProxy(i.ObjectPrx,c.WebAdmin.ice_staticId,void 0),s.defineOperations(c.WebAdmin,c.WebAdminPrx,{refresInvitees:[,,,1,,,,,[o.ConferenceError],,],refreshOptions:[,,,1,,,,,[o.ConferenceError],,],getConfStatus:[,,,1,,[7],,,,,],callInvite:[,,,1,,,[[7],[7],[1]],,[o.ConferenceError],,],getLiveStream:[,,,1,,["Conference.StringStringMapHelper"],,,[o.ConferenceError],,],requestThirdPartyLiveStreamUrl:[,,,1,,[7],[[3]],,,,],notifyLiveStreamStatus:[,,,1,,,[[3],[3]],,,,],refreshThirdPublishStatus:[,,,1,,,,,,,],startListLive:[,,,1,,[3],[[7]],,[o.ConferenceError],,],stopListLive:[,,,1,,[3],,,,,],notifyRedStatus:[,,,1,,,[[3],[7],[3],[3],[7],[7],[7],[7]],,,,],notifyThumbUp:[,,,1,,,[[3],[3],[3],[7]],,,,],notifypayback:[,,,1,,,[[3],[7]],,,,],swtichLiveAppElements:[,,,1,,,[[3],[2]],,,,],getActiveMembers:[,,,1,,["Conference.MemberSeqHelper"],,,[o.ConferenceError],,],startRtsp:[,,,1,,[7],[[3],[3],[3],[3]],,[o.ConferenceError],,],stopRtsp:[,,,1,,,,,[o.ConferenceError],,],getRtspInfo:[,,,1,,["Conference.StringStringMapHelper"],,,[o.ConferenceError],,],updateRtspContent:[,,,1,,,[[3],[3]],,[o.ConferenceError],,],startNoticeMsg:[,,,1,,,[[c.NoticeInfo]],,,,],kickout:[,,,1,,,[[7]],,[o.ConferenceError],,],sendMsg:[,,,1,,,[[7],[7]],,[o.ConferenceError],,],sendVoteMsg:[,,,1,,,[[7]],,[o.ConferenceError],,],sendVoteMsg2Host:[,,,1,,,[[7]],,[o.ConferenceError],,]}),s.defineDictionary(c,"MemberRights","MemberRightsHelper","Ice.ShortHelper","Conference.ByteListHelper",!1,void 0,void 0,i.ArrayUtil.equals),c.ChangedRights=s.defineStruct((function(e,t,n){this.termId=void 0!==e?e:0,this.addedRights=void 0!==t?t:null,this.reducedRights=void 0!==n?n:null}),!0,(function(e){e.writeShort(this.termId),c.ByteListHelper.write(e,this.addedRights),c.ByteListHelper.write(e,this.reducedRights)}),(function(e){this.termId=e.readShort(),this.addedRights=c.ByteListHelper.read(e),this.reducedRights=c.ByteListHelper.read(e)}),4,!1),s.defineSequence(c,"ChangedRightsSeqHelper","Conference.ChangedRights",!1),Object.defineProperty(c,"INVITE_PREPARE",{value:0}),Object.defineProperty(c,"PSTN_CALLING",{value:1}),Object.defineProperty(c,"PSTN_RING",{value:2}),Object.defineProperty(c,"PSTN_CONNECTED",{value:3}),Object.defineProperty(c,"PSTN_HUNG",{value:4}),Object.defineProperty(c,"PSTN_NO_ANSWER",{value:5}),Object.defineProperty(c,"PSTN_REJECT",{value:6}),Object.defineProperty(c,"PSTN_CONNECT_ERR",{value:7}),Object.defineProperty(c,"PSTN_BUSY",{value:8}),Object.defineProperty(c,"AAA_ACCOUNT_NOT_EXIST",{value:100}),Object.defineProperty(c,"AAA_NO_PERMIT",{value:101}),Object.defineProperty(c,"AAA_BALANCE_NOT_ENOUGH",{value:102}),Object.defineProperty(c,"INV_SMS_FAILED",{value:2}),Object.defineProperty(c,"INV_SMS_SUCCESS",{value:1}),Object.defineProperty(c,"INV_EMAIL_FAILED",{value:2}),Object.defineProperty(c,"INV_EMAIL_SUCCESS",{value:1}),Object.defineProperty(c,"INV_EMAIL_READED",{value:3}),Object.defineProperty(c,"WDT_1V1SUBMT_MONITOR",{value:0}),Object.defineProperty(c,"WDT_1v1SUBMT_CHAT",{value:1}),c.InvitedMember=s.defineStruct((function(e,t,n){this.member=void 0!==e?e:new c.Contact,this.pstnNotice=void 0!==t&&t,this.state=void 0!==n?n:0}),!0,(function(e){c.Contact.write(e,this.member),e.writeBool(this.pstnNotice),e.writeInt(this.state)}),(function(e){this.member=c.Contact.read(e,this.member),this.pstnNotice=e.readBool(),this.state=e.readInt()}),14,!1),s.defineSequence(c,"InvitedMembersHelper","Conference.InvitedMember",!1),c.INVITE_TYPE=s.defineEnum([["TP_CALL",0],["TP_SMS",1],["TP_EMAIL",2]]),s.defineDictionary(c,"InvitedMembersDict","InvitedMembersDictHelper","Conference.INVITE_TYPE.__helper","Conference.InvitedMembersHelper",!1,void 0,void 0,i.ArrayUtil.equals),s.defineDictionary(c,"HistoryMembers","HistoryMembersHelper","Ice.ShortHelper","Conference.Member",!1,void 0,void 0,i.HashMap.compareEquals),s.defineDictionary(c,"HistoryMemberNames","HistoryMemberNamesHelper","Ice.ShortHelper","Ice.StringHelper",!1,void 0,void 0),s.defineDictionary(c,"StatusDict","StatusDictHelper","Ice.StringHelper","Ice.StringHelper",!1,void 0,void 0),s.defineDictionary(c,"BroadCastDict","BroadCastDictHelper","Ice.StringHelper","Ice.StringHelper",!1,void 0,void 0),Object.defineProperty(c,"LD_MEMBER_LOCAL",{value:1}),Object.defineProperty(c,"LD_MEMBER_VIEWER",{value:2}),Object.defineProperty(c,"LD_MEMBER_ALL",{value:3}),c.LDPrize=s.defineStruct((function(e,t){this.prizeName=void 0!==e?e:"",this.prizeCnt=void 0!==t?t:0}),!0,(function(e){e.writeString(this.prizeName),e.writeInt(this.prizeCnt)}),(function(e){this.prizeName=e.readString(),this.prizeCnt=e.readInt()}),5,!1),c.LuckyDrawCfg=s.defineStruct((function(e,t,n,i){this.memberType=void 0!==e?e:0,this.cdTime=void 0!==t?t:0,this.isAutoDraw=void 0!==n&&n,this.prizes=void 0!==i?i:new c.LDPrize}),!0,(function(e){e.writeInt(this.memberType),e.writeInt(this.cdTime),e.writeBool(this.isAutoDraw),c.LDPrize.write(e,this.prizes)}),(function(e){this.memberType=e.readInt(),this.cdTime=e.readInt(),this.isAutoDraw=e.readBool(),this.prizes=c.LDPrize.read(e,this.prizes)}),14,!1),c.LuckyDrawMember=s.defineStruct((function(e,t,n){this.name=void 0!==e?e:"",this.contact=void 0!==t?t:"",this.memberType=void 0!==n?n:0}),!0,(function(e){e.writeString(this.name),e.writeString(this.contact),e.writeInt(this.memberType)}),(function(e){this.name=e.readString(),this.contact=e.readString(),this.memberType=e.readInt()}),6,!1),s.defineSequence(c,"LuckyDrawMembersHelper","Conference.LuckyDrawMember",!1),c.LDMembersCNT=s.defineStruct((function(e,t){this.memberLocalCnt=void 0!==e?e:0,this.memberViewerCnt=void 0!==t?t:0}),!0,(function(e){e.writeInt(this.memberLocalCnt),e.writeInt(this.memberViewerCnt)}),(function(e){this.memberLocalCnt=e.readInt(),this.memberViewerCnt=e.readInt()}),8,!0),c.LuckyResult=s.defineStruct((function(e,t,n){this.prize=void 0!==e?e:new c.LDPrize,this.annouceTime=void 0!==t?t:0,this.res=void 0!==n?n:null}),!0,(function(e){c.LDPrize.write(e,this.prize),e.writeInt(this.annouceTime),c.LuckyDrawMembersHelper.write(e,this.res)}),(function(e){this.prize=c.LDPrize.read(e,this.prize),this.annouceTime=e.readInt(),this.res=c.LuckyDrawMembersHelper.read(e)}),10,!1),c.VoteState=s.defineStruct((function(e,t,n,i,r){this.id=void 0!==e?e:"",this.voteOwner=void 0!==t?t:0,this.state=void 0!==n?n:0,this.voteInfo=void 0!==i?i:"",this.memberVotes=void 0!==r?r:null}),!1,(function(e){e.writeString(this.id),e.writeShort(this.voteOwner),e.writeInt(this.state),e.writeString(this.voteInfo),c.StringStringMapHelper.write(e,this.memberVotes)}),(function(e){this.id=e.readString(),this.voteOwner=e.readShort(),this.state=e.readInt(),this.voteInfo=e.readString(),this.memberVotes=c.StringStringMapHelper.read(e)}),9,!1),c.meetingAttr=s.defineStruct((function(e,t,n){this.value=void 0!==e?e:"",this.lastModifyUserID=void 0!==t?t:"",this.lastModifyTs=void 0!==n?n:0}),!0,(function(e){e.writeString(this.value),e.writeString(this.lastModifyUserID),e.writeInt(this.lastModifyTs)}),(function(e){this.value=e.readString(),this.lastModifyUserID=e.readString(),this.lastModifyTs=e.readInt()}),6,!1),s.defineDictionary(c,"MeetingAttrsMap","MeetingAttrsMapHelper","Ice.StringHelper","Conference.meetingAttr",!1,void 0,void 0,i.HashMap.compareEquals),s.defineDictionary(c,"UserAttrsMap","UserAttrsMapHelper","Ice.StringHelper","Conference.MeetingAttrsMapHelper",!1,void 0,void 0,i.HashMap.compareEquals),s.defineSequence(c,"stringSeqHelper","Ice.StringHelper",!1),c.ConferenceSession=s.defineObject(void 0,i.Object,void 0,0,["::Conference::ConferenceSession","::Ice::Object"],-1,void 0,void 0,!1),c.ConferenceSessionPrx=s.defineProxy(i.ObjectPrx,c.ConferenceSession.ice_staticId,void 0),s.defineOperations(c.ConferenceSession,c.ConferenceSessionPrx,{keepAlive:[,,,1,,,[["Conference.StatusDictHelper"]],,[o.ConferenceError],,],exit:[,,,1,,,[[7]],,,,],setAppStatus:[,,,1,,,[[1]],,[o.ConferenceError],,],changeNickname:[,,,1,,[7],[[2],[7]],,[o.ConferenceError],,],getActiveMembers:[,,,1,,["Conference.MemberSeqHelper"],,,[o.ConferenceError],,],getContacts:[,,,1,,["Conference.ContactTreeHelper"],,,[o.ConferenceError],,],applyDemoActor:[,,,1,,,,,[o.ConferenceError],,],applyAssistantActor:[,,,1,,,,,[o.ConferenceError],,],getOption:[,,,1,,[3],,,[o.ConferenceError],,],getMyDetail:[,,,1,,[c.Contact],,,[o.ConferenceError],,],getInfo:[,,,1,,["Conference.StringStringMapHelper"],,,[o.ConferenceError],,],setAgenda:[,,,1,,,[[7]],,[o.ConferenceError],,],setSubject:[,,,1,,,[[7]],,[o.ConferenceError],,],getPSTNNumber:[,,,1,,[7],,,[o.ConferenceError],,],setPSTNNumber:[,,,1,,,[[7],[1]],,[o.ConferenceError],,],generatePIN:[,,,1,,[7],,,,,],cancelPIN:[,,,1,,,,,,,],changeMemberRights:[,,,1,,,[["Conference.ChangedRightsSeqHelper"]],,[o.ConferenceError],,],getAllMemberRights:[,,,1,,["Conference.MemberRightsHelper"],,,[o.ConferenceError],,],changeOption:[,,,1,,,[[3]],,[o.ConferenceError],,],setDemoActor:[,,,1,,,[[2]],,[o.ConferenceError],,],setHostActor:[,,,1,,,[[2],[7]],,[o.ConferenceError],,],setPSTNHostActor:[,,,1,,,[[c.ContactIdType]],,[o.ConferenceError],,],getPSTNHostActor:[,,,1,,[c.ContactIdType],,,[o.ConferenceError],,],allowDemoActor:[,,,1,,,[[2],[1]],,[o.ConferenceError],,],setAssistantActor:[,,,1,,,[[2],[1]],,[o.ConferenceError],,],getInviteMembers:[,,,1,,["Conference.InvitedMembersDictHelper"],,,[o.ConferenceError],,],getSelfInviteInfo:[,,,1,,[c.InvitedMember],,,[o.ConferenceError],,],addPSTNInvite:[,,,1,,["Conference.ContactIdSeqHelper"],[["Conference.ContactSeqHelper"],[1]],,[o.ConferenceError],,],modifyPSTNInvitee:[,,,1,,,[[c.INVITE_TYPE.__helper],[c.Contact]],,,,],smsInvite:[,,,1,,["Conference.ContactIdSeqHelper"],[["Conference.ContactSeqHelper"]],,[o.ConferenceError],,],callInvite:[,,,1,,["Conference.ContactIdSeqHelper"],[["Conference.ContactSeqHelper"],[1]],,[o.ConferenceError],,],emailInvite:[,,,1,,["Conference.ContactIdSeqHelper"],[["Conference.ContactSeqHelper"]],,[o.ConferenceError],,],removeInvitee:[,,,1,,,[[c.INVITE_TYPE.__helper],[c.Contact]],,[o.ConferenceError],,],cancelCall:[,,,1,,,[[c.ContactIdType]],,,,],callCustomerService:[,,,1,,,,,[o.ConferenceError],,],sendFeedback:[,,,1,,,[[7],[7]],,[o.ConferenceError],,],kickout:[,,,1,,,[[2]],,[o.ConferenceError],,],lockRoom:[,,,1,,,[[1]],,[o.ConferenceError],,],beginConference:[,,,1,,[c.ContactIdType],[[c.Contact]],,[o.ConferenceError],,],endConference:[,,,1,,,,,[o.ConferenceError],,],toggleRoomLock:[,,,1,,,,,[o.ConferenceError],,],broadcastMemberCount:[,,,1,,,,,[o.ConferenceError],,],getMemberCount:[,,,1,,[3],,,[o.ConferenceError],,],getBalance:[,,,1,,,,,[o.ConferenceError],,],cancelCountdown:[,,,1,,,,,[o.ConferenceError],,],getHistoryMembers:[,,,1,,["Conference.HistoryMembersHelper"],[["Ice.ShortSeqHelper"]],,[o.ConferenceError],,],getHistoryMemberNames:[,,,1,,["Conference.HistoryMemberNamesHelper"],,,[o.ConferenceError],,],cancelAutoEnd:[,,,1,,,,,[o.ConferenceError],,],netDetectResults:[,,,1,,,[[3],[1]],,[o.ConferenceError],,],getUserStatus:[,,,1,,["Conference.StringStringMapHelper"],[[2],[3]],,[o.ConferenceError],,],start1v1SubMeeting:[,,,1,,,[[2]],,[o.ConferenceError],,],stop1v1SubMeeting:[,,,1,,,[[2]],,[o.ConferenceError],,],setWDT1v1SubMeetingMode:[,,,1,,,[[3]],,,,],reportIVRStatus:[,,,1,,,[[1]],,,,],startSvrBroadcast:[,,,1,,,[[7]],,[o.ConferenceError],,],startBroadCast:[,,,1,,,,,[o.ConferenceError],,],stopBroadCast:[,,,1,,,,,[o.ConferenceError],,],getBroadCastCfg:[,,,1,,[7],,,[o.ConferenceError],,],getBroadCastUrl:[,,,1,,["Conference.BroadCastDictHelper"],,,,,],enableBroadCastPlayback:[,,,1,,,,,[o.ConferenceError],,],disableBroadCastPlayback:[,,,1,,,[[3]],,[o.ConferenceError],,],setLuckyDrawCfg:[,,,1,,,[[c.LuckyDrawCfg]],,[o.ConferenceError],,],joinLuckyDrawMembers:[,,,1,,,[["Conference.LuckyDrawMembersHelper"],[3]],,[o.ConferenceError],,],clearLuckyDrawMembers:[,,,1,,,[[3]],,[o.ConferenceError],,],queryLuckyDrawMembers:[,,,1,,["Conference.LuckyDrawMembersHelper"],[[3],[2],[3]],,,,],announceLuckyDrawResult:[,,,1,,,,,[o.ConferenceError],,],getLuckyDrawCfg:[,,,1,,[c.LuckyDrawCfg],,,[o.ConferenceError],,],getLuckyDrawMembersStatus:[,,,1,,[c.LDMembersCNT],,,[o.ConferenceError],,],startSvrRecord:[,,,1,,,[[7]],,[o.ConferenceError],,],updateSvrRecCfg:[,,,1,,,[[7]],,[o.ConferenceError],,],stopSvrRecord:[,,,1,,,,,[o.ConferenceError],,],setSvrRecordState:[,,,1,,,[[c.REC_STATE.__helper],[3]],,[o.ConferenceError],,],setSvrRecordFileState:[,,,1,,,[[7]],,,,],setAppUILocked:[,,,1,,,[[3]],,[o.ConferenceError],,],setMcuPrivTaskState:[,,,1,,,[[3]],,[o.ConferenceError],,],beginVote:[,,,1,,,[[7]],,[o.ConferenceError],,],endVote:[,,,1,,,,,[o.ConferenceError],,],publishVoteResult:[,,,1,,,[[7]],,[o.ConferenceError],,],commitVote:[,,,1,,,[[7]],,[o.ConferenceError],,],getVoteState:[,,,1,,[c.VoteState],,,[o.ConferenceError],,],terminalMsg:[,,,1,,,[[7],[7],[3],[1]],,,,],updateSCEP:[,,,1,,,[[7]],,,,],updateSDKToken:[,,,1,,[3],[[7]],,,,],getMeetingAllAttrs:[,,,1,,["Conference.MeetingAttrsMapHelper"],,,[o.ConferenceError],,],getMeetingAttrs:[,,,1,,["Conference.MeetingAttrsMapHelper"],[["Conference.stringSeqHelper"]],,[o.ConferenceError],,],setMeetingAttrs:[,,,1,,,[["Conference.StringStringMapHelper"],[7]],,[o.ConferenceError],,],addOrUpdateMeetingAttrs:[,,,1,,,[["Conference.StringStringMapHelper"],[7]],,[o.ConferenceError],,],delMeetingAttrs:[,,,1,,,[["Conference.stringSeqHelper"],[7]],,[o.ConferenceError],,],clearMeetingAttrs:[,,,1,,,[[7]],,[o.ConferenceError],,],getUserAttrs:[,,,1,,["Conference.UserAttrsMapHelper"],[["Conference.stringSeqHelper"]],,[o.ConferenceError],,],getUserAttrsWithKey:[,,,1,,["Conference.UserAttrsMapHelper"],[["Conference.stringSeqHelper"],["Conference.stringSeqHelper"]],,[o.ConferenceError],,],setUserAttrs:[,,,1,,,[[7],["Conference.StringStringMapHelper"],[7]],,[o.ConferenceError],,],addOrUpdateUserAttrs:[,,,1,,,[[7],["Conference.StringStringMapHelper"],[7]],,[o.ConferenceError],,],delUserAttrs:[,,,1,,,[[7],["Conference.stringSeqHelper"],[7]],,[o.ConferenceError],,],clearAllUserAttrs:[,,,1,,,[[7]],,[o.ConferenceError],,],clearUserAttrs:[,,,1,,,[["Conference.stringSeqHelper"],[7]],,[o.ConferenceError],,],startShare:[,,,1,,,[[7]],,[o.ConferenceError],,],stopShare:[,,,1,,,[[7]],,[o.ConferenceError],,],getWaitingMembers:[,,,1,,["Conference.WaitingMemberSeqHelper"],[[7]],,[o.ConferenceError],,],kickoutFromWaitRoom:[,,,1,,,[[7]],,[o.ConferenceError],,],acceptFromWaitRoom:[,,,1,,,[[7]],,[o.ConferenceError],,],gobackToWaitRoom:[,,,1,,,[[2]],,[o.ConferenceError],,],startCloudRecord:[,,,1,,,[[7],[7]],,,,],stopCloudRecord:[,,,1,,,[[7]],,,,],updateCloudRecord:[,,,1,,,[[7],[7]],,,,],setClodudRecordState:[,,,1,,,[[c.REC_STATE.__helper],[7]],,,,],setClodudRecordFileState:[,,,1,,,[[7]],,,,]}),Object.defineProperty(c,"SVR_NOTIFY_BALANCE_LESS",{value:1}),c.ConferenceCallback=s.defineObject(void 0,i.Object,void 0,0,["::Conference::ConferenceCallback","::Ice::Object"],-1,void 0,void 0,!1),c.ConferenceCallbackPrx=s.defineProxy(i.ObjectPrx,c.ConferenceCallback.ice_staticId,void 0),s.defineOperations(c.ConferenceCallback,c.ConferenceCallbackPrx,{entered:[,,,,,,[[c.Member]],,,,],left:[,,,,,,[[2],[2],[7],[7]],,,,],actorChanged:[,,,,,,[[2],[2],[0]],,,,],nicknameChanged:[,,,,,,[[2],[2],[7]],,,,],optionChanged:[,,,,,,[[3]],,,,],rightChanged:[,,,,,,[[c.ChangedRights]],,,,],roomStateChanged:[,,,,,,[[1]],,,,],inviteStateChanged:[,,,,,,[[c.INVITE_TYPE.__helper],[c.InvitedMember]],,,,],conferenceBegan:[,,,,,,,,,,],conferenceEnded:[,,,,,,[[c.Contact],[7]],,,,],memberCount:[,,,,,,[[3]],,,,],confirmAutoEnd:[,,,,,,[[3]],,,,],autoEndCancelled:[,,,,,,,,,,],roomKnocked:[,,,,,,[[c.Contact],[7]],,,,],agendaUpdated:[,,,,,,[[7]],,,,],subjectUpdated:[,,,,,,[[7]],,,,],notifyApplyDemo:[,,,,,,[[2]],,,,],notifyApplyRejected:[,,,,,,[[2],[2]],,,,],serverNotify:[,,,,,,[[3]],,,,],serverNotifyMsg:[,,,,,,[[7]],,,,],updateAppStatus:[,,,,,,[["Ice.ShortSeqHelper"],["Ice.ShortSeqHelper"]],,,,],notifyAssistantChanged:[,,,,,,[[2],[2],[1]],,,,],notifyNetDetectResults:[,,,,,,[[2],[3],[1]],,,,],notifyReportStatus:[,,,1,,["Conference.StringStringMapHelper"],[[2],[3]],,,,],exeCmd:[,,,1,,[7],[[7]],,,,],notifyStart1v1SubMeeting:[,,,1,,,[[2]],,[o.ConferenceError],,],notifyStop1v1SubMeeting:[,,,,,,[[2]],,,,],notifyStart1v1SubMeetingRslt:[,,,,,,[[2],[1]],,,,],setWDT1v1SubMeetingMode:[,,,,,,[[2],[3]],,,,],notifyIVRStatus:[,,,,,,[[2],[1]],,,,],notifyStartSvrBroadcast:[,,,,,,[[2],[7]],,,,],notifyStartBroadCast:[,,,,,,[[2]],,,,],notifyStopBroadCast:[,,,,,,[[2]],,,,],notifyWebViewerNum:[,,,,,,[[3]],,,,],notifyBroadCastStartPush:[,,,,,,[["Conference.BroadCastDictHelper"]],,,,],notifyBroadCastStopPush:[,,,,,,,,,,],notifyBroadCastPlayback:[,,,,,,[[7]],,,,],notifyBroadCastPlaybackStop:[,,,,,,[[7]],,,,],notifypayback:[,,,,,,,,,,],notifySwtichLiveAppElements:[,,,,,,[[3],[2]],,,,],notifyThumbUp:[,,,,,,[[3],[3],[7]],,,,],notifyLuckyDrawCfg:[,,,,,,[[c.LuckyDrawCfg]],,,,],notifyLDMembersStatus:[,,,,,,[[c.LDMembersCNT]],,,,],notifyLuckyDrawResult:[,,,,,,[[c.LuckyResult]],,,,],notifySvrRecordStateChanged:[,,,,,,[[2],[c.REC_STATE.__helper],[3]],,,,],notifySvrRecordCfgChanged:[,,,,,,[[2],[7]],,,,],notifySvrRecordFileState:[,,,,,,[[7]],,,,],notifySvrBroadcastCfgChanged:[,,,,,,[[2],[7]],,,,],notifyAppUILocked:[,,,,,,[[3]],,,,],notifyBeginVote:[,,,,,,[[2],[7],[7]],,,,],notifyEndVote:[,,,,,,[[2]],,,,],notifyPublishVoteResult:[,,,,,,[[2],[7]],,,,],notifyCommitVote:[,,,,,,[[2],[7]],,,,],notifyTerminalMsg:[,,,,,,[[7],[7],[3],[3]],,,,],notifySCEPChanged:[,,,,,,[[2],[7]],,,,],notifyMeetingAttrsChanged:[,,,,,,[["Conference.MeetingAttrsMapHelper"],["Conference.MeetingAttrsMapHelper"],["Conference.stringSeqHelper"]],,,,],notifyUserAttrsChanged:[,,,,,,[[7],["Conference.MeetingAttrsMapHelper"],["Conference.MeetingAttrsMapHelper"],["Conference.stringSeqHelper"]],,,,],notifyShareStateChanged:[,,,,,,[[7]],,,,],notifyEnterWaitingRoom:[,,,,,,[[c.WaitingMember]],,,,],notifyLeftWaitingRoom:[,,,,,,[[7],[7]],,,,],notifyJoinSubMeeting:[,,,,,,[[2],[7]],,,,],notifyClodudRecordStateChanged:[,,,,,,[[2],[7],[c.REC_STATE.__helper],[7]],,,,],notifyClodudRecordCfgChanged:[,,,,,,[[2],[7],[7]],,,,],notifyClodudRecordFileState:[,,,,,,[[7],[7]],,,,]}),n.Conference=c}(void 0!==i&&void 0!==i.process?r:void 0,void 0!==i&&void 0!==i.process?n(0):d.Ice.__require,void 0!==i&&void 0!==i.process?t:this),function(e,t,n){var i=t("ice").Ice,r=i.__M,o=t("Common/Exception").Common,c=r.require(e,["Control/Conference","Control/PublicTypes"]).Conference,s=i.Slice;c.lockQuesError=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::lockQuesError",void 0,void 0,!1,!1),c.delQuesError=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::delQuesError",void 0,void 0,!1,!1),c.quesNotExistError=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::quesNotExistError",void 0,void 0,!1,!1),c.modifyQuesTypeError=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::modifyQuesTypeError",void 0,void 0,!1,!1),c.QuesType=s.defineStruct((function(e,t,n){this.typeID=void 0!==e?e:"",this.name=void 0!==t?t:"",this.deleted=void 0!==n&&n}),!0,(function(e){e.writeString(this.typeID),e.writeString(this.name),e.writeBool(this.deleted)}),(function(e){this.typeID=e.readString(),this.name=e.readString(),this.deleted=e.readBool()}),3,!1),c.QuesState=s.defineEnum([["Question_NotReply",0],["Question_Replying",1],["Question_NotPublic",2],["Question_Publiced",3],["Question_Deleted",4]]),c.QuesAsk=s.defineStruct((function(e,t,n,i,r){this.typeID=void 0!==e?e:"",this.asktime=void 0!==t?t:0,this.termID=void 0!==n?n:0,this.content=void 0!==i?i:"",this.nickname=void 0!==r?r:""}),!0,(function(e){e.writeString(this.typeID),e.writeInt(this.asktime),e.writeShort(this.termID),e.writeString(this.content),e.writeString(this.nickname)}),(function(e){this.typeID=e.readString(),this.asktime=e.readInt(),this.termID=e.readShort(),this.content=e.readString(),this.nickname=e.readString()}),9,!1),c.QuesDeal=s.defineStruct((function(e,t,n,i,r,o,s,a){this.state=void 0!==e?e:c.QuesState.Question_NotReply,this.replyCon=void 0!==t?t:"",this.replyTermId=void 0!==n?n:0,this.replyTime=void 0!==i?i:0,this.publishTermID=void 0!==r?r:0,this.publishTime=void 0!==o?o:0,this.delTermID=void 0!==s?s:0,this.delTime=void 0!==a?a:0}),!0,(function(e){c.QuesState.__write(e,this.state),e.writeString(this.replyCon),e.writeShort(this.replyTermId),e.writeInt(this.replyTime),e.writeShort(this.publishTermID),e.writeInt(this.publishTime),e.writeShort(this.delTermID),e.writeInt(this.delTime)}),(function(e){this.state=c.QuesState.__read(e),this.replyCon=e.readString(),this.replyTermId=e.readShort(),this.replyTime=e.readInt(),this.publishTermID=e.readShort(),this.publishTime=e.readInt(),this.delTermID=e.readShort(),this.delTime=e.readInt()}),20,!1),c.QuesInf=s.defineStruct((function(e,t,n){this.quesID=void 0!==e?e:0,this.ask=void 0!==t?t:new c.QuesAsk,this.deal=void 0!==n?n:new c.QuesDeal}),!0,(function(e){e.writeInt(this.quesID),c.QuesAsk.write(e,this.ask),c.QuesDeal.write(e,this.deal)}),(function(e){this.quesID=e.readInt(),this.ask=c.QuesAsk.read(e,this.ask),this.deal=c.QuesDeal.read(e,this.deal)}),33,!1),s.defineSequence(c,"QuesListHelper","Conference.QuesInf",!1),s.defineSequence(c,"QuesTypeListHelper","Conference.QuesType",!1),c.AnsQueCallback=s.defineObject(void 0,i.Object,void 0,0,["::Conference::AnsQueCallback","::Ice::Object"],-1,void 0,void 0,!1),c.AnsQueCallbackPrx=s.defineProxy(i.ObjectPrx,c.AnsQueCallback.ice_staticId,void 0),s.defineOperations(c.AnsQueCallback,c.AnsQueCallbackPrx,{askQuesNotify:[,,,,,,[[3],[c.QuesAsk]],,[o.ConferenceError],,],lockQuesNotify:[,,,,,,[[3],[c.QuesDeal]],,[o.ConferenceError],,],replyQuesNotify:[,,,,,,[[3],[c.QuesDeal]],,[o.ConferenceError],,],modifyQuesNotify:[,,,,,,[[3],[c.QuesDeal]],,[o.ConferenceError],,],delQuesNotify:[,,,,,,[[3],[2]],,[o.ConferenceError],,],delAllQuesNotify:[,,,,,,[[2]],,[o.ConferenceError],,],publicQuesNotify:[,,,,,,[[3],[1],[2]],,[o.ConferenceError],,],quesTypeChangeNotify:[,,,,,,[[3],[7]],,[o.ConferenceError],,],modifyQuesTypeNotify:[,,,,,,[[2],["Conference.QuesTypeListHelper"]],,[o.ConferenceError],,],setBroadCastQuesNotify:[,,,,,,[[1]],,[o.ConferenceError],,]}),c.AnsQuesCtrl=s.defineObject(void 0,i.Object,void 0,0,["::Conference::AnsQuesCtrl","::Ice::Object"],-1,void 0,void 0,!1),c.AnsQuesCtrlPrx=s.defineProxy(i.ObjectPrx,c.AnsQuesCtrl.ice_staticId,void 0),s.defineOperations(c.AnsQuesCtrl,c.AnsQuesCtrlPrx,{askQues:[,,,1,,[3],[[c.QuesAsk]],,[o.ConferenceError],,],lockQues:[,,,1,,,[[3],[1]],,[o.ConferenceError],,],replyQues:[,,,1,,,[[3],[c.QuesDeal]],,[o.ConferenceError],,],publicQues:[,,,1,,,[[3],[1]],,[o.ConferenceError],,],modifyQues:[,,,1,,,[[3],[c.QuesDeal]],,[o.ConferenceError],,],delQues:[,,,1,,,[[3]],,[o.ConferenceError],,],delAllQues:[,,,1,,,,,[o.ConferenceError],,],quesTypeChange:[,,,1,,,[[3],[7]],,[o.ConferenceError],,],getQuesList:[,,,1,,["Conference.QuesListHelper"],,,[o.ConferenceError],,],getQuesType:[,,,1,,["Conference.QuesTypeListHelper"],,,[o.ConferenceError],,],modifyQuesType:[,,,1,,,[["Conference.QuesTypeListHelper"]],,[o.ConferenceError],,],setBoradCastQues:[,,,1,,,[[1]],,[o.ConferenceError],,]}),n.Conference=c}(void 0!==i&&void 0!==i.process?r:void 0,void 0!==i&&void 0!==i.process?n(0):d.Ice.__require,void 0!==i&&void 0!==i.process?t:this),function(e,t,n){var i=t("ice").Ice,r=(i.__M,t("Common/Exception").Common),o=t("Control/Conference").Conference,c=i.Slice;o.IMFont=c.defineStruct((function(e,t){this.color=void 0!==e?e:0,this.size=void 0!==t?t:0}),!0,(function(e){e.writeInt(this.color),e.writeByte(this.size)}),(function(e){this.color=e.readInt(),this.size=e.readByte()}),5,!0),o.InIMMsgInfo=c.defineStruct((function(e,t,n,i,r){this.targetTermId=void 0!==e?e:0,this.targetNickname=void 0!==t?t:"",this.font=void 0!==n?n:new o.IMFont,this.msg=void 0!==i?i:"",this.sendTime=void 0!==r?r:0}),!0,(function(e){e.writeShort(this.targetTermId),e.writeString(this.targetNickname),o.IMFont.write(e,this.font),e.writeString(this.msg),e.writeInt(this.sendTime)}),(function(e){this.targetTermId=e.readShort(),this.targetNickname=e.readString(),this.font=o.IMFont.read(e,this.font),this.msg=e.readString(),this.sendTime=e.readInt()}),13,!1),o.OutIMMsgInfo=c.defineStruct((function(e,t,n,i){this.index=void 0!==e?e:0,this.srcTermId=void 0!==t?t:0,this.srcNickname=void 0!==n?n:"",this.inMsg=void 0!==i?i:new o.InIMMsgInfo}),!0,(function(e){e.writeInt(this.index),e.writeShort(this.srcTermId),e.writeString(this.srcNickname),o.InIMMsgInfo.write(e,this.inMsg)}),(function(e){this.index=e.readInt(),this.srcTermId=e.readShort(),this.srcNickname=e.readString(),this.inMsg=o.InIMMsgInfo.read(e,this.inMsg)}),20,!1),c.defineSequence(o,"outMsgListHelper","Conference.OutIMMsgInfo",!1),c.defineSequence(o,"termIDListHelper","Ice.ShortHelper",!0),o.IMCallback=c.defineObject(void 0,i.Object,void 0,0,["::Conference::IMCallback","::Ice::Object"],-1,void 0,void 0,!1),o.IMCallbackPrx=c.defineProxy(i.ObjectPrx,o.IMCallback.ice_staticId,void 0),c.defineOperations(o.IMCallback,o.IMCallbackPrx,{receiveIMMsg:[,,,,,,[[o.OutIMMsgInfo]],,,,],receiveMultiIMMsg:[,,,,,,[["Conference.outMsgListHelper"]],,,,],notifyIMForbidStatus:[,,,,,,[[2],[2],[1]],,,,],notifyClearIMMsg:[,,,,,,[[2]],,,,],notifyDeleteIMMsg:[,,,,,,[[3]],,,,]}),o.IMSession=c.defineObject(void 0,i.Object,void 0,0,["::Conference::IMSession","::Ice::Object"],-1,void 0,void 0,!1),o.IMSessionPrx=c.defineProxy(i.ObjectPrx,o.IMSession.ice_staticId,void 0),c.defineOperations(o.IMSession,o.IMSessionPrx,{getIMMsgCount:[,,,1,,[3],,,,,],getLastMsg:[,,,1,,["Conference.outMsgListHelper"],[[3]],,[r.ConferenceError],,],getLastNMsg:[,,,1,,["Conference.outMsgListHelper"],[[3],[3]],,[r.ConferenceError],,],sendIMMsg:[,,,1,,,[[o.InIMMsgInfo]],,[r.ConferenceError],,],deleteIMMsg:[,,,1,,,[[3]],,[r.ConferenceError],,],getIMForbidList:[,,,1,,["Conference.termIDListHelper"],,,[r.ConferenceError],,],setIMForbidStatus:[,,,1,,,[[2],[1]],,[r.ConferenceError],,],clearIMMsg:[,,,1,,,,,[r.ConferenceError],,],passIMMsg:[,,,1,,[1],[[3]],,[r.ConferenceError],,]}),n.Conference=o}(void 0!==i&&i.process,void 0!==i&&void 0!==i.process?n(0):d.Ice.__require,void 0!==i&&void 0!==i.process?t:this),function(e,t,n){var i=t("ice").Ice,r=(i.__M,t("Common/Exception").Common),o=t("Control/PublicTypes").Conference,c=i.Slice;o.NoResourceForMIC=c.defineUserException((function(e,t,n){r.ConferenceError.call(this,e,t,n)}),r.ConferenceError,"Conference::NoResourceForMIC",void 0,void 0,!1,!1),o.StartRecordError=c.defineUserException((function(e,t,n){r.ConferenceError.call(this,e,t,n)}),r.ConferenceError,"Conference::StartRecordError",void 0,void 0,!1,!1),o.PlayBackGroundMusicFail=c.defineUserException((function(e,t,n){r.ConferenceError.call(this,e,t,n)}),r.ConferenceError,"Conference::PlayBackGroundMusicFail",void 0,void 0,!1,!1),c.defineSequence(o,"MusicListHelper","Ice.StringHelper",!1),c.defineDictionary(o,"TerminalEnergy","TerminalEnergyHelper","Ice.ShortHelper","Ice.IntHelper",!0,void 0,void 0),c.defineSequence(o,"deviceLstHelper","Ice.StringHelper",!1),o.remoteAudio=c.defineStruct((function(e,t,n,i,r,o,c,s){this.inputDevice=void 0!==e?e:"",this.outputDevice=void 0!==t?t:"",this.bMicBoost=void 0!==n&&n,this.hiLevelEC=void 0!==i?i:0,this.outputDType=void 0!==r?r:0,this.echoDelay=void 0!==o?o:0,this.outputVolume=void 0!==c?c:0,this.inputVolume=void 0!==s?s:0}),!0,(function(e){e.writeString(this.inputDevice),e.writeString(this.outputDevice),e.writeBool(this.bMicBoost),e.writeInt(this.hiLevelEC),e.writeInt(this.outputDType),e.writeInt(this.echoDelay),e.writeInt(this.outputVolume),e.writeInt(this.inputVolume)}),(function(e){this.inputDevice=e.readString(),this.outputDevice=e.readString(),this.bMicBoost=e.readBool(),this.hiLevelEC=e.readInt(),this.outputDType=e.readInt(),this.echoDelay=e.readInt(),this.outputVolume=e.readInt(),this.inputVolume=e.readInt()}),23,!1),o.remoteAudioInf=c.defineStruct((function(e,t,n){this.inputDLst=void 0!==e?e:null,this.outputDLst=void 0!==t?t:null,this.remoteInf=void 0!==n?n:new o.remoteAudio}),!0,(function(e){o.deviceLstHelper.write(e,this.inputDLst),o.deviceLstHelper.write(e,this.outputDLst),o.remoteAudio.write(e,this.remoteInf)}),(function(e){this.inputDLst=o.deviceLstHelper.read(e),this.outputDLst=o.deviceLstHelper.read(e),this.remoteInf=o.remoteAudio.read(e,this.remoteInf)}),25,!1),o.AudioCallback=c.defineObject(void 0,i.Object,void 0,0,["::Conference::AudioCallback","::Ice::Object"],-1,void 0,void 0,!1),o.AudioCallbackPrx=c.defineProxy(i.ObjectPrx,o.AudioCallback.ice_staticId,void 0),c.defineOperations(o.AudioCallback,o.AudioCallbackPrx,{updateStatus:[,,,,,,[[2],[2],[o.ASTATUS.__helper]],,,,],updateVoiceEnergy:[,,,,,,[["Conference.TerminalEnergyHelper"]],,,,],updateSpeaker:[,,,,,,[[2]],,,,],closeAll:[,,,,,,[[2]],,,,],playBackgroundMusic:[,,,,,,[[2],[1]],,,,],notifyVoiceHowling:[,,,,,,[[2],[1]],,,,],notifyVoiceNoise:[,,,,,,[[2],[1]],,,,],getRemoteAudioInfNotify:[,,,1,,[o.remoteAudioInf],[[2]],,[r.ConferenceError],,],remoteAudioSetNotify:[,,,,,,[[2],[o.remoteAudio]],,[r.ConferenceError],,],notifyLanLessMicOpen:[,,,,,,,,,,]}),o.AudioCtrl=c.defineObject(void 0,i.Object,void 0,0,["::Conference::AudioCtrl","::Ice::Object"],-1,void 0,void 0,!1),o.AudioCtrlPrx=c.defineProxy(i.ObjectPrx,o.AudioCtrl.ice_staticId,void 0),c.defineOperations(o.AudioCtrl,o.AudioCtrlPrx,{setDeviceStatus:[,,,1,,,[[1]],,[r.ConferenceError],,],askForMic:[,,,1,,,,,[r.ConferenceError],,],openMicEx:[,,,1,,,[[2]],,[r.ConferenceError],,],closeMicEx:[,,,1,,,[[2]],,[r.ConferenceError],,],closeAll:[,,,1,,,,,[r.ConferenceError],,],setVoiceEnergy:[,,,1,,,[[3]],,[r.ConferenceError],,],pstnSwitchMicStatus:[,,,1,,,,,[r.ConferenceError],,],startRecord:[,,,1,,,,,[r.ConferenceError],,],isRecording:[,,,1,,[1],,,[r.ConferenceError],,],stopRecord:[,,,1,,,,,[r.ConferenceError],,],playApplause:[,,,1,,,,,[r.ConferenceError],,],getMusicList:[,,,1,,["Conference.MusicListHelper"],,,[r.ConferenceError],,],getPlayBGMusic:[,,,1,,[7],,,[r.ConferenceError],,],startBGMusic:[,,,1,,,[[7],[3]],,[r.ConferenceError],,],stopPlayBGMusic:[,,,1,,,,,[r.ConferenceError],,],setPlayBGMusicVolumn:[,,,1,,,[[3]],,[r.ConferenceError],,],getPlayBGMusicVolumn:[,,,1,,[3],,,[r.ConferenceError],,],voiceHowling:[,,,1,,,[[1]],,,,],voiceNoise:[,,,1,,,[[1]],,,,],remoteAudioSet:[,,,1,,,[[2],[o.remoteAudio]],,[r.ConferenceError],,],getRemoteAudioInf:[,,,1,,[o.remoteAudioInf],[[2]],,[r.ConferenceError],,]}),n.Conference=o}(void 0!==i&&i.process,void 0!==i&&void 0!==i.process?n(0):d.Ice.__require,void 0!==i&&void 0!==i.process?t:this),function(e,t,n){var i=t("ice").Ice,r=(i.__M,t("Common/Exception").Common),o=t("Control/PublicTypes").Conference,c=i.Slice;Object.defineProperty(o,"FPS_LOW",{value:-1}),Object.defineProperty(o,"FPS_NOR",{value:0}),Object.defineProperty(o,"FPS_HI",{value:1}),Object.defineProperty(o,"VEDIO_LD",{value:-1}),Object.defineProperty(o,"VEDIO_SD",{value:0}),Object.defineProperty(o,"VEDIO_HD",{value:1}),Object.defineProperty(o,"VEDIO_UD",{value:2}),o.VideoSetting=c.defineStruct((function(e,t,n,i,r,o){this.mutiCam=void 0!==e&&e,this.openCamIDs=void 0!==t?t:null,this.denoise=void 0!==n&&n,this.deinterlace=void 0!==i&&i,this.fpsType=void 0!==r?r:0,this.videType=void 0!==o?o:0}),!0,(function(e){e.writeBool(this.mutiCam),i.ShortSeqHelper.write(e,this.openCamIDs),e.writeBool(this.denoise),e.writeBool(this.deinterlace),e.writeInt(this.fpsType),e.writeInt(this.videType)}),(function(e){this.mutiCam=e.readBool(),this.openCamIDs=i.ShortSeqHelper.read(e),this.denoise=e.readBool(),this.deinterlace=e.readBool(),this.fpsType=e.readInt(),this.videType=e.readInt()}),12,!1),o.UsrCamID=c.defineStruct((function(e,t){this.termID=void 0!==e?e:0,this.camID=void 0!==t?t:0}),!0,(function(e){e.writeShort(this.termID),e.writeShort(this.camID)}),(function(e){this.termID=e.readShort(),this.camID=e.readShort()}),4,!0),c.defineSequence(o,"UsrCamIDListHelper","Conference.UsrCamID",!0),o.UsrCamSize=c.defineStruct((function(e,t,n){this.termID=void 0!==e?e:0,this.camID=void 0!==t?t:0,this.VIDEO_SS_value=void 0!==n?n:0}),!0,(function(e){e.writeShort(this.termID),e.writeShort(this.camID),e.writeInt(this.VIDEO_SS_value)}),(function(e){this.termID=e.readShort(),this.camID=e.readShort(),this.VIDEO_SS_value=e.readInt()}),8,!0),c.defineSequence(o,"UsrCamSizeListHelper","Conference.UsrCamSize",!0),Object.defineProperty(o,"ZOOM_TELE",{value:2}),Object.defineProperty(o,"ZOOM_WIDE",{value:3}),Object.defineProperty(o,"ZOOM_STOP",{value:0}),Object.defineProperty(o,"PAN_TILT_DIR_UP",{value:1}),Object.defineProperty(o,"PAN_TILT_DIR_DOWN",{value:2}),Object.defineProperty(o,"PAN_TILT_DIR_LEFT",{value:3}),Object.defineProperty(o,"PAN_TILT_DIR_RIGHT",{value:4}),Object.defineProperty(o,"PAN_TILT_DIR_STOP",{value:5}),o.VideoCallback=c.defineObject(void 0,i.Object,void 0,0,["::Conference::VideoCallback","::Ice::Object"],-1,void 0,void 0,!1),o.VideoCallbackPrx=c.defineProxy(i.ObjectPrx,o.VideoCallback.ice_staticId,void 0),c.defineOperations(o.VideoCallback,o.VideoCallbackPrx,{notifyAllowVideoWall:[,,,,,,[[1],[2]],,,,],updateStatus:[,,,,,,[[2],[o.VSTATUS.__helper],[2]],,,,],notifyOpenVideo:[,,,,,,[[2]],,,,],startVideoByManager:[,,,,,,,,[r.ConferenceError],,],notifyEnableVideo:[,,,,,,[[2],[1],[2]],,,,],updateFocusWindow:[,,,,,,[[o.WINDOW_MODE.__helper],[2]],,,,],updateVLayout:[,,,,,,[[o.VIDEOLAYOUTMODE.__helper],[2]],,,,],updateVLayout2:[,,,,,,[[3],[2]],,,,],updateMainVideoShowMode:[,,,,,,[[3],[2]],,,,],updateVideoListMode:[,,,,,,[[7],[2]],,,,],enableUpload:[,,,,,,[[2],[1]],,,,],enableUpload2:[,,,,,,[[2],[3]],,,,],generateIFrame:[,,,,,,[[2]],,,,],notifyRefuseOpenVideo:[,,,,,,[[2]],,,,],getVideoSetting:[,,,1,,[o.VideoSetting],,,[r.ConferenceError],,],setCamera:[,,,,,,[[o.VideoSetting],[2]],,[r.ConferenceError],,],setCameraById:[,,,,,,[[o.UsrCamID],[2]],,[r.ConferenceError],,],notifyVideoPolling:[,,,,,,[[2],[1],[3]],,[r.ConferenceError],,],notifyPollingVideo:[,,,,,,[[2],["Conference.UsrCamIDListHelper"]],,[r.ConferenceError],,],notifyPollingVideo2:[,,,,,,[[2],["Conference.UsrCamIDListHelper"],[7]],,[r.ConferenceError],,],notifyVideoList:[,,,,,,[[2],[7]],,[r.ConferenceError],,],notifyUpdateAllCameraInfos:[,,,,,,[[2],[7]],,[r.ConferenceError],,],notifySetOpenedCameraNumber:[,,,,,,[[2],["Ice.ShortSeqHelper"]],,[r.ConferenceError],,],notifyStartAdjustDirection:[,,,,,,[[o.UsrCamID],[3]],,,,],notifyStartAdjustZoom:[,,,,,,[[o.UsrCamID],[3]],,,,],notifyStopAdjustDirection:[,,,,,,[[o.UsrCamID]],,,,],notifyStopAdjustZoom:[,,,,,,[[o.UsrCamID]],,,,]}),o.VideoCtrl=c.defineObject(void 0,i.Object,void 0,0,["::Conference::VideoCtrl","::Ice::Object"],-1,void 0,void 0,!1),o.VideoCtrlPrx=c.defineProxy(i.ObjectPrx,o.VideoCtrl.ice_staticId,void 0),c.defineOperations(o.VideoCtrl,o.VideoCtrlPrx,{setDeviceStatus:[,,,1,,,[[1]],,[r.ConferenceError],,],allowVideoWall:[,,,1,,,[[1]],,[r.ConferenceError],,],startVideo:[,,,1,,,,,[r.ConferenceError],,],stopVideo:[,,,1,,,,,[r.ConferenceError],,],reqOpenVideo:[,,,1,,,[[2]],,[r.ConferenceError],,],startVideoEx:[,,,1,,,[[2]],,[r.ConferenceError],,],stopVideoEx:[,,,1,,,[[2]],,[r.ConferenceError],,],enableVideo:[,,,1,,,[[1]],,[r.ConferenceError],,],setFocusWindow:[,,,1,,,[[o.WINDOW_MODE.__helper],[2]],,[r.ConferenceError],,],batchSubscribeVideo:[,,,1,,,[["Conference.UsrCamIDListHelper"],[1]],,[r.ConferenceError],,],batchSubscribeVideo2:[,,,1,,,[["Conference.UsrCamSizeListHelper"]],,[r.ConferenceError],,],subscribeFocusWindow:[,,,1,,,[[1]],,[r.ConferenceError],,],subscribeFocusWindow2:[,,,1,,,[[3]],,[r.ConferenceError],,],setVLayout:[,,,1,,,[[o.VIDEOLAYOUTMODE.__helper]],,[r.ConferenceError],,],setVLayout2:[,,,1,,,[[3]],,[r.ConferenceError],,],setMainVideoShowMode:[,,,1,,,[[3]],,[r.ConferenceError],,],setVideoListMode:[,,,1,,,[[7]],,,,],refuseOpenVideo:[,,,1,,,[[2]],,,,],getVideoSetting:[,,,1,,[o.VideoSetting],[[2]],,[r.ConferenceError],,],setCamera:[,,,1,,,[[2],[o.VideoSetting]],,[r.ConferenceError],,],setCameraById:[,,,1,,,[[o.UsrCamID]],,[r.ConferenceError],,],setVideoPolling:[,,,1,,,[[1],[3]],,[r.ConferenceError],,],updatePollingVideo:[,,,1,,,[["Conference.UsrCamIDListHelper"]],,[r.ConferenceError],,],updatePollingVideo2:[,,,1,,,[["Conference.UsrCamIDListHelper"],[7]],,[r.ConferenceError],,],updateVideoList:[,,,1,,,[[7]],,[r.ConferenceError],,],getVideoPollingState:[,,,1,,[1],,[["Conference.UsrCamIDListHelper"],[3]],[r.ConferenceError],,],updateAllCameraInfos:[,,,1,,,[[7]],,[r.ConferenceError],,],setOpenedCameraNumber:[,,,1,,,[["Ice.ShortSeqHelper"]],,[r.ConferenceError],,],startAdjustDirection:[,,,1,,,[[o.UsrCamID],[3]],,[r.ConferenceError],,],startAdjustZoom:[,,,1,,,[[o.UsrCamID],[3]],,[r.ConferenceError],,],stopAdjustDirection:[,,,1,,,[[o.UsrCamID]],,[r.ConferenceError],,],stopAdjustZoom:[,,,1,,,[[o.UsrCamID]],,[r.ConferenceError],,]}),n.Conference=o}(void 0!==i&&i.process,void 0!==i&&void 0!==i.process?n(0):d.Ice.__require,void 0!==i&&void 0!==i.process?t:this),function(e,t,n){var i=t("ice").Ice,r=(i.__M,t("Common/Exception").Common),o=t("Control/PublicTypes").Conference,c=i.Slice;Object.defineProperty(o,"SSST_SHARING",{value:1}),Object.defineProperty(o,"SSST_MARKING",{value:2}),Object.defineProperty(o,"SSST_PAUSECTRL",{value:4}),Object.defineProperty(o,"SSRE_SOMEONE_REQ",{value:1}),Object.defineProperty(o,"SSRE_REJECT",{value:2}),o.ScreenShareInfo=c.defineStruct((function(e,t,n,i,r,o,c){this.scrSviceProxy=void 0!==e?e:"",this.authKey=void 0!==t?t:"",this.allowCtrlReq=void 0!==n&&n,this.state=void 0!==i?i:0,this.sharer=void 0!==r?r:0,this.controller=void 0!==o?o:0,this.allowOtherMark=void 0!==c&&c}),!0,(function(e){e.writeString(this.scrSviceProxy),e.writeString(this.authKey),e.writeBool(this.allowCtrlReq),e.writeByte(this.state),e.writeShort(this.sharer),e.writeShort(this.controller),e.writeBool(this.allowOtherMark)}),(function(e){this.scrSviceProxy=e.readString(),this.authKey=e.readString(),this.allowCtrlReq=e.readBool(),this.state=e.readByte(),this.sharer=e.readShort(),this.controller=e.readShort(),this.allowOtherMark=e.readBool()}),9,!1),o.MarkData=c.defineStruct((function(e,t,n){this.termid=void 0!==e?e:0,this.color=void 0!==t?t:0,this.mousePosSeq=void 0!==n?n:null}),!0,(function(e){e.writeShort(this.termid),e.writeInt(this.color),o.ByteListHelper.write(e,this.mousePosSeq)}),(function(e){this.termid=e.readShort(),this.color=e.readInt(),this.mousePosSeq=o.ByteListHelper.read(e)}),7,!1),o.MarkDataV4=c.defineStruct((function(e,t,n,i){this.termid=void 0!==e?e:0,this.markid=void 0!==t?t:"",this.type=void 0!==n?n:0,this.mousePosSeq=void 0!==i?i:null}),!0,(function(e){e.writeShort(this.termid),e.writeString(this.markid),e.writeByte(this.type),o.ByteListHelper.write(e,this.mousePosSeq)}),(function(e){this.termid=e.readShort(),this.markid=e.readString(),this.type=e.readByte(),this.mousePosSeq=o.ByteListHelper.read(e)}),5,!1),c.defineSequence(o,"MarkDataSeqHelper","Conference.MarkData",!1),c.defineSequence(o,"MarkDataSeqV4Helper","Conference.MarkDataV4",!1),c.defineSequence(o,"MarkIdSeqHelper","Ice.StringHelper",!1),o.ScreenShareCtrl=c.defineObject(void 0,i.Object,void 0,0,["::Conference::ScreenShareCtrl","::Ice::Object"],-1,void 0,void 0,!1),o.ScreenShareCtrlPrx=c.defineProxy(i.ObjectPrx,o.ScreenShareCtrl.ice_staticId,void 0),c.defineOperations(o.ScreenShareCtrl,o.ScreenShareCtrlPrx,{getScreenShareInfo:[,,,1,,[o.ScreenShareInfo],,,[r.ConferenceError],,],startScreenShare:[,,,1,,,,,[r.ConferenceError],,],stopScreenShare:[,,,1,,,,,[r.ConferenceError],,],setCtrlReqState:[,,,1,,,[[1]],,[r.ConferenceError],,],requestCtrlRight:[,,,1,,,,,[r.ConferenceError],,],cancelCtrlReq:[,,,1,,,,,[r.ConferenceError],,],rejectCtrlReq:[,,,1,,,[[2],[0]],,[r.ConferenceError],,],giveCtrlRight:[,,,1,,,[[2]],,[r.ConferenceError],,],releaseCtrlRight:[,,,1,,,,,[r.ConferenceError],,],ctrlMsg:[,,,1,,,[["Conference.ByteListHelper"]],,[r.ConferenceError],,],tmpSetRemoteCtrlState:[,,,1,,,[[1]],,[r.ConferenceError],,],requestMarked:[,,,1,,,,,[r.ConferenceError],,],cancelMarkedReq:[,,,1,,,,,[r.ConferenceError],,],startMarked:[,,,1,,,,,[r.ConferenceError],,],stopMarked:[,,,1,,,,,[r.ConferenceError],,],enableOtherMarked:[,,,1,,,[[1]],,[r.ConferenceError],,],askForNewIFrame:[,,,1,,,[[3]],,[r.ConferenceError],,],getAllMarkData:[,,,1,,["Conference.MarkDataSeqHelper"],,,[r.ConferenceError],,],sendMarkData:[,,,1,,,[[o.MarkData]],,[r.ConferenceError],,],clearAllMarks:[,,,1,,,,,[r.ConferenceError],,],setIndicator:[,,,1,,,[["Conference.StringStringMapHelper"]],,,,],getAllMarkDataV4:[,,,1,,["Conference.MarkDataSeqV4Helper"],,,[r.ConferenceError],,],sendMarkDataV4:[,,,1,,,[[o.MarkDataV4]],,[r.ConferenceError],,],clearAllMarksV4:[,,,1,,,,,[r.ConferenceError],,],delMarkDataV4:[,,,1,,,[["Conference.MarkIdSeqHelper"]],,[r.ConferenceError],,]}),o.ScreenShareClient=c.defineObject(void 0,i.Object,void 0,0,["::Conference::ScreenShareClient","::Ice::Object"],-1,void 0,void 0,!1),o.ScreenShareClientPrx=c.defineProxy(i.ObjectPrx,o.ScreenShareClient.ice_staticId,void 0),c.defineOperations(o.ScreenShareClient,o.ScreenShareClientPrx,{notifyStartScreenShare:[,,,,,,[[o.ScreenShareInfo]],,,,],notifyStopScreenShare:[,,,,,,[[2]],,,,],notifyCtrlReqState:[,,,,,,[[2],[1]],,[r.ConferenceError],,],notifyRequestCtrlRight:[,,,,,,[[2]],,,,],notifyCancelCtrlReq:[,,,,,,[[2]],,,,],notifyRejectCtrlReq:[,,,,,,[[2],[2],[0]],,,,],notifyGiveCtrlRight:[,,,,,,[[2],[2]],,,,],notifyReleaseCtrlRight:[,,,,,,[[2]],,,,],notifyCtrlMsg:[,,,,,,[[2],["Conference.ByteListHelper"]],,,,],notifyTmpSetRemoteCtrlState:[,,,,,,[[2],[1]],,,,],notifyRequestMarked:[,,,,,,[[2]],,,,],notifyCancelMarkedReq:[,,,,,,[[2]],,,,],notifyStartMarked:[,,,,,,[[2]],,,,],notifyStopMarked:[,,,,,,[[2]],,,,],notifyEnableOtherMarked:[,,,,,,[[2],[1]],,,,],notifyMakeIFrame:[,,,,,,[[3]],,,,],notifyMarkData:[,,,,,,[[o.MarkData]],,,,],notifyClearAllMarks:[,,,,,,,,,,],notifyIndicator:[,,,,,,[[2],["Conference.StringStringMapHelper"]],,,,],notifyClearAllMarksV4:[,,,,,,,,,,],notifyMarkDataV4:[,,,,,,[[o.MarkDataV4]],,,,],notifyDelMarkDataV4:[,,,,,,[["Conference.MarkIdSeqHelper"],[2]],,,,]}),n.Conference=o}(void 0!==i&&i.process,void 0!==i&&void 0!==i.process?n(0):d.Ice.__require,void 0!==i&&void 0!==i.process?t:this),function(e,t,n){var i=t("ice").Ice,r=i.__M,o=t("Common/Exception").Common,c=i.Slice,s=r.module("Conference");s.SameTimeStartMediaError=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::SameTimeStartMediaError",void 0,void 0,!1,!1),s.MEDIA_STATE=c.defineEnum([["MEDIA_START",0],["MEDIA_PAUSE",1],["MEDIA_STOP",2]]),s.MediaInfo=c.defineStruct((function(e,t,n){this.termid=void 0!==e?e:0,this.state=void 0!==t?t:s.MEDIA_STATE.MEDIA_START,this.mediaName=void 0!==n?n:""}),!0,(function(e){e.writeShort(this.termid),s.MEDIA_STATE.__write(e,this.state),e.writeString(this.mediaName)}),(function(e){this.termid=e.readShort(),this.state=s.MEDIA_STATE.__read(e),this.mediaName=e.readString()}),4,!1),s.MediaCallback=c.defineObject(void 0,i.Object,void 0,0,["::Conference::MediaCallback","::Ice::Object"],-1,void 0,void 0,!1),s.MediaCallbackPrx=c.defineProxy(i.ObjectPrx,s.MediaCallback.ice_staticId,void 0),c.defineOperations(s.MediaCallback,s.MediaCallbackPrx,{notifyStartPlayMedia:[,,,,,,[[s.MediaInfo]],,,,],notifyStopPlayMedia:[,,,,,,[[2]],,,,],notifyPausePlayMedia:[,,,,,,[[2],[1]],,,,],notifyMakeIFrame:[,,,,,,,,,,],notifySubscribeMedia:[,,,,,,[[1]],,,,]}),s.MediaCtrl=c.defineObject(void 0,i.Object,void 0,0,["::Conference::MediaCtrl","::Ice::Object"],-1,void 0,void 0,!1),s.MediaCtrlPrx=c.defineProxy(i.ObjectPrx,s.MediaCtrl.ice_staticId,void 0),c.defineOperations(s.MediaCtrl,s.MediaCtrlPrx,{getMediaInfo:[,,,1,,[s.MediaInfo],,,[o.ConferenceError],,],startPlayMedia:[,,,1,,,[[7]],,[o.ConferenceError],,],stopPlayMedia:[,,,1,,,,,[o.ConferenceError],,],pausePlayMedia:[,,,1,,,[[1]],,[o.ConferenceError],,],subscribeMedia:[,,,1,,,[[1]],,[o.ConferenceError],,]}),n.Conference=s}(void 0!==i&&i.process,void 0!==i&&void 0!==i.process?n(0):d.Ice.__require,void 0!==i&&void 0!==i.process?t:this),function(e,t,n){var i=t("ice").Ice,r=(i.__M,t("Common/Exception").Common),o=t("Control/PublicTypes").Conference,c=i.Slice;o.WB_BAKIMG_TYPE=c.defineEnum([["WB_BAKIMG_NULL",0],["WB_BAKIMG_EMF",1],["WB_BAKIMG_JPG",2],["WB_BAKIMG_HTML",3]]),o.WB_ELEMENT_ZPOS=c.defineEnum([["WB_ELEMENT_ZTOP",0],["WB_ELEMENT_ZBOTTOM",1]]),o.ElementID=c.defineStruct((function(e,t){this.ownerID=void 0!==e?e:0,this.ID=void 0!==t?t:0}),!0,(function(e){e.writeShort(this.ownerID),e.writeShort(this.ID)}),(function(e){this.ownerID=e.readShort(),this.ID=e.readShort()}),4,!0),c.defineSequence(o,"ElementIDSeqHelper","Conference.ElementID",!0),o.ElementPos=c.defineStruct((function(e,t,n){this.eID=void 0!==e?e:new o.ElementID,this.left=void 0!==t?t:0,this.top=void 0!==n?n:0}),!0,(function(e){o.ElementID.write(e,this.eID),e.writeInt(this.left),e.writeInt(this.top)}),(function(e){this.eID=o.ElementID.read(e,this.eID),this.left=e.readInt(),this.top=e.readInt()}),12,!0),c.defineSequence(o,"ElementPosSeqHelper","Conference.ElementPos",!0),o.ElementData=c.defineStruct((function(e,t,n,i,r,c,s){this.eID=void 0!==e?e:new o.ElementID,this.orderId=void 0!==t?t:0,this.left=void 0!==n?n:0,this.top=void 0!==i?i:0,this.type=void 0!==r?r:0,this.noused=void 0!==c?c:0,this.data=void 0!==s?s:null}),!0,(function(e){o.ElementID.write(e,this.eID),e.writeInt(this.orderId),e.writeInt(this.left),e.writeInt(this.top),e.writeInt(this.type),e.writeInt(this.noused),i.ByteSeqHelper.write(e,this.data)}),(function(e){this.eID=o.ElementID.read(e,this.eID),this.orderId=e.readInt(),this.left=e.readInt(),this.top=e.readInt(),this.type=e.readInt(),this.noused=e.readInt(),this.data=i.ByteSeqHelper.read(e)}),25,!1),c.defineSequence(o,"ElementSeqHelper","Conference.ElementData",!1),o.IndicatorData=c.defineStruct((function(e,t,n,i,r,o){this.termId=void 0!==e?e:0,this.pageNo=void 0!==t?t:0,this.x=void 0!==n?n:0,this.y=void 0!==i?i:0,this.msg=void 0!==r?r:"",this.lifeSec=void 0!==o?o:0}),!0,(function(e){e.writeInt(this.termId),e.writeInt(this.pageNo),e.writeInt(this.x),e.writeInt(this.y),e.writeString(this.msg),e.writeByte(this.lifeSec)}),(function(e){this.termId=e.readInt(),this.pageNo=e.readInt(),this.x=e.readInt(),this.y=e.readInt(),this.msg=e.readString(),this.lifeSec=e.readByte()}),18,!1),c.defineSequence(o,"IndicatorDataSeqHelper","Conference.IndicatorData",!1),o.PageData=c.defineStruct((function(e,t,n,i){this.pageNo=void 0!==e?e:0,this.imgType=void 0!==t?t:o.WB_BAKIMG_TYPE.WB_BAKIMG_NULL,this.imgResourceID=void 0!==n?n:"",this.elementList=void 0!==i?i:null}),!0,(function(e){e.writeInt(this.pageNo),o.WB_BAKIMG_TYPE.__write(e,this.imgType),e.writeString(this.imgResourceID),o.ElementSeqHelper.write(e,this.elementList)}),(function(e){this.pageNo=e.readInt(),this.imgType=o.WB_BAKIMG_TYPE.__read(e),this.imgResourceID=e.readString(),this.elementList=o.ElementSeqHelper.read(e)}),7,!1),c.defineSequence(o,"PageDataSeqHelper","Conference.PageData",!1),o.WhiteBoardData=c.defineStruct((function(e,t){this.descData=void 0!==e?e:new o.WhiteBoardDescribe,this.pageDataList=void 0!==t?t:null}),!0,(function(e){o.WhiteBoardDescribe.write(e,this.descData),o.PageDataSeqHelper.write(e,this.pageDataList)}),(function(e){this.descData=o.WhiteBoardDescribe.read(e,this.descData),this.pageDataList=o.PageDataSeqHelper.read(e)}),38,!1),c.defineSequence(o,"WhiteBoardDataSeqHelper","Conference.WhiteBoardData",!1),c.defineDictionary(o,"PageToDatas","PageToDatasHelper","Ice.IntHelper","Conference.PageData",!1,void 0,void 0,i.HashMap.compareEquals),o.WBMaxError=c.defineUserException((function(e,t,n){r.ConferenceError.call(this,e,t,n)}),r.ConferenceError,"Conference::WBMaxError",void 0,void 0,!1,!1),o.WBNotExistError=c.defineUserException((function(e,t,n){r.ConferenceError.call(this,e,t,n)}),r.ConferenceError,"Conference::WBNotExistError",void 0,void 0,!1,!1),o.WBElementNoExistError=c.defineUserException((function(e,t,n){r.ConferenceError.call(this,e,t,n)}),r.ConferenceError,"Conference::WBElementNoExistError",void 0,void 0,!1,!1),o.WhiteBoardCtrl=c.defineObject(void 0,i.Object,void 0,0,["::Conference::WhiteBoardCtrl","::Ice::Object"],-1,void 0,void 0,!1),o.WhiteBoardCtrlPrx=c.defineProxy(i.ObjectPrx,o.WhiteBoardCtrl.ice_staticId,void 0),c.defineOperations(o.WhiteBoardCtrl,o.WhiteBoardCtrlPrx,{setContainerSize:[,,,1,,,[[3],[3]],,[r.ConferenceError],,],create:[,,,1,,,[[o.WhiteBoardDescribe]],,[r.ConferenceError],,],importPage:[,,,1,,,[[o.TabID],["Conference.PageDataSeqHelper"]],,[r.ConferenceError],,],close:[,,,1,,,[[o.TabID]],,[r.ConferenceError],,],changeName:[,,,1,,,[[o.TabID],[7]],,[r.ConferenceError],,],changeScale:[,,,1,,,[[o.TabID],[o.WB_SCALE_TYPE.__helper]],,[r.ConferenceError],,],changeRatote:[,,,1,,,[[o.TabID],[o.WB_ROTATE_TYPE.__helper]],,[r.ConferenceError],,],setCurrentPage:[,,,1,,,[[o.TabID],[3],[3],[3]],,[r.ConferenceError],,],showThumPage:[,,,1,,,[[o.TabID],[1]],,[r.ConferenceError],,],addElement:[,,,1,,,[[o.TabID],[3],[o.ElementData]],,[r.ConferenceError],,],addElementEx:[,,,1,,,[[o.TabID],[3],["Conference.ElementSeqHelper"]],,[r.ConferenceError],,],moveElement:[,,,1,,,[[o.TabID],[3],["Conference.ElementPosSeqHelper"]],,[r.ConferenceError],,],modifyElement:[,,,1,,,[[o.TabID],[3],[o.ElementData]],,[r.ConferenceError],,],delElement:[,,,1,,,[[o.TabID],[3],["Conference.ElementIDSeqHelper"]],,[r.ConferenceError],,],setElementZPos:[,,,1,,,[[o.TabID],[3],[o.WB_ELEMENT_ZPOS.__helper]],,[r.ConferenceError],,],setIndicator:[,,,1,,,[[o.TabID],[o.IndicatorData]],,[r.ConferenceError],,],setHotspot:[,,,1,,,[[o.TabID],[3],[3],[3]],,[r.ConferenceError],,],queryIndicator:[,,,1,,["Conference.IndicatorDataSeqHelper"],[[o.TabID]],,[r.ConferenceError],,],queryAllBoardList:[,,,1,,["Conference.WhiteBoardDescribeSeqHelper"],,,[r.ConferenceError],,],queryElementByIDs:[,,,1,,["Conference.PageToDatasHelper"],[[o.TabID],["Ice.IntSeqHelper"]],,[r.ConferenceError],,],queryPageElementByIDs:[,,,1,,["Conference.ElementSeqHelper"],[[o.TabID],[3],["Conference.ElementIDSeqHelper"]],,[r.ConferenceError],,],setMarkTerms:[,,,1,,,[[o.TabID],[1],["Ice.ShortSeqHelper"]],,[r.ConferenceError],,]}),o.WhiteBoardCallback=c.defineObject(void 0,i.Object,void 0,0,["::Conference::WhiteBoardCallback","::Ice::Object"],-1,void 0,void 0,!1),o.WhiteBoardCallbackPrx=c.defineProxy(i.ObjectPrx,o.WhiteBoardCallback.ice_staticId,void 0),c.defineOperations(o.WhiteBoardCallback,o.WhiteBoardCallbackPrx,{notifySetContainerSize:[,,,,,,[[3],[3],[2]],,,,],notifyCreate:[,,,,,,[[o.WhiteBoardDescribe],[2]],,,,],notifyImportPage:[,,,,,,[[o.TabID],["Conference.PageDataSeqHelper"],[2]],,,,],notifyClose:[,,,,,,[[o.TabID],[2]],,,,],notifyChangeName:[,,,,,,[[o.TabID],[7],[2]],,,,],notifyChangeScale:[,,,,,,[[o.TabID],[o.WB_SCALE_TYPE.__helper],[2]],,,,],notifyChangeRotate:[,,,,,,[[o.TabID],[o.WB_ROTATE_TYPE.__helper],[2]],,,,],notifySetCurrentPage:[,,,,,,[[o.TabID],[3],[3],[3],[2]],,,,],notifyShowThumPage:[,,,,,,[[o.TabID],[1],[2]],,,,],notifyAddElement:[,,,,,,[[o.TabID],[3],[o.ElementData],[2]],,,,],notifyAddElementEx:[,,,,,,[[o.TabID],[3],["Conference.ElementSeqHelper"],[2]],,,,],notifyMoveElement:[,,,,,,[[o.TabID],[3],["Conference.ElementPosSeqHelper"],[2]],,,,],notifyModifyElement:[,,,,,,[[o.TabID],[3],[o.ElementData],[2]],,,,],notifyDelElement:[,,,,,,[[o.TabID],[3],["Conference.ElementIDSeqHelper"],[2]],,,,],notifySetElementZPos:[,,,,,,[[o.TabID],[3],[o.WB_ELEMENT_ZPOS.__helper],[2]],,,,],notifySetIndicator:[,,,,,,[[o.TabID],[o.IndicatorData],[2]],,,,],notifySetHotspot:[,,,,,,[[o.TabID],[3],[3],[3],[2]],,,,],notifySetMarkTerms:[,,,,,,[[o.TabID],[1],["Ice.ShortSeqHelper"]],,,,]}),n.Conference=o}(void 0!==i&&i.process,void 0!==i&&void 0!==i.process?n(0):d.Ice.__require,void 0!==i&&void 0!==i.process?t:this),function(e,t,n){var i=t("ice").Ice,r=(i.__M,t("Common/Exception").Common),o=t("Control/PublicTypes").Conference,c=i.Slice;o.SyncCtrlCallback=c.defineObject(void 0,i.Object,void 0,0,["::Conference::SyncCtrlCallback","::Ice::Object"],-1,void 0,void 0,!1),o.SyncCtrlCallbackPrx=c.defineProxy(i.ObjectPrx,o.SyncCtrlCallback.ice_staticId,void 0),c.defineOperations(o.SyncCtrlCallback,o.SyncCtrlCallbackPrx,{notifySetCurrentTab:[,,,,,,[[o.TabID],[o.TabID],[2]],,,,],notifySetFullScreen:[,,,,,,[[1],[2]],,,,],notifySetPrivTabInfo:[,,,,,,[[7],[2]],,,,],notifySetSyncMode:[,,,,,,[[o.SYNCMODE.__helper],[2]],,,,]}),o.SyncCtrl=c.defineObject(void 0,i.Object,void 0,0,["::Conference::SyncCtrl","::Ice::Object"],-1,void 0,void 0,!1),o.SyncCtrlPrx=c.defineProxy(i.ObjectPrx,o.SyncCtrl.ice_staticId,void 0),c.defineOperations(o.SyncCtrl,o.SyncCtrlPrx,{setCurrentTab:[,,,1,,,[[o.TabID],[o.TabID]],,[r.ConferenceError],,],setFullScreen:[,,,1,,,[[1]],,[r.ConferenceError],,],setPrivTabInfo:[,,,1,,,[[7]],,[r.ConferenceError],,],setSyncMode:[,,,1,,,[[o.SYNCMODE.__helper]],,[r.ConferenceError],,],saveLastTabValue:[,,,1,,,[[2]],,[r.ConferenceError],,]}),n.Conference=o}(void 0!==i&&i.process,void 0!==i&&void 0!==i.process?n(0):d.Ice.__require,void 0!==i&&void 0!==i.process?t:this),function(e,t,n){var i=t("ice").Ice,r=i.__M,o=i.Slice,c=r.module("LogSpace");i.LogSpace=c,c.LogLevel=o.defineEnum([["debug",0],["info",1],["warning",2],["error",3]]),c.FatalLogInfo=o.defineStruct((function(e,t,n,i,r,o,c,s){this.version=void 0!==e?e:"",this.conferenceID=void 0!==t?t:0,this.userID=void 0!==n?n:0,this.client=void 0!==i?i:"",this.clientIP=void 0!==r?r:"",this.logDate=void 0!==o?o:"",this.content=void 0!==c?c:"",this.dumpData=void 0!==s?s:null}),!0,(function(e){e.writeString(this.version),e.writeInt(this.conferenceID),e.writeInt(this.userID),e.writeString(this.client),e.writeString(this.clientIP),e.writeString(this.logDate),e.writeString(this.content),i.ByteSeqHelper.write(e,this.dumpData)}),(function(e){this.version=e.readString(),this.conferenceID=e.readInt(),this.userID=e.readInt(),this.client=e.readString(),this.clientIP=e.readString(),this.logDate=e.readString(),this.content=e.readString(),this.dumpData=i.ByteSeqHelper.read(e)}),14,!1),c.AppendData=o.defineStruct((function(e,t,n){this.uuid=void 0!==e?e:"",this.type=void 0!==t?t:"",this.data=void 0!==n?n:null}),!0,(function(e){e.writeString(this.uuid),e.writeString(this.type),i.ByteSeqHelper.write(e,this.data)}),(function(e){this.uuid=e.readString(),this.type=e.readString(),this.data=i.ByteSeqHelper.read(e)}),3,!1),o.defineSequence(c,"AppendDataSeqHelper","LogSpace.AppendData",!1),c.UsrReportInfo=o.defineStruct((function(e,t,n,i,r,o,c,s,a){this.version=void 0!==e?e:"",this.conferenceID=void 0!==t?t:0,this.userID=void 0!==n?n:0,this.client=void 0!==i?i:"",this.clientIP=void 0!==r?r:"",this.reportDate=void 0!==o?o:"",this.contact=void 0!==c?c:"",this.content=void 0!==s?s:"",this.appendDatas=void 0!==a?a:null}),!0,(function(e){e.writeString(this.version),e.writeInt(this.conferenceID),e.writeInt(this.userID),e.writeString(this.client),e.writeString(this.clientIP),e.writeString(this.reportDate),e.writeString(this.contact),e.writeString(this.content),c.AppendDataSeqHelper.write(e,this.appendDatas)}),(function(e){this.version=e.readString(),this.conferenceID=e.readInt(),this.userID=e.readInt(),this.client=e.readString(),this.clientIP=e.readString(),this.reportDate=e.readString(),this.contact=e.readString(),this.content=e.readString(),this.appendDatas=c.AppendDataSeqHelper.read(e)}),15,!1),c.ClientLogServer=o.defineObject(void 0,i.Object,void 0,1,["::Ice::Object","::LogSpace::ClientLogServer"],-1,void 0,void 0,!1),c.ClientLogServerPrx=o.defineProxy(i.ObjectPrx,c.ClientLogServer.ice_staticId,void 0),o.defineOperations(c.ClientLogServer,c.ClientLogServerPrx,{log:[,,,,,,[["Ice.ByteSeqHelper"]],,,,],logFatal:[,,,,,,[[c.FatalLogInfo]],,,,],usrReport:[,,,,,,[[c.UsrReportInfo]],,,,],logDetail:[,,,,,,[[3],[7],["Ice.ByteSeqHelper"]],,,,]}),n.LogSpace=c}(void 0!==i&&i.process,void 0!==i&&void 0!==i.process?n(0):d.Ice.__require,void 0!==i&&void 0!==i.process?t:this),function(e,t,n){var i=t("ice").Ice,r=i.__M,o=i.Slice,c=r.module("NetDiskService");o.defineSequence(c,"DataSeqHelper","Ice.ByteHelper",!0),o.defineSequence(c,"StringSeqHelper","Ice.StringHelper",!1),o.defineDictionary(c,"DataDict","DataDictHelper","Ice.StringHelper","Ice.StringHelper",!1,void 0,void 0),o.defineSequence(c,"DataDictSeqHelper","NetDiskService.DataDictHelper",!1),c.NetDiskException=o.defineUserException((function(e,t,n){i.UserException.call(this,n),this.error=void 0!==e?e:0,this.reason=void 0!==t?t:""}),i.UserException,"NetDiskService::NetDiskException",(function(e){e.writeInt(this.error),e.writeString(this.reason)}),(function(e){this.error=e.readInt(),this.reason=e.readString()}),!1,!1),c.NDSessionBase=o.defineObject(void 0,i.Object,void 0,1,["::Ice::Object","::NetDiskService::NDSessionBase"],-1,void 0,void 0,!1),c.NDSessionBasePrx=o.defineProxy(i.ObjectPrx,c.NDSessionBase.ice_staticId,void 0),o.defineOperations(c.NDSessionBase,c.NDSessionBasePrx,{getSessionTimeout:[,2,2,1,,[3],,,,,],keepAlive:[,2,2,1,,,,,[c.NetDiskException],,],destroy:[,,,1,,,,,,,]}),c.InvalidFileDescriptor=o.defineUserException((function(e,t,n){c.NetDiskException.call(this,e,t,n)}),c.NetDiskException,"NetDiskService::InvalidFileDescriptor",void 0,void 0,!1,!1),c.InvalidUserId=o.defineUserException((function(e,t,n){c.NetDiskException.call(this,e,t,n)}),c.NetDiskException,"NetDiskService::InvalidUserId",void 0,void 0,!1,!1),c.InvalidCompanyId=o.defineUserException((function(e,t,n){c.NetDiskException.call(this,e,t,n)}),c.NetDiskException,"NetDiskService::InvalidCompanyId",void 0,void 0,!1,!1),c.InvalidConfId=o.defineUserException((function(e,t,n){c.NetDiskException.call(this,e,t,n)}),c.NetDiskException,"NetDiskService::InvalidConfId",void 0,void 0,!1,!1),c.InvalidTaskId=o.defineUserException((function(e,t,n){c.NetDiskException.call(this,e,t,n)}),c.NetDiskException,"NetDiskService::InvalidTaskId",void 0,void 0,!1,!1),c.PermissionDenied=o.defineUserException((function(e,t,n){c.NetDiskException.call(this,e,t,n)}),c.NetDiskException,"NetDiskService::PermissionDenied",void 0,void 0,!1,!1),c.InvalidAccessMode=o.defineUserException((function(e,t,n){c.NetDiskException.call(this,e,t,n)}),c.NetDiskException,"NetDiskService::InvalidAccessMode",void 0,void 0,!1,!1),c.TaskIdAlreadyExists=o.defineUserException((function(e,t,n){c.NetDiskException.call(this,e,t,n)}),c.NetDiskException,"NetDiskService::TaskIdAlreadyExists",void 0,void 0,!1,!1),c.InvalidFileName=o.defineUserException((function(e,t,n){c.NetDiskException.call(this,e,t,n)}),c.NetDiskException,"NetDiskService::InvalidFileName",void 0,void 0,!1,!1),c.FileAlreadyExists=o.defineUserException((function(e,t,n){c.NetDiskException.call(this,e,t,n)}),c.NetDiskException,"NetDiskService::FileAlreadyExists",void 0,void 0,!1,!1),c.FdfsFileAlreadyExists=o.defineUserException((function(e,t,n){c.NetDiskException.call(this,e,t,n)}),c.NetDiskException,"NetDiskService::FdfsFileAlreadyExists",void 0,void 0,!1,!1),c.FileBuffering=o.defineUserException((function(e,t,n){c.NetDiskException.call(this,e,t,n)}),c.NetDiskException,"NetDiskService::FileBuffering",void 0,void 0,!1,!1),c.FileOrDirectoryNotExists=o.defineUserException((function(e,t,n){c.NetDiskException.call(this,e,t,n)}),c.NetDiskException,"NetDiskService::FileOrDirectoryNotExists",void 0,void 0,!1,!1),c.InconsistentDataValidation=o.defineUserException((function(e,t,n){c.NetDiskException.call(this,e,t,n)}),c.NetDiskException,"NetDiskService::InconsistentDataValidation",void 0,void 0,!1,!1),c.TransformNotRecord=o.defineUserException((function(e,t,n){c.NetDiskException.call(this,e,t,n)}),c.NetDiskException,"NetDiskService::TransformNotRecord",void 0,void 0,!1,!1),c.TransformNotComplete=o.defineUserException((function(e,t,n){c.NetDiskException.call(this,e,t,n)}),c.NetDiskException,"NetDiskService::TransformNotComplete",void 0,void 0,!1,!1),c.AlreadyTransformExcept=o.defineUserException((function(e,t,n){c.NetDiskException.call(this,e,t,n)}),c.NetDiskException,"NetDiskService::AlreadyTransformExcept",void 0,void 0,!1,!1),c.ProgressTransformExcept=o.defineUserException((function(e,t,n){c.NetDiskException.call(this,e,t,n)}),c.NetDiskException,"NetDiskService::ProgressTransformExcept",void 0,void 0,!1,!1),c.TimeoutTransformExcept=o.defineUserException((function(e,t,n){c.NetDiskException.call(this,e,t,n)}),c.NetDiskException,"NetDiskService::TimeoutTransformExcept",void 0,void 0,!1,!1),c.FSNodeAlreadyExists=o.defineUserException((function(e,t,n){c.NetDiskException.call(this,e,t,n)}),c.NetDiskException,"NetDiskService::FSNodeAlreadyExists",void 0,void 0,!1,!1),c.AlreadyImportExcept=o.defineUserException((function(e,t,n){c.NetDiskException.call(this,e,t,n)}),c.NetDiskException,"NetDiskService::AlreadyImportExcept",void 0,void 0,!1,!1),c.notTransformServer=o.defineUserException((function(e,t,n){c.NetDiskException.call(this,e,t,n)}),c.NetDiskException,"NetDiskService::notTransformServer",void 0,void 0,!1,!1),c.notAvailableTransformServer=o.defineUserException((function(e,t,n){c.NetDiskException.call(this,e,t,n)}),c.NetDiskException,"NetDiskService::notAvailableTransformServer",void 0,void 0,!1,!1),c.ImportSameMd5=o.defineUserException((function(e,t,n){c.NetDiskException.call(this,e,t,n)}),c.NetDiskException,"NetDiskService::ImportSameMd5",void 0,void 0,!1,!1),c.ExceedTheCapacityLimit=o.defineUserException((function(e,t,n){c.NetDiskException.call(this,e,t,n)}),c.NetDiskException,"NetDiskService::ExceedTheCapacityLimit",void 0,void 0,!1,!1),c.NotSupportExcept=o.defineUserException((function(e,t,n){c.NetDiskException.call(this,e,t,n)}),c.NetDiskException,"NetDiskService::NotSupportExcept",void 0,void 0,!1,!1),c.ServerInternalError=o.defineUserException((function(e,t,n){c.NetDiskException.call(this,e,t,n)}),c.NetDiskException,"NetDiskService::ServerInternalError",void 0,void 0,!1,!1),n.NetDiskService=c}(void 0!==i&&i.process,void 0!==i&&void 0!==i.process?n(0):d.Ice.__require,void 0!==i&&void 0!==i.process?t:this),function(e,t,n){var i=t("ice").Ice,r=i.__M,o=i.Slice,c=r.module("FileServer");o.defineSequence(c,"DataSeqHelper","Ice.ByteHelper",!0),o.defineSequence(c,"LongIntArrayHelper","Ice.LongHelper",!0),o.defineSequence(c,"StringListHelper","Ice.StringHelper",!1),o.defineDictionary(c,"OptField","OptFieldHelper","Ice.StringHelper","Ice.StringHelper",!1,void 0,void 0),c.FileType=o.defineEnum([["FT_NORMAL",0],["FT_PROGRAM",1]]),c.FileStatus=o.defineEnum([["FS_UPLOADING",0],["FS_COMPLETE",1]]),c.ConferenceType=o.defineEnum([["CONF_PROVISIONAL",0],["CONF_PERIODIC",1],["CONF_FIXED",2]]),c.PrivilegeAuth=o.defineStruct((function(e,t){this.challengeStr=void 0!==e?e:"",this.accessSecret=void 0!==t?t:""}),!0,(function(e){e.writeString(this.challengeStr),e.writeString(this.accessSecret)}),(function(e){this.challengeStr=e.readString(),this.accessSecret=e.readString()}),2,!1),c.LoginRequest=o.defineStruct((function(e,t,n){this.confId=void 0!==e?e:0,this.termId=void 0!==t?t:0,this.auth=void 0!==n?n:new c.PrivilegeAuth}),!0,(function(e){e.writeLong(this.confId),e.writeShort(this.termId),c.PrivilegeAuth.write(e,this.auth)}),(function(e){this.confId=e.readLong(),this.termId=e.readShort(),this.auth=c.PrivilegeAuth.read(e,this.auth)}),12,!1),c.SessionBase=o.defineObject(void 0,i.Object,void 0,0,["::FileServer::SessionBase","::Ice::Object"],-1,void 0,void 0,!1),c.SessionBasePrx=o.defineProxy(i.ObjectPrx,c.SessionBase.ice_staticId,void 0),o.defineOperations(c.SessionBase,c.SessionBasePrx,{refresh:[,,,,,,,,,,],destroy:[,,,,,,,,,,]}),c.FSExcept=o.defineUserException((function(e,t,n){i.UserException.call(this,n),this.errNo=void 0!==e?e:0,this.errMsg=void 0!==t?t:""}),i.UserException,"FileServer::FSExcept",(function(e){e.writeInt(this.errNo),e.writeString(this.errMsg)}),(function(e){this.errNo=e.readInt(),this.errMsg=e.readString()}),!1,!1),Object.defineProperty(c,"FS_ERROR_UNKNOWN",{value:-1}),c.FSError=o.defineEnum([["FS_OK",0],["FS_REQUEST_TOO_FREQUENT",1],["FS_INVALID_CHALLENGE_STRING",2],["FS_AUTH_FAILED",3],["FS_INVALID_CONFID",4],["FS_INSUFFICIENT_PRIVILEGE",5],["FS_PERMISSION_DENIED",6],["FS_ACCESS_DENIED",7],["FS_DEPLOYMENT_ERROR",8],["FS_APPLICATION_NOT_REGISTRY",9],["FS_FILE_ALREADY_EXISTS",10],["FS_CONFERENCE_NOT_EXISTS",11],["FS_NO_ENOUGH_DISK_SPACE",12],["FS_INVALID_TERMID",13],["FS_PUSHTASK_ALREADY_EXISTS",14],["FS_INVALID_PUSHID",15],["FS_PUSHTASK_ALREADY_CANCEL",16],["FS_CONF_DISK_SPACE_LIMIT_EXCEEDED",17],["FS_INCONSISTENT_DATA_VALIDATION",18],["FS_FILE_NOT_EXISTS",19],["FS_FILE_ALREADY_DELETE",20],["FS_FILE_ALREADY_UPDATE",21],["FS_REJECT_BY_FLOW_CONTROL",22],["FS_CONVERT_TASK_NOT_EXISTS",23],["FS_CONVERT_TASK_ERROR",24]]),c.DocConversionException=o.defineUserException((function(e,t,n){c.FSExcept.call(this,e,t,n)}),c.FSExcept,"FileServer::DocConversionException",void 0,void 0,!1,!1),Object.defineProperty(c,"FS_FC_LEVEL_0",{value:0}),Object.defineProperty(c,"FS_FC_LEVEL_MAX",{value:50}),c.FSFlowCtrlData=o.defineStruct((function(e,t,n,i,r){this.lv=void 0!==e?e:0,this.confTotal=void 0!==t?t:0,this.clientTotal=void 0!==n?n:0,this.bandwith=void 0!==i?i:0,this.requestPerSec=void 0!==r?r:0}),!0,(function(e){e.writeInt(this.lv),e.writeInt(this.confTotal),e.writeInt(this.clientTotal),e.writeInt(this.bandwith),e.writeInt(this.requestPerSec)}),(function(e){this.lv=e.readInt(),this.confTotal=e.readInt(),this.clientTotal=e.readInt(),this.bandwith=e.readInt(),this.requestPerSec=e.readInt()}),20,!0),n.FileServer=c}(void 0!==i&&i.process,void 0!==i&&void 0!==i.process?n(0):d.Ice.__require,void 0!==i&&void 0!==i.process?t:this),function(e,t,n){var i=t("ice").Ice,r=(i.__M,t("NetDisk/NDCommon").NetDiskService),o=i.Slice;r.StatInfo=o.defineStruct((function(e,t,n,i,r,o){this.name=void 0!==e?e:"",this.path=void 0!==t?t:"",this.md5=void 0!==n?n:"",this.size=void 0!==i?i:0,this.ctime=void 0!==r?r:"",this.attributes=void 0!==o?o:null}),!1,(function(e){e.writeString(this.name),e.writeString(this.path),e.writeString(this.md5),e.writeLong(this.size),e.writeString(this.ctime),r.DataDictHelper.write(e,this.attributes)}),(function(e){this.name=e.readString(),this.path=e.readString(),this.md5=e.readString(),this.size=e.readLong(),this.ctime=e.readString(),this.attributes=r.DataDictHelper.read(e)}),13,!1),o.defineSequence(r,"FileNodeSeqHelper","NetDiskService.StatInfo",!1),o.defineSequence(r,"DirNodeSeqHelper","Ice.ObjectHelper",!1,"NetDiskService.DirNode"),r.DirNode=o.defineObject((function(e,t,n,r,o){i.Object.call(this),this.name=void 0!==e?e:"",this.path=void 0!==t?t:"/",this.attributes=void 0!==n?n:null,this.subDirs=void 0!==r?r:null,this.files=void 0!==o?o:null}),i.Object,void 0,1,["::Ice::Object","::NetDiskService::DirNode"],-1,(function(e){e.writeString(this.name),e.writeString(this.path),r.DataDictHelper.write(e,this.attributes),r.DirNodeSeqHelper.write(e,this.subDirs),r.FileNodeSeqHelper.write(e,this.files)}),(function(e){this.name=e.readString(),this.path=e.readString(),this.attributes=r.DataDictHelper.read(e),this.subDirs=r.DirNodeSeqHelper.read(e),this.files=r.FileNodeSeqHelper.read(e)}),!1),r.DirNodePrx=o.defineProxy(i.ObjectPrx,r.DirNode.ice_staticId,void 0),o.defineOperations(r.DirNode,r.DirNodePrx),r.ConvertStauts=o.defineStruct((function(e,t,n){this.status=void 0!==e?e:0,this.fileList=void 0!==t?t:null,this.attributes=void 0!==n?n:null}),!1,(function(e){e.writeInt(this.status),r.StringSeqHelper.write(e,this.fileList),r.DataDictHelper.write(e,this.attributes)}),(function(e){this.status=e.readInt(),this.fileList=r.StringSeqHelper.read(e),this.attributes=r.DataDictHelper.read(e)}),6,!1),r.DocData=o.defineStruct((function(e,t,n,i,r){this.owern_id=void 0!==e?e:0,this.owner_type=void 0!==t?t:"",this.name=void 0!==n?n:"",this.attributes=void 0!==i?i:null,this.pageDataList=void 0!==r?r:null}),!1,(function(e){e.writeInt(this.owern_id),e.writeString(this.owner_type),e.writeString(this.name),r.DataDictHelper.write(e,this.attributes),r.FileNodeSeqHelper.write(e,this.pageDataList)}),(function(e){this.owern_id=e.readInt(),this.owner_type=e.readString(),this.name=e.readString(),this.attributes=r.DataDictHelper.read(e),this.pageDataList=r.FileNodeSeqHelper.read(e)}),8,!1),o.defineSequence(r,"DocDataSeqHelper","NetDiskService.DocData",!1),n.NetDiskService=r}(void 0!==i&&i.process,void 0!==i&&void 0!==i.process?n(0):d.Ice.__require,void 0!==i&&void 0!==i.process?t:this),function(e,t,n){var i=t("ice").Ice,r=(i.__M,t("NetDisk/NDCommon").NetDiskService),o=i.Slice;r.FSIOSession=o.defineObject(void 0,i.Object,[r.NDSessionBase],1,["::Ice::Object","::NetDiskService::FSIOSession","::NetDiskService::NDSessionBase"],-1,void 0,void 0,!1),r.FSIOSessionPrx=o.defineProxy(i.ObjectPrx,r.FSIOSession.ice_staticId,[r.NDSessionBasePrx]),o.defineOperations(r.FSIOSession,r.FSIOSessionPrx,{write:[,,,1,,,[[4],["NetDiskService.DataSeqHelper"]],,[r.NetDiskException],,],read:[,,,1,,,[[4],[4]],[["NetDiskService.DataSeqHelper"]],[r.NetDiskException],,],getFileSize:[,,,1,,[4],,,[r.NetDiskException],,],getServerNo:[,,,1,,[3],,,[r.NetDiskException],,]}),o.defineSequence(r,"FSIOSessionProxySeqHelper","NetDiskService.FSIOSessionPrx",!1),r.FileStorageGateway=o.defineObject(void 0,i.Object,void 0,1,["::Ice::Object","::NetDiskService::FileStorageGateway"],-1,void 0,void 0,!1),r.FileStorageGatewayPrx=o.defineProxy(i.ObjectPrx,r.FileStorageGateway.ice_staticId,void 0),o.defineOperations(r.FileStorageGateway,r.FileStorageGatewayPrx,{createFSIOSession:[,,,1,,["NetDiskService.FSIOSessionPrx"],[[7],[7],[7]],,[r.NetDiskException],,],fileUploadCompleted:[,,,1,,[7],[[7],[1]],,[r.NetDiskException],,],cacheFile:[,,,1,,,[[7],[7]],,[r.NetDiskException],,],deleteFileList:[,,,1,,,[["NetDiskService.StringSeqHelper"]],,[r.NetDiskException],,]}),o.defineSequence(r,"FSGatewayProxySeqHelper","NetDiskService.FileStorageGatewayPrx",!1),r.FileStorageGatewayStat=o.defineStruct((function(e,t,n){this.servNo=void 0!==e?e:0,this.id=void 0!==t?t:"",this.proxy=void 0!==n?n:null}),!1,(function(e){e.writeInt(this.servNo),e.writeString(this.id),r.FileStorageGatewayPrx.write(e,this.proxy)}),(function(e){this.servNo=e.readInt(),this.id=e.readString(),this.proxy=r.FileStorageGatewayPrx.read(e,this.proxy)}),7,!1),r.FileStorageGatewayKeepAliveSession=o.defineObject(void 0,i.Object,[r.NDSessionBase],1,["::Ice::Object","::NetDiskService::FileStorageGatewayKeepAliveSession","::NetDiskService::NDSessionBase"],-1,void 0,void 0,!1),r.FileStorageGatewayKeepAliveSessionPrx=o.defineProxy(i.ObjectPrx,r.FileStorageGatewayKeepAliveSession.ice_staticId,[r.NDSessionBasePrx]),o.defineOperations(r.FileStorageGatewayKeepAliveSession,r.FileStorageGatewayKeepAliveSessionPrx,{updateStat:[,,,1,,,[[r.FileStorageGatewayStat]],,[r.NetDiskException],,]}),r.NDFileStorageGateway=o.defineObject(void 0,i.Object,void 0,1,["::Ice::Object","::NetDiskService::NDFileStorageGateway"],-1,void 0,void 0,!1),r.NDFileStorageGatewayPrx=o.defineProxy(i.ObjectPrx,r.NDFileStorageGateway.ice_staticId,void 0),o.defineOperations(r.NDFileStorageGateway,r.NDFileStorageGatewayPrx,{registerFSGW:[,,,1,,["NetDiskService.FileStorageGatewayKeepAliveSessionPrx"],[[r.FileStorageGatewayStat]],,[r.NetDiskException],,]}),n.NetDiskService=r}(void 0!==i&&i.process,void 0!==i&&void 0!==i.process?n(0):d.Ice.__require,void 0!==i&&void 0!==i.process?t:this),function(e,t,n){var i=t("ice").Ice,r=i.__M,o=t("FileServer/FSCommon").FileServer,c=t("NetDisk/NDFilesystem").NetDiskService,s=i.Slice,a=r.module("DocConverter");s.defineSequence(a,"StringListHelper","Ice.StringHelper",!1),a.DocConverterException=s.defineUserException((function(e,t,n){i.UserException.call(this,n),this.error=void 0!==e?e:0,this.reason=void 0!==t?t:""}),i.UserException,"DocConverter::DocConverterException",(function(e){e.writeInt(this.error),e.writeString(this.reason)}),(function(e){this.error=e.readInt(),this.reason=e.readString()}),!1,!1),a.TaskNotExistException=s.defineUserException((function(e,t,n){a.DocConverterException.call(this,e,t,n)}),a.DocConverterException,"DocConverter::TaskNotExistException",void 0,void 0,!1,!1),a.ConversionException=s.defineUserException((function(e,t,n){a.DocConverterException.call(this,e,t,n)}),a.DocConverterException,"DocConverter::ConversionException",void 0,void 0,!1,!1),a.ConversionModuleException=s.defineUserException((function(e,t,n){a.DocConverterException.call(this,e,t,n)}),a.DocConverterException,"DocConverter::ConversionModuleException",void 0,void 0,!1,!1),a.TaskState=s.defineEnum([["PENDING",0],["DOWNLOADING",1],["CONVERTING",2],["UPLOADING",3],["DONE",4]]),s.defineDictionary(a,"ParamDict","ParamDictHelper","Ice.StringHelper","Ice.StringHelper",!1,void 0,void 0),a.DocConvertRequest=s.defineStruct((function(e,t,n,i,r,c,s,a){this.confId=void 0!==e?e:0,this.ownerId=void 0!==t?t:0,this.fileName=void 0!==n?n:"",this.md5=void 0!==i?i:"",this.fType=void 0!==r?r:o.FileType.FT_NORMAL,this.size=void 0!==c?c:0,this.originSize=void 0!==s?s:0,this.param=void 0!==a?a:null}),!1,(function(e){e.writeInt(this.confId),e.writeShort(this.ownerId),e.writeString(this.fileName),e.writeString(this.md5),o.FileType.__write(e,this.fType),e.writeLong(this.size),e.writeLong(this.originSize),a.ParamDictHelper.write(e,this.param)}),(function(e){this.confId=e.readInt(),this.ownerId=e.readShort(),this.fileName=e.readString(),this.md5=e.readString(),this.fType=o.FileType.__read(e),this.size=e.readLong(),this.originSize=e.readLong(),this.param=a.ParamDictHelper.read(e)}),26,!1),a.DocConvertResponse=s.defineStruct((function(e,t,n,i){this.rsltType=void 0!==e?e:0,this.width=void 0!==t?t:0,this.height=void 0!==n?n:0,this.fileList=void 0!==i?i:null}),!0,(function(e){e.writeInt(this.rsltType),e.writeInt(this.width),e.writeInt(this.height),a.StringListHelper.write(e,this.fileList)}),(function(e){this.rsltType=e.readInt(),this.width=e.readInt(),this.height=e.readInt(),this.fileList=a.StringListHelper.read(e)}),13,!1),a.FSConverter=s.defineObject(void 0,i.Object,void 0,0,["::DocConverter::FSConverter","::Ice::Object"],-1,void 0,void 0,!1),a.FSConverterPrx=s.defineProxy(i.ObjectPrx,a.FSConverter.ice_staticId,void 0),s.defineOperations(a.FSConverter,a.FSConverterPrx,{convert:[,,,1,,[7],[[a.DocConvertRequest]],,[a.DocConverterException],,],getTaskState:[,,,1,,[a.TaskState.__helper],[[7]],[[a.DocConvertResponse]],[a.DocConverterException],,],cancelTask:[,,,1,,,[[7]],,[a.DocConverterException],,]}),a.NDConverter=s.defineObject(void 0,i.Object,void 0,0,["::DocConverter::NDConverter","::Ice::Object"],-1,void 0,void 0,!1),a.NDConverterPrx=s.defineProxy(i.ObjectPrx,a.NDConverter.ice_staticId,void 0),s.defineOperations(a.NDConverter,a.NDConverterPrx,{convert:[,,,1,,[7],[[c.StatInfo]],,[a.DocConverterException],,],cancelTask:[,,,1,,,[[7]],,[a.DocConverterException],,]}),n.DocConverter=a}(void 0!==i&&i.process,void 0!==i&&void 0!==i.process?n(0):d.Ice.__require,void 0!==i&&void 0!==i.process?t:this),function(e,t,n){var i=t("ice").Ice,r=i.__M,o=t("DocConverter/DocConverter").DocConverter,c=(t("FileServer/FSCommon").FileServer,r.require(e,["NetDisk/FileStorageGateway","NetDisk/NDFilesystem","NetDisk/NDCommon"]).NetDiskService),s=i.Slice;c.NDSession=s.defineObject(void 0,i.Object,[c.NDSessionBase],1,["::Ice::Object","::NetDiskService::NDSession","::NetDiskService::NDSessionBase"],-1,void 0,void 0,!1),c.NDSessionPrx=s.defineProxy(i.ObjectPrx,c.NDSession.ice_staticId,[c.NDSessionBasePrx]),s.defineOperations(c.NDSession,c.NDSessionPrx,{listDirTree:[,2,2,1,,["NetDiskService.DirNode",!0],[[7]],,[c.NetDiskException],,!0],listDir:[,2,2,1,,["NetDiskService.DirNode",!0],[[7]],,[c.NetDiskException],,!0],mkdir:[,,,1,,,[[7]],,[c.NetDiskException],,],renameFile:[,,,1,,,[[7],[7]],,[c.NetDiskException],,],renameDir:[,,,1,,,[[7],[7]],,[c.NetDiskException],,],deleteFile:[,,,1,,,[[7]],,[c.NetDiskException],,],deleteDir:[,,,1,,,[[7]],,[c.NetDiskException],,],stat:[,,,1,,[c.StatInfo],[[7]],,[c.NetDiskException],,],getSummary:[,,,1,,,,[["NetDiskService.DataDictHelper"]],[c.NetDiskException],,],beginUpload:[,,,1,,,[[c.StatInfo]],[[7],["NetDiskService.FSGatewayProxySeqHelper"]],[c.NetDiskException],,],endUpload:[,,,1,,,[[7],[7]],,[c.NetDiskException],,],beginDownload:[,,,1,,,[[7]],[["NetDiskService.FSGatewayProxySeqHelper"]],[c.NetDiskException],,],convert:[,,,1,,[7],[[7],["NetDiskService.DataDictHelper"],["NetDiskService.FSIOSessionPrx"]],,[o.DocConverterException,c.NetDiskException],,],getConvertStatus:[,,,1,,[c.ConvertStauts],[[7]],,[o.DocConverterException,c.NetDiskException],,],updateFileAttr:[,,,1,,,[[7],["NetDiskService.DataDictHelper"]],,[c.NetDiskException],,],getHttpUrl:[,2,2,1,,["NetDiskService.StringSeqHelper"],[[7]],,[c.NetDiskException],,]}),c.NDUserSession=s.defineObject(void 0,i.Object,[c.NDSession],3,["::Ice::Object","::NetDiskService::NDSession","::NetDiskService::NDSessionBase","::NetDiskService::NDUserSession"],-1,void 0,void 0,!1),c.NDUserSessionPrx=s.defineProxy(i.ObjectPrx,c.NDUserSession.ice_staticId,[c.NDSessionPrx]),s.defineOperations(c.NDUserSession,c.NDUserSessionPrx,{import2Conf:[,,,1,,,[[7],[3],["NetDiskService.DataDictHelper"]],,[c.NetDiskException],,],import2ConfDD:[,,,1,,["NetDiskService.DataDictHelper"],[[7],[3],["NetDiskService.DataDictHelper"]],,[c.NetDiskException],,],save2CompanyNetDisk:[,,,1,,,[[7],[7],["NetDiskService.DataDictHelper"]],,[c.NetDiskException],,]}),c.NDCompanySession=s.defineObject(void 0,i.Object,[c.NDSession],1,["::Ice::Object","::NetDiskService::NDCompanySession","::NetDiskService::NDSession","::NetDiskService::NDSessionBase"],-1,void 0,void 0,!1),c.NDCompanySessionPrx=s.defineProxy(i.ObjectPrx,c.NDCompanySession.ice_staticId,[c.NDSessionPrx]),s.defineOperations(c.NDCompanySession,c.NDCompanySessionPrx,{import2Conf:[,,,1,,,[[7],[3],["NetDiskService.DataDictHelper"]],,[c.NetDiskException],,],import2ConfDD:[,,,1,,["NetDiskService.DataDictHelper"],[[7],[3],["NetDiskService.DataDictHelper"]],,[c.NetDiskException],,],save2UserNetDisk:[,,,1,,,[[3],[7],[7],["NetDiskService.DataDictHelper"]],,[c.NetDiskException],,]}),c.NDConfSession=s.defineObject(void 0,i.Object,[c.NDSession],1,["::Ice::Object","::NetDiskService::NDConfSession","::NetDiskService::NDSession","::NetDiskService::NDSessionBase"],-1,void 0,void 0,!1),c.NDConfSessionPrx=s.defineProxy(i.ObjectPrx,c.NDConfSession.ice_staticId,[c.NDSessionPrx]),s.defineOperations(c.NDConfSession,c.NDConfSessionPrx,{getConvertList:[,,,1,,["NetDiskService.DocDataSeqHelper"],,,[c.NetDiskException],,]}),c.NDConvertSession=s.defineObject(void 0,i.Object,[c.NDSession],1,["::Ice::Object","::NetDiskService::NDConvertSession","::NetDiskService::NDSession","::NetDiskService::NDSessionBase"],-1,void 0,void 0,!1),c.NDConvertSessionPrx=s.defineProxy(i.ObjectPrx,c.NDConvertSession.ice_staticId,[c.NDSessionPrx]),s.defineOperations(c.NDConvertSession,c.NDConvertSessionPrx,{docConvertStateNotice:[,2,2,1,,,[[7],[3],["NetDiskService.DataDictHelper"]],,[c.NetDiskException],,]}),c.NDClient=s.defineObject(void 0,i.Object,void 0,1,["::Ice::Object","::NetDiskService::NDClient"],-1,void 0,void 0,!1),c.NDClientPrx=s.defineProxy(i.ObjectPrx,c.NDClient.ice_staticId,void 0),s.defineOperations(c.NDClient,c.NDClientPrx,{createUserSession:[,,,1,,["NetDiskService.NDUserSessionPrx"],[[3],[7]],,[c.NetDiskException],,],createCompanySession:[,,,1,,["NetDiskService.NDCompanySessionPrx"],[[3],[7]],,[c.NetDiskException],,],createConfSession:[,,,1,,["NetDiskService.NDConfSessionPrx"],[[3],[7]],,[c.NetDiskException],,],createConvertSession:[,,,1,,["NetDiskService.NDConvertSessionPrx"],[[3],[7]],,[c.NetDiskException],,]}),c.NetDisk=s.defineObject(void 0,i.Object,void 0,1,["::Ice::Object","::NetDiskService::NetDisk"],-1,void 0,void 0,!1),c.NetDiskPrx=s.defineProxy(i.ObjectPrx,c.NetDisk.ice_staticId,void 0),s.defineOperations(c.NetDisk,c.NetDiskPrx,{createUserNetDisk:[,,,1,,,[[3]],,[c.NetDiskException],,],deleteUserNetDisk:[,2,2,1,,,[[3]],,[c.NetDiskException],,],createCompanyNetDisk:[,,,1,,,[[3],[7]],,[c.NetDiskException],,],deleteCompanyNetDisk:[,2,2,1,,,[[3]],,[c.NetDiskException],,],setCompanyNDAuthToken:[,2,2,1,,,[[3],[7]],,[c.NetDiskException],,],createConfNetDisk:[,,,1,,,[[3],[7]],,[c.NetDiskException],,],deleteConfNetDisk:[,2,2,1,,,[[3]],,[c.NetDiskException],,],setConfNDAuthToken:[,2,2,1,,,[[3],[7]],,[c.NetDiskException],,],clean:[,2,2,1,,,,,[c.NetDiskException],,]}),n.NetDiskService=c}(void 0!==i&&void 0!==i.process?r:void 0,void 0!==i&&void 0!==i.process?n(0):d.Ice.__require,void 0!==i&&void 0!==i.process?t:this),function(e,t,n){var i=t("ice").Ice,r=i.__M,o=i.Slice,c=r.module("Resm");c.ResmError=o.defineUserException((function(e,t,n){i.UserException.call(this,n),this.error=void 0!==e?e:0,this.reason=void 0!==t?t:""}),i.UserException,"Resm::ResmError",(function(e){e.writeInt(this.error),e.writeString(this.reason)}),(function(e){this.error=e.readInt(),this.reason=e.readString()}),!1,!1),c.ServerIdNotConfiger=o.defineUserException((function(e,t,n){c.ResmError.call(this,e,t,n)}),c.ResmError,"Resm::ServerIdNotConfiger",void 0,void 0,!1,!1),c.ServerNotEnable=o.defineUserException((function(e,t,n){c.ResmError.call(this,e,t,n)}),c.ResmError,"Resm::ServerNotEnable",void 0,void 0,!1,!1),c.NotAddedToService=o.defineUserException((function(e,t,n){c.ResmError.call(this,e,t,n)}),c.ResmError,"Resm::NotAddedToService",void 0,void 0,!1,!1),c.NoServerAvailable=o.defineUserException((function(e,t,n){c.ResmError.call(this,e,t,n)}),c.ResmError,"Resm::NoServerAvailable",void 0,void 0,!1,!1),c.NotConnected2Db=o.defineUserException((function(e,t,n){c.ResmError.call(this,e,t,n)}),c.ResmError,"Resm::NotConnected2Db",void 0,void 0,!1,!1),c.ResSessionBase=o.defineObject(void 0,i.Object,void 0,1,["::Ice::Object","::Resm::ResSessionBase"],-1,void 0,void 0,!1),c.ResSessionBasePrx=o.defineProxy(i.ObjectPrx,c.ResSessionBase.ice_staticId,void 0),o.defineOperations(c.ResSessionBase,c.ResSessionBasePrx,{nouse:[,,,,,,,,,,]}),c.InfoResponse=o.defineStruct((function(e,t,n,i){this.serverNo=void 0!==e?e:0,this.domain=void 0!==t?t:0,this.registerInverval=void 0!==n?n:0,this.reportInverval=void 0!==i?i:0}),!0,(function(e){e.writeInt(this.serverNo),e.writeInt(this.domain),e.writeInt(this.registerInverval),e.writeInt(this.reportInverval)}),(function(e){this.serverNo=e.readInt(),this.domain=e.readInt(),this.registerInverval=e.readInt(),this.reportInverval=e.readInt()}),16,!0),Object.defineProperty(c,"SERVER_ACCESS",{value:0}),Object.defineProperty(c,"SERVER_SS",{value:1}),Object.defineProperty(c,"SERVER_CONTROL",{value:2}),Object.defineProperty(c,"SERVER_FILE",{value:3}),Object.defineProperty(c,"SERVER_MIX",{value:4}),Object.defineProperty(c,"SERVER_FN",{value:5}),Object.defineProperty(c,"SERVER_MCU",{value:6}),c.ResmCommon=o.defineObject(void 0,i.Object,void 0,1,["::Ice::Object","::Resm::ResmCommon"],-1,void 0,void 0,!1),c.ResmCommonPrx=o.defineProxy(i.ObjectPrx,c.ResmCommon.ice_staticId,void 0),o.defineOperations(c.ResmCommon,c.ResmCommonPrx,{getSelfInfo:[,,,,,[c.InfoResponse],[[7],[3]],,[c.ResmError],,],getActiveConference:[,,,,,["Ice.IntSeqHelper"],,,[c.ResmError],,]}),o.defineDictionary(c,"ReportDict","ReportDictHelper","Ice.StringHelper","Ice.IntHelper",!1,void 0,void 0),o.defineDictionary(c,"DataDict","DataDictHelper","Ice.StringHelper","Ice.IntHelper",!1,void 0,void 0),o.defineSequence(c,"IpAddressSeqHelper","Ice.StringHelper",!1),c.NetworkStatus=o.defineStruct((function(e,t){this.latency=void 0!==e?e:0,this.lostRate=void 0!==t?t:0}),!0,(function(e){e.writeInt(this.latency),e.writeInt(this.lostRate)}),(function(e){this.latency=e.readInt(),this.lostRate=e.readInt()}),8,!0),c.NetworkReport=o.defineStruct((function(e,t,n,i,r,o,c,s){this.avgLatency=void 0!==e?e:0,this.maxLatency=void 0!==t?t:0,this.minLatency=void 0!==n?n:0,this.lostRate=void 0!==i?i:0,this.singleLost=void 0!==r?r:0,this.contLostCnt=void 0!==o?o:0,this.contLostPkt=void 0!==c?c:0,this.statisTime=void 0!==s?s:""}),!0,(function(e){e.writeInt(this.avgLatency),e.writeInt(this.maxLatency),e.writeInt(this.minLatency),e.writeInt(this.lostRate),e.writeInt(this.singleLost),e.writeInt(this.contLostCnt),e.writeInt(this.contLostPkt),e.writeString(this.statisTime)}),(function(e){this.avgLatency=e.readInt(),this.maxLatency=e.readInt(),this.minLatency=e.readInt(),this.lostRate=e.readInt(),this.singleLost=e.readInt(),this.contLostCnt=e.readInt(),this.contLostPkt=e.readInt(),this.statisTime=e.readString()}),29,!1),c.PathStatus=o.defineStruct((function(e,t,n,i){this.remoteServerNo=void 0!==e?e:0,this.remoteIP=void 0!==t?t:"",this.netReport=void 0!==n?n:new c.NetworkReport,this.weight=void 0!==i?i:0}),!0,(function(e){e.writeInt(this.remoteServerNo),e.writeString(this.remoteIP),c.NetworkReport.write(e,this.netReport),e.writeInt(this.weight)}),(function(e){this.remoteServerNo=e.readInt(),this.remoteIP=e.readString(),this.netReport=c.NetworkReport.read(e,this.netReport),this.weight=e.readInt()}),38,!1),o.defineSequence(c,"PathStatusSeqHelper","Resm.PathStatus",!1),o.defineDictionary(c,"PathStatusDict","PathStatusDictHelper","Ice.StringHelper","Resm.PathStatusSeqHelper",!1,void 0,void 0,i.ArrayUtil.equals),c.MixSession=o.defineObject(void 0,i.Object,[c.ResSessionBase],1,["::Ice::Object","::Resm::MixSession","::Resm::ResSessionBase"],-1,void 0,void 0,!1),c.MixSessionPrx=o.defineProxy(i.ObjectPrx,c.MixSession.ice_staticId,[c.ResSessionBasePrx]),o.defineOperations(c.MixSession,c.MixSessionPrx,{abilityReport:[,,,,,,[["Resm.ReportDictHelper"]],,[c.ResmError],,]}),c.NetworkProperty=o.defineEnum([["TELECOM",0],["UNICOM",1],["TELEUNI",2],["UNKNOW",3]]),c.MixM=o.defineObject(void 0,i.Object,void 0,1,["::Ice::Object","::Resm::MixM"],-1,void 0,void 0,!1),c.MixMPrx=o.defineProxy(i.ObjectPrx,c.MixM.ice_staticId,void 0),o.defineOperations(c.MixM,c.MixMPrx,{register:[,,,,,["Resm.MixSessionPrx"],[[3],[7],[7],["Resm.IpAddressSeqHelper"]],[["Resm.DataDictHelper"]],[c.ResmError],,],locate:[,,,,,[3],[[3],[3],[c.NetworkProperty.__helper]],,[c.ResmError],,],locateMixAndSs:[,,,,,["Resm.DataDictHelper"],[[3],[3],[3]],,[c.ResmError],,]}),c.SsSession=o.defineObject(void 0,i.Object,[c.ResSessionBase],2,["::Ice::Object","::Resm::ResSessionBase","::Resm::SsSession"],-1,void 0,void 0,!1),c.SsSessionPrx=o.defineProxy(i.ObjectPrx,c.SsSession.ice_staticId,[c.ResSessionBasePrx]),o.defineOperations(c.SsSession,c.SsSessionPrx,{abilityReport:[,,,,,,[["Resm.ReportDictHelper"]],,,,]}),c.SsM=o.defineObject(void 0,i.Object,void 0,1,["::Ice::Object","::Resm::SsM"],-1,void 0,void 0,!1),c.SsMPrx=o.defineProxy(i.ObjectPrx,c.SsM.ice_staticId,void 0),o.defineOperations(c.SsM,c.SsMPrx,{register:[,,,,,["Resm.SsSessionPrx"],[[3],[7],[7]],[["Resm.DataDictHelper"]],[c.ResmError],,],locate:[,,,,,[3],[[3],[3]],,[c.ResmError],,]}),c.ControlSession=o.defineObject(void 0,i.Object,[c.ResSessionBase],1,["::Ice::Object","::Resm::ControlSession","::Resm::ResSessionBase"],-1,void 0,void 0,!1),c.ControlSessionPrx=o.defineProxy(i.ObjectPrx,c.ControlSession.ice_staticId,[c.ResSessionBasePrx]),o.defineOperations(c.ControlSession,c.ControlSessionPrx,{abilityReport:[,,,,,,[["Resm.ReportDictHelper"]],,,,]}),c.ControlM=o.defineObject(void 0,i.Object,void 0,1,["::Ice::Object","::Resm::ControlM"],-1,void 0,void 0,!1),c.ControlMPrx=o.defineProxy(i.ObjectPrx,c.ControlM.ice_staticId,void 0),o.defineOperations(c.ControlM,c.ControlMPrx,{register:[,,,,,["Resm.ControlSessionPrx"],[[3],[7],[7]],,[c.ResmError],,],locate:[,,,,,["Resm.DataDictHelper"],[[3],[3],[3],[3]],,[c.ResmError],,]}),c.FileCallback=o.defineObject(void 0,i.Object,void 0,1,["::Ice::Object","::Resm::FileCallback"],-1,void 0,void 0,!1),c.FileCallbackPrx=o.defineProxy(i.ObjectPrx,c.FileCallback.ice_staticId,void 0),o.defineOperations(c.FileCallback,c.FileCallbackPrx,{setFileData:[,,,,,,[["Resm.DataDictHelper"]],,,,]}),c.FileSession=o.defineObject(void 0,i.Object,[c.ResSessionBase],1,["::Ice::Object","::Resm::FileSession","::Resm::ResSessionBase"],-1,void 0,void 0,!1),c.FileSessionPrx=o.defineProxy(i.ObjectPrx,c.FileSession.ice_staticId,[c.ResSessionBasePrx]),o.defineOperations(c.FileSession,c.FileSessionPrx,{abilityReport:[,,,,,,[["Resm.ReportDictHelper"]],,,,]}),c.FileM=o.defineObject(void 0,i.Object,void 0,1,["::Ice::Object","::Resm::FileM"],-1,void 0,void 0,!1),c.FileMPrx=o.defineProxy(i.ObjectPrx,c.FileM.ice_staticId,void 0),o.defineOperations(c.FileM,c.FileMPrx,{register:[,,,,,["Resm.FileSessionPrx"],[[3],[7],[7],["Resm.FileCallbackPrx"]],[["Resm.DataDictHelper"]],[c.ResmError],,],locate:[,,,,,["Resm.DataDictHelper"],[[3],[3]],,[c.ResmError],,]}),o.defineDictionary(c,"ConfMemberDict","ConfMemberDictHelper","Ice.IntHelper","Ice.IntHelper",!0,void 0,void 0),c.AccessSession=o.defineObject(void 0,i.Object,[c.ResSessionBase],1,["::Ice::Object","::Resm::AccessSession","::Resm::ResSessionBase"],-1,void 0,void 0,!1),c.AccessSessionPrx=o.defineProxy(i.ObjectPrx,c.AccessSession.ice_staticId,[c.ResSessionBasePrx]),o.defineOperations(c.AccessSession,c.AccessSessionPrx,{abilityReport:[,,,,,,[["Resm.ReportDictHelper"],["Resm.ConfMemberDictHelper"]],,,,]}),o.defineDictionary(c,"NetworkResult","NetworkResultHelper","Ice.IntHelper","Resm.NetworkStatus",!0,void 0,void 0,i.HashMap.compareEquals),c.NetworkAddress=o.defineStruct((function(e,t,n){this.ip=void 0!==e?e:"",this.port=void 0!==t?t:0,this.glacier2Port=void 0!==n?n:0}),!0,(function(e){e.writeString(this.ip),e.writeShort(this.port),e.writeShort(this.glacier2Port)}),(function(e){this.ip=e.readString(),this.port=e.readShort(),this.glacier2Port=e.readShort()}),5,!1),o.defineDictionary(c,"AccessAddrDict","AccessAddrDictHelper","Ice.IntHelper","Resm.NetworkAddress",!1,void 0,void 0,i.HashMap.compareEquals),c.AccessM=o.defineObject(void 0,i.Object,void 0,1,["::Ice::Object","::Resm::AccessM"],-1,void 0,void 0,!1),c.AccessMPrx=o.defineProxy(i.ObjectPrx,c.AccessM.ice_staticId,void 0),o.defineOperations(c.AccessM,c.AccessMPrx,{register:[,,,,,["Resm.AccessSessionPrx"],[[3],[7],[7],["Resm.IpAddressSeqHelper"]],[["Resm.DataDictHelper"]],[c.ResmError],,],locate:[,,,,,[3],[[3],[3],["Resm.NetworkResultHelper"],[7],[7]],,[c.ResmError],,],getAccessList:[,,,,,["Resm.AccessAddrDictHelper"],[[3]],,,,],sendCmd:[,,,,,,[[7],[7],[7],["Ice.ByteSeqHelper"]],[[7],["Ice.ByteSeqHelper"]],[c.ResmError],,]}),c.NetworkBandwidth=o.defineStruct((function(e,t){this.sendBandWidth=void 0!==e?e:0,this.recvBandWidth=void 0!==t?t:0}),!0,(function(e){e.writeInt(this.sendBandWidth),e.writeInt(this.recvBandWidth)}),(function(e){this.sendBandWidth=e.readInt(),this.recvBandWidth=e.readInt()}),8,!0),o.defineDictionary(c,"FNBandwidthDict","FNBandwidthDictHelper","Ice.StringHelper","Resm.NetworkBandwidth",!1,void 0,void 0,i.HashMap.compareEquals),c.FnSession=o.defineObject(void 0,i.Object,[c.ResSessionBase],1,["::Ice::Object","::Resm::FnSession","::Resm::ResSessionBase"],-1,void 0,void 0,!1),c.FnSessionPrx=o.defineProxy(i.ObjectPrx,c.FnSession.ice_staticId,[c.ResSessionBasePrx]),o.defineOperations(c.FnSession,c.FnSessionPrx,{abilityReport:[,,,,,,[["Resm.ReportDictHelper"],["Resm.FNBandwidthDictHelper"]],,,,]}),c.FnM=o.defineObject(void 0,i.Object,void 0,1,["::Ice::Object","::Resm::FnM"],-1,void 0,void 0,!1),c.FnMPrx=o.defineProxy(i.ObjectPrx,c.FnM.ice_staticId,void 0),o.defineOperations(c.FnM,c.FnMPrx,{register:[,,,,,["Resm.FnSessionPrx"],[[3],[7],[7],["Resm.IpAddressSeqHelper"]],[["Resm.DataDictHelper"]],[c.ResmError],,]}),c.RouteType=o.defineEnum([["UNREACHABLE",0],["DIRECT",1],["FORWARD",2]]),c.RouteScore=o.defineEnum([["BROKEN",0],["BAD",1],["AVAILABLE",2],["PERFECT",3]]),o.defineSequence(c,"IntSeqHelper","Ice.IntHelper",!0),c.Route=o.defineStruct((function(e,t,n,i,r,o,s){this.type=void 0!==e?e:c.RouteType.UNREACHABLE,this.score=void 0!==t?t:c.RouteScore.BROKEN,this.srcIP=void 0!==n?n:"",this.dstIP=void 0!==i?i:"",this.fnNo=void 0!==r?r:0,this.srcFnIP=void 0!==o?o:"",this.dstFnIP=void 0!==s?s:""}),!0,(function(e){c.RouteType.__write(e,this.type),c.RouteScore.__write(e,this.score),e.writeString(this.srcIP),e.writeString(this.dstIP),e.writeInt(this.fnNo),e.writeString(this.srcFnIP),e.writeString(this.dstFnIP)}),(function(e){this.type=c.RouteType.__read(e),this.score=c.RouteScore.__read(e),this.srcIP=e.readString(),this.dstIP=e.readString(),this.fnNo=e.readInt(),this.srcFnIP=e.readString(),this.dstFnIP=e.readString()}),10,!1),o.defineDictionary(c,"RouteMap","RouteMapHelper","Ice.IntHelper","Resm.Route",!1,void 0,void 0,i.HashMap.compareEquals),c.RouteM=o.defineObject(void 0,i.Object,void 0,1,["::Ice::Object","::Resm::RouteM"],-1,void 0,void 0,!1),c.RouteMPrx=o.defineProxy(i.ObjectPrx,c.RouteM.ice_staticId,void 0),o.defineOperations(c.RouteM,c.RouteMPrx,{RouteAllocBatch:[,,,,,["Resm.RouteMapHelper"],[[3],[3],["Resm.IntSeqHelper"]],,,,],RouteAlloc:[,,,,,[c.Route],[[3],[3],[3],["Resm.IntSeqHelper"]],,,,],PathReport:[,,,,,,[[3],["Resm.PathStatusDictHelper"]],,,,],RouteMapGet:[,,,,,["Resm.RouteMapHelper"],[[3],[3]],,,,]}),c.McuSession=o.defineObject(void 0,i.Object,[c.ResSessionBase],1,["::Ice::Object","::Resm::McuSession","::Resm::ResSessionBase"],-1,void 0,void 0,!1),c.McuSessionPrx=o.defineProxy(i.ObjectPrx,c.McuSession.ice_staticId,[c.ResSessionBasePrx]),o.defineOperations(c.McuSession,c.McuSessionPrx,{abilityReport:[,,,,,,[["Resm.ReportDictHelper"]],,,,]}),c.McuM=o.defineObject(void 0,i.Object,void 0,1,["::Ice::Object","::Resm::McuM"],-1,void 0,void 0,!1),c.McuMPrx=o.defineProxy(i.ObjectPrx,c.McuM.ice_staticId,void 0),o.defineOperations(c.McuM,c.McuMPrx,{register:[,,,,,["Resm.McuSessionPrx"],[[3],[7],[7]],[["Resm.DataDictHelper"]],[c.ResmError],,],locate:[,,,,,[3],[[3]],,[c.ResmError],,]}),n.Resm=c}(void 0!==i&&i.process,void 0!==i&&void 0!==i.process?n(0):d.Ice.__require,void 0!==i&&void 0!==i.process?t:this),function(){for(var e=0,t=["webkit","moz"],n=0;n<t.length&&!I;++n)I=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];I||(I=function(t,n){var i=(new Date).getTime(),r=Math.max(0,16.7-(i-e)),o=window.setTimeout((function(){t(i+r)}),r);return e=i+r,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),window.Cr={},window.Cr.__init=!1,Cr.CbProxy=function(e){this.name=e,this.callback=null},Cr.CbProxy.prototype.call=function(e){this.callback&&"function"==typeof this.callback&&this.callback.apply(null,e)},Cr.MsgInfo=function(e){this.type=e.type,this.index=e.index,this.msg=e.msg,this.head=e.head,this.sendTime=e.sendTime,this.targetNickname=e.targetNickname,this.targetTermId=e.targetTermId,this.srcNickname=e.srcNickname,this.srcTermId=e.srcTermId,this.ishost=e.ishost},Cr.MeetInfo=function(e){this.termId=e.termId,this.nickname=e.nickname,this.userId=e.userId,this.bindId=e.bindId,this.camList=e.camList,this.subscribeCams=e.subscribeCams,this.activeMembers=e.activeMembers,this.myDetail=e.myDetail,this.serverTime=e.serverTime,this.isBegan=e.isBegan,this.countdown=e.countdown,this.mainVideoTermID=e.mainVideoTermID,this.windowMode=e.windowMode,this.srvRecordState=e.srvRecordState,this.srvRecordCfg=e.srvRecordCfg,this.wbDescibes=e.wbDescibes,this.ServerUTCTime=e.ServerUTCTime,this.bAllowWall=e.bAllowWall,this.bFull=e.bFull,this.bRoomLocked=e.bRoomLocked,this.curMainTab=e.curMainTab,this.curSubTab=e.curSubTab,this.option=e.option,this.lastElemValue=e.lastElemValue,this.lastTabValue=e.lastTabValue,this.confInfo=e.confInfo,this.existHost=e.existHost},Cr.Quesask=function(e){this.typeID=e.typeID,this.asktime=e.asktime,this.termID=e.termID,this.content=e.content,this.nickname=e.nickname},Cr_Question_State={NotReply:0,Replying:1,NotPublic:2,Publiced:3,Deleted:4},Cr.QuesDeal=function(e){this.state=e.state._value,this.replyCon=e.replyCon,this.replyTermId=e.replyTermId,this.replyTime=e.replyTime,this.publishTermID=e.publishTermID,this.publishTime=e.publishTime,this.delTermID=e.delTermID,this.delTime=e.delTime},Cr.QuesInf=function(e){this.quesID=e.quesID,this.ask=new Cr.Quesask(e.ask),this.deal=new Cr.QuesDeal(e.deal)},Cr.ScreenShareInfo=function(e){this.scrSviceProxy=e.scrSviceProxy,this.authKey=e.authKey,this.allowCtrlReq=e.allowCtrlReq,this.state=e.state,this.sharer=e.sharer,this.controller=e.controller,this.allowOtherMark=e.allowOtherMark},Cr.MediaInfo=function(e){this.termid=e.termid,this.MEDIA_STATE=e.MEDIA_STATE,this.mediaName=e.mediaName},Cr.ElementID=function(e){this.ownerID=e.ownerID,this.ID=e.ID},Cr.ElementData=function(e){this.eID=e.eID,this.orderId=e.orderId,this.left=e.left,this.top=e.top,this.type=e.type,this.noused=e.noused,this.data=e.data},Cr.AsyncResult=function(){},Cr.AsyncResult.prototype.then=function(e){return this.__child=new Cr.AsyncResult,this.__complete=e,this.__child},Cr.AsyncResult.prototype.complete=function(e){var t=function(){this.next(e),this.__parent&&"function"==typeof this.__parent.next&&this.__parent.next(e)}.bind(this);I(t)},Cr.AsyncResult.prototype.next=function(e){if(this.__complete&&"function"==typeof this.__complete){var t=this.__complete.apply(this,e);t&&this.__child&&(t.__parent=this.__child)}},Cr.AsyncResult.prototype.finish=function(e){this.next(e),this.__parent&&"function"==typeof this.__parent.next&&this.__parent.next(e)},Cr.AsyncResult2As=function(e,t){this.id=e,this.proxy=t},Cr.AsyncResult2As.prototype.complete=function(e){e.unshift(this.id),this.proxy.callback.apply(this.proxy,e)},Cr.Swf={__callbackId_generator:0,__generateCallbackId:function(){return Cr.Swf.__callbackId_generator++},__callbackAsyncDict:{},__registerCallbackAsync:function(e,t){if(Cr.Swf.__callbackAsyncDict[e])throw"register swf callback error:duplicate id";Cr.Swf.__callbackAsyncDict[e]=t},asyncAsCallback:function(){if(!(arguments.length>=1))throw"swf callback error:arguments deficient";for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];var n=e.shift(),i=Cr.Swf.__callbackAsyncDict[n];if(!i)throw"swf callback error:async not exist";i.complete(e)},callJs:function(){if(arguments.length>=2){for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];if(cmd=e.shift(),id=e.shift(),cmdObj=Cr.Swf.__asCallbackCmdDict[cmd],cmdObj){var n=cmdObj.fun;cmdObj.proxy;n.call(null,e)}}},__asCallbackCmdDict:{},addAsCallback:function(e,t,n){if(Cr.Swf.__asCallbackCmdDict[e])throw"register swf callback error:duplicate id";Cr.Swf.__asCallbackCmdDict[e]={fun:t,proxy:n}}},Cr.crmt=null,Cr.Utils={generate_uuid:function(){for(var e=[],t=0;t<36;t++)e[t]="0123456789abcdef".substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]="0123456789abcdef".substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-",e.join("")},setCookie:function(e,t){var n=new Date;n.setTime(n.getTime()+2592e6),document.cookie=e+"="+escape(t)+";expires="+n.toGMTString()},getCookie:function(e){var t=new RegExp("(^| )"+e+"=([^;]*)(;|$)"),n=document.cookie.match(t);return n?unescape(n[2]):void 0},delCookie:function(e){var t=new Date;t.setTime(t.getTime()-1);var n=Utils.getCookie(e);null!=n&&(document.cookie=e+"="+n+";expires="+t.toGMTString())},Uint8ToString:function(e){for(var t=[],n=0;n<e.length;n+=32768)t.push(String.fromCharCode.apply(null,e.subarray(n,n+32768)));return t.join("")},Uint8ToBase64:function(e){for(var t,n=0,i=e.length,r="";n<i;)t=e.subarray(n,Math.min(n+32768,i)),r+=String.fromCharCode.apply(null,t),n+=32768;return btoa(r)},compare:function(e){return function(t,n){var i=t[e],r=n[e];return r>i?-1:r<i?1:0}},deepCopy:function(e){var t={};for(var n in e)t[n]="object"===l(e[n])?deepCoyp(e[n]):e[n];return t},chat2html:function(e,t,n){var i="",r="",o="";if(e.indexOf("0x10x4")>=0)(i=e.split("0x10x4")[1]).indexOf("0x1")>=0&&(i=i.split("0x1")[0]),r=(i=JSON.parse(i)).opt,o=i.headerUrl;else if(e.indexOf("0x10x5")>=0){(i=e.split("0x10x5")[1]).indexOf("0x1")>=0&&(i=i.split("0x1")[0]),r=(i=JSON.parse(i)).opt,o=i.headerUrl}else if(e.indexOf("0x10x6")>=0){(i=e.split("0x10x6")[1]).indexOf("0x1")>=0&&(i=i.split("0x1")[0]),r=(i=JSON.parse(i)).opt,o=i.headerUrl}else{null==Cr._imgRegExp&&(Cr._sign=Cr.Utils.utf8ByteToUnicodeStr([1]),Cr._signB=Cr.Utils.utf8ByteToUnicodeStr([2]),Cr._signA=Cr.Utils.utf8ByteToUnicodeStr([3]),Cr._imgRegExp=new RegExp(Cr._sign+Cr._sign+":*/*([^"+Cr._sign+"]+?)"+Cr._sign,"g"),Cr._headimgRegExp=new RegExp(Cr._sign+Cr._signA+":*/*([^"+Cr._sign+"]+?)"+Cr._sign,"g"),Cr._captureRegExp=new RegExp(Cr._sign+Cr._signB+":*/*([^"+Cr._sign+"]+?)"+Cr._sign,"g")),i=(i=(i=(i=(i=(i=(i=(i=(i=(i=e.replace(/<br\/>/g,"\n")).replace(/&quot;/g,'"')).replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/\&/g,"&amp;")).replace(/\"/g,"&quot;")).replace(/\</g,"&lt;")).replace(/\>/g,"&gt;")).replace(Cr._imgRegExp,'<img  src="$1"></img>')).replace(Cr._captureRegExp,"");var c=Cr._headimgRegExp.exec(i);if(c)o=c[1];i=i.replace(Cr._headimgRegExp,"");for(var s=(16777215&t).toString(16),a=6-s.length,l=0;l<a;l++)s="0"+s;i='<p style="color:#'+s+";font-size:"+n+'">'+i+"</p>",r=0}return[r,o,i]},html2chat:function(e){return null==Cr._imgRegExp&&(Cr._sign=Cr.Utils.utf8ByteToUnicodeStr([1]),Cr._signB=Cr.Utils.utf8ByteToUnicodeStr([2]),Cr._signA=Cr.Utils.utf8ByteToUnicodeStr([3]),Cr._imgRegExp=new RegExp(Cr._sign+Cr._sign+":*/*([^"+Cr._sign+"]+?)"+Cr._sign,"g"),Cr._headimgRegExp=new RegExp(Cr._sign+Cr._signA+":*/*([^"+Cr._sign+"]+?)"+Cr._sign,"g"),Cr._captureRegExp=new RegExp(Cr._sign+Cr._signB+":*/*([^"+Cr._sign+"]+?)"+Cr._sign,"g")),[e=(e=(e=(e=e.replace(/\<headimg\s+src=[\"\']([^\"\']*?)[\"\']\s*\/\>/gi,Cr._sign+Cr._signA+":$1"+Cr._sign)).replace(/\<headimg\s+src=[\"\']([^\"\']*?)[\"\']\s*\>.*?\<\/s*imgs*\>/gi,Cr._sign+Cr._signA+":$1"+Cr._sign)).replace(/\<img\s+[^>]*?src=[\"\']([\w\/\.\:]*)[\"\'][^>]*\/\>/gi,Cr._sign+Cr._sign+":/$1"+Cr._sign)).replace(/\<img\s+[^>]*?src=[\"\']([\w\/\.\:]*)[\"\'][^>]*\>.*?\<\/s*imgs*\>/gi,Cr._sign+Cr._sign+":/$1"+Cr._sign)]},ask2html:function(e){null==Cr._imgRegExp&&(Cr._sign=Cr.Utils.utf8ByteToUnicodeStr([1]),Cr._signA=Cr.Utils.utf8ByteToUnicodeStr([3]),Cr._imgRegExp=new RegExp(Cr._sign+Cr._sign+":*/*([^"+Cr._sign+"]+?)"+Cr._sign,"g"),Cr._headimgRegExp=new RegExp(Cr._sign+Cr._signA+":*/*([^"+Cr._sign+"]+?)"+Cr._sign,"g"));var t=e.replace(/<br\/>/g,"\n");t=(t=(t=(t=(t=t.replace(/\&/g,"&amp;")).replace(/\"/g,"&quot;")).replace(/\</g,"&lt;")).replace(/\>/g,"&gt;")).replace(Cr._imgRegExp,'<img  src="$1"></img>');var n=Cr._headimgRegExp.exec(t);if(n)var i=n[1];return[i,t=t=t.replace(Cr._headimgRegExp,"")]},utf8ByteToUnicodeStr:function(e){for(var t="",n=0;n<e.length;){var i=e[n],r=0;i>>>7==0?(t+=String.fromCharCode(e[n]),n+=1):252==(252&i)?(r=(3&e[n])<<30,r|=(63&e[n+1])<<24,r|=(63&e[n+2])<<18,r|=(63&e[n+3])<<12,r|=(63&e[n+4])<<6,r|=63&e[n+5],t+=String.fromCharCode(r),n+=6):248==(248&i)?(r=(7&e[n])<<24,r|=(63&e[n+1])<<18,r|=(63&e[n+2])<<12,r|=(63&e[n+3])<<6,r|=63&e[n+4],t+=String.fromCharCode(r),n+=5):240==(240&i)?(r=(15&e[n])<<18,r|=(63&e[n+1])<<12,r|=(63&e[n+2])<<6,r|=63&e[n+3],t+=String.fromCharCode(r),n+=4):224==(224&i)?(r=(31&e[n])<<12,r|=(63&e[n+1])<<6,r|=63&e[n+2],t+=String.fromCharCode(r),n+=3):192==(192&i)?(r=(63&e[n])<<6,r|=63&e[n+1],t+=String.fromCharCode(r),n+=2):(t+=String.fromCharCode(e[n]),n+=1)}return t},parse_url:function(e,t){for(var n=["source","scheme","authority","userInfo","user","pass","host","port","relative","path","directory","file","query","fragment"],i=this.php_js&&this.php_js.ini||{},r=i["phpjs.parse_url.mode"]&&i["phpjs.parse_url.mode"].local_value||"php",o={php:/^(?:([^:\/?#]+):)?(?:\/\/()(?:(?:()(?:([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?()(?:(()(?:(?:[^?#\/]*\/)*)()(?:[^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/\/?)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},c=o[r].exec(e),s={},a=14;a--;)c[a]&&(s[n[a]]=c[a]);if(t)return s[t.replace("PHP_URL_","").toLowerCase()];if("php"!==r){var l=i["phpjs.parse_url.queryKey"]&&i["phpjs.parse_url.queryKey"].local_value||"queryKey";o=/(?:^|&)([^&=]*)=?([^&]*)/g,s[l]={},s[n[12]].replace(o,(function(e,t,n){t&&(s[l][t]=n)}))}return delete s.source,s},log:function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);window.console&&window.console.crlog.apply(window.console,e)}},CR_NOERR=0,CR_UNKNOWERR=1,CR_SOCKETEXCEPTION=204;var m=new Cr.CbProxy("CR_InitRslt"),S=new Cr.CbProxy("CR__LoginRslt"),E=new Cr.CbProxy("CR__RefreshSessionRslt"),R=new Cr.CbProxy("CR__KeepAliveRslt"),b=new Cr.CbProxy("CR__ChangeNicknameRslt"),w=new Cr.CbProxy("CR__SetDemoActorRslt"),x=new Cr.CbProxy("CR__SetHostActorRslt"),P=new Cr.CbProxy("CR__SetAssistantActorRslt"),O=new Cr.CbProxy("CR__KickoutRslt"),D=new Cr.CbProxy("CR__LockRoomRslt"),M=new Cr.CbProxy("CR__ExitRslt"),N=new Cr.CbProxy("CR__GetActiveMembersRslt"),A=new Cr.CbProxy("CR__EndConferenceRslt"),T=new Cr.CbProxy("CR__ReceiveIMMsg"),k=new Cr.CbProxy("CR__SendIMMsgRslt"),L=new Cr.CbProxy("CR__GetLastMsgRslt"),U=new Cr.CbProxy("CR__GetLastNMsgRslt"),V=new Cr.CbProxy("CR__UserLeftMeet"),F=new Cr.CbProxy("CR__UserEnter"),j=new Cr.CbProxy("CR__OptionChanged"),B=new Cr.CbProxy("CR__MeetEnded"),H=new Cr.CbProxy("CR__NotifyStartBroadCast"),q=new Cr.CbProxy("CR__NotifyStopBroadCast"),W=new Cr.CbProxy("CR__NotifyBroadCastStartPush"),G=new Cr.CbProxy("CR__NotifyBroadCastStopPush"),z=new Cr.CbProxy("CR__GetBroadCastUrlRslt"),K=new Cr.CbProxy("CR__NotifyIMForbidStatus"),Q=new Cr.CbProxy("CR__NotifyClearIMMsg"),X=new Cr.CbProxy("CR__RightChanged"),Y=new Cr.CbProxy("CR__AskQuesRslt"),J=new Cr.CbProxy("CR__GetQuesListRslt"),Z=new Cr.CbProxy("CR__AskQuesNotify"),$=new Cr.CbProxy("CR__LockQuesNotify"),ee=new Cr.CbProxy("CR__ReplyQuesNotify"),te=new Cr.CbProxy("CR__ModifyQuesNotify"),ne=new Cr.CbProxy("CR__DelQuesNotify"),ie=new Cr.CbProxy("CR__DelAllQuesNotify"),re=new Cr.CbProxy("CR__PublicQuesNotify"),oe=new Cr.CbProxy("CR__QuesTypeChangeNotify"),ce=new Cr.CbProxy("CR__ModifyQuesTypeNotify"),se=new Cr.CbProxy("CR__SetBroadCastQuesNotify"),ae=new Cr.CbProxy("CR__NotifyPlayBackStartPush"),le=new Cr.CbProxy("CR__NotifyDeleteIMMsg"),ue=new Cr.CbProxy("CR__GetIMMsgCountRslt"),de=new Cr.CbProxy("CR__Notifypayback"),he=new Cr.CbProxy("CR__NotifyBroadCastPlaybackStop"),fe=new Cr.CbProxy("CR__NotifySwtichLiveAppElements"),pe=new Cr.CbProxy("CR__NotifyThumbUp"),_e=new Cr.CbProxy("CR__NotifyLuckyDrawCfg"),Ce=new Cr.CbProxy("CR__GetLuckyDrawCfgRslt"),ge=new Cr.CbProxy("CR__JoinLuckyDrawMembersRslt"),ye=new Cr.CbProxy("CR__NotifyLDMembersStatus"),Ie=new Cr.CbProxy("CR__NotifyNickNameChanged"),ve=new Cr.CbProxy("CR__NotifyLuckyDrawResult"),me=new Cr.CbProxy("CR__NotifyTerminalMsg"),Se=new Cr.CbProxy("CR__NotifyShareStateChanged"),Ee=new Cr.CbProxy("CR__SetAudioDeviceStatusRslt"),Re=new Cr.CbProxy("CR__AskForMicRslt"),be=new Cr.CbProxy("CR__OpenMicExRslt"),we=new Cr.CbProxy("CR__CloseMicExRslt"),xe=new Cr.CbProxy("CR__CloseAllRslt"),Pe=new Cr.CbProxy("CR__AudioAllocRaw"),Oe=new Cr.CbProxy("CR__AudioAllocRawExt"),De=new Cr.CbProxy("CR__AudioAllocRawExt2"),Me=new Cr.CbProxy("CR__VideoAllocRaw"),Ne=new Cr.CbProxy("CR__VideoAllocRawExt"),Ae=new Cr.CbProxy("CR__VideoAllocRawExt2"),Te=new Cr.CbProxy("CR__ModifyPeerAddr"),ke=new Cr.CbProxy("CR__ModifyPeerAddrExt"),Le=new Cr.CbProxy("CR__NotifyRTMPStreamPublishFinished"),Ue=new Cr.CbProxy("CR__DisableSendVideo2Internet"),Ve=new Cr.CbProxy("CR__EnableSendScreen2Internet"),Fe=new Cr.CbProxy("CR__DisableSendScreen2Internet"),je=new Cr.CbProxy("CR__EnableSendFilm2Internet"),Be=new Cr.CbProxy("CR__DisableSendFilm2Internet"),He=new Cr.CbProxy("CR__EnableSendVideo2Internet"),qe=new Cr.CbProxy("CR__Free"),We=new Cr.CbProxy("CR__NotifyAllowVideoWall"),Ge=new Cr.CbProxy("CR__VideoUpdateStatus"),ze=new Cr.CbProxy("CR__NotifyOpenVideo"),Ke=new Cr.CbProxy("CR__StartVideoByManager"),Qe=new Cr.CbProxy("CR__NotifyEnableVideo"),Xe=new Cr.CbProxy("CR__UpdateFocusWindow"),Ye=new Cr.CbProxy("CR__UpdateVLayout"),Je=new Cr.CbProxy("CR__UpdateVLayout2"),Ze=new Cr.CbProxy("CR__UpdateMainVideoShowMode"),$e=new Cr.CbProxy("CR__UpdateVideoListMode"),et=new Cr.CbProxy("CR__EnableUpload"),tt=new Cr.CbProxy("CR__EnableUpload2"),nt=new Cr.CbProxy("CR__GenerateIFrame"),it=new Cr.CbProxy("CR__NotifyRefuseOpenVideo"),rt=new Cr.CbProxy("CR__NotifySetCamera"),ot=new Cr.CbProxy("CR__NotifySetCameraById"),ct=new Cr.CbProxy("CR__NotifyVideoPolling"),st=new Cr.CbProxy("CR__NotifyPollingVideo"),at=new Cr.CbProxy("CR__NotifyVideoList"),lt=new Cr.CbProxy("CR__NotifyUpdateAllCameraInfos"),ut=new Cr.CbProxy("CR__NotifySetOpenedCameraNumber"),dt=new Cr.CbProxy("CR__NotifyStartAdjustDirection"),ht=new Cr.CbProxy("CR__NotifyStartAdjustZoom"),ft=new Cr.CbProxy("CR__NotifyStopAdjustDirection"),pt=new Cr.CbProxy("CR__NotifyStopAdjustZoom"),_t=new Cr.CbProxy("CR__SetVideoDeviceStatusRslt"),Ct=new Cr.CbProxy("CR__AllowVideoWallRslt"),gt=new Cr.CbProxy("CR__StartVideoRslt"),yt=new Cr.CbProxy("CR__StopVideoRslt"),It=new Cr.CbProxy("CR__ReqOpenVideoRslt"),vt=new Cr.CbProxy("CR__StartVideoExRslt"),mt=new Cr.CbProxy("CR__StopVideoExExRslt"),St=new Cr.CbProxy("CR__EnableVideoRslt"),Et=new Cr.CbProxy("CR__SetFocusWindowRslt"),Rt=new Cr.CbProxy("CR__BatchSubscribeVideoRslt"),bt=new Cr.CbProxy("CR__BatchSubscribeVideo2Rslt"),wt=new Cr.CbProxy("CR__SubscribeFocusWindowRslt"),xt=new Cr.CbProxy("CR__SubscribeFocusWindow2Rslt"),Pt=new Cr.CbProxy("CR__SetVLayoutRslt"),Ot=new Cr.CbProxy("CR__SetMainVideoShowModeRslt"),Dt=new Cr.CbProxy("CR__SetVideoListModeRslt"),Mt=new Cr.CbProxy("CR__RefuseOpenVideoRslt"),Nt=new Cr.CbProxy("CR__GetVideoSettingRslt"),At=new Cr.CbProxy("CR__SetCameraRslt"),Tt=new Cr.CbProxy("CR__SetCameraByIdRslt"),kt=new Cr.CbProxy("CR__SetVideoPollingRslt"),Lt=new Cr.CbProxy("CR__UpdatePollingVideoRslt"),Ut=new Cr.CbProxy("CR__UpdateVideoListRslt"),Vt=new Cr.CbProxy("CR__GetVideoPollingStateRslt"),Ft=new Cr.CbProxy("CR__UpdateAllCameraInfosRslt"),jt=new Cr.CbProxy("CR__SetOpenedCameraNumberRslt"),Bt=new Cr.CbProxy("CR__StartAdjustDirectionRslt"),Ht=new Cr.CbProxy("CR__StartAdjustZoomRslt"),qt=new Cr.CbProxy("CR__StopAdjustDirectionRslt"),Wt=new Cr.CbProxy("CR__VideoResolutionReportRslt"),Gt=new Cr.CbProxy("CR__AudioUpdateStatus"),zt=new Cr.CbProxy("CR__UpdateVoiceEnergy"),Kt=new Cr.CbProxy("CR__UpdateSpeaker"),Qt=new Cr.CbProxy("CR__NotifyCloseAll"),Xt=new Cr.CbProxy("CR__PlayBackgroundMusic"),Yt=new Cr.CbProxy("CR__NotifyVoiceHowling"),Jt=new Cr.CbProxy("CR__NotifyVoiceNoise"),Zt=new Cr.CbProxy("CR__GetRemoteAudioInfNotify"),$t=new Cr.CbProxy("CR__RemoteAudioSetNotify"),en=new Cr.CbProxy("CR__NotifyLanLessMicOpen"),tn=new Cr.CbProxy("CR__SetVoiceEnergyRslt"),nn=new Cr.CbProxy("CR__PstnSwitchMicStatusRslt"),rn=new Cr.CbProxy("CR__StartRecordRslt"),on=new Cr.CbProxy("CR__IsRecordingRslt"),cn=new Cr.CbProxy("CR__StopRecordRslt"),sn=new Cr.CbProxy("CR__PlayApplauseRslt"),an=new Cr.CbProxy("CR__GetMusicListRslt"),ln=new Cr.CbProxy("CR__GetPlayBGMusicRslt"),un=new Cr.CbProxy("CR__StartBGMusicRslt"),dn=new Cr.CbProxy("CR__StopPlayBGMusicRslt"),hn=new Cr.CbProxy("CR__SetPlayBGMusicVolumnRslt"),fn=new Cr.CbProxy("CR__GetPlayBGMusicVolumnRslt"),pn=new Cr.CbProxy("CR__VoiceHowlingRslt"),_n=new Cr.CbProxy("CR__VoiceNoiseRslt"),Cn=new Cr.CbProxy("CR__RemoteAudioSetRslt"),gn=new Cr.CbProxy("CR__GetRemoteAudioInfRslt"),yn=new Cr.CbProxy("CR__NotifyStartScreenShare"),In=new Cr.CbProxy("CR__NotifyStopScreenShare"),vn=new Cr.CbProxy("CR__NotifyStartMarked"),mn=new Cr.CbProxy("CR__NotifyStopMarked"),Sn=new Cr.CbProxy("CR__NotifyMarkData"),En=new Cr.CbProxy("CR__NotifyClearAllMarks"),Rn=new Cr.CbProxy("CR__NotifyCtrlReqState"),bn=new Cr.CbProxy("CR__GetScreenShareInfoRslt"),wn=new Cr.CbProxy("CR__StartScreenShareRslt"),xn=new Cr.CbProxy("CR__StopScreenShareRslt"),Pn=new Cr.CbProxy("CR__GetAllMarkDataRslt"),On=new Cr.CbProxy("CR__NotifyStartPlayMedia"),Dn=new Cr.CbProxy("CR__NotifyStopPlayMedia"),Mn=new Cr.CbProxy("CR__NotifyPausePlayMedia"),Nn=new Cr.CbProxy("CR__NotifyMediaMakeIFrame"),An=new Cr.CbProxy("CR__NotifySubscribeMedia"),Tn=new Cr.CbProxy("CR__GetMediaInfoRslt"),kn=new Cr.CbProxy("CR__StartPlayMediaRslt"),Ln=new Cr.CbProxy("CR__StopPlayMediaRslt"),Un=new Cr.CbProxy("CR__PausePlayMediaRslt"),Vn=new Cr.CbProxy("CR__SubscribeMediaRslt"),Fn=new Cr.CbProxy("CR__NotifySetContainerSize"),jn=new Cr.CbProxy("CR__NotifyCreate"),Bn=new Cr.CbProxy("CR__NotifyImportPage"),Hn=new Cr.CbProxy("CR__NotifyClose"),qn=new Cr.CbProxy("CR__NotifyChangeName"),Wn=new Cr.CbProxy("CR__NotifyChangeScale"),Gn=new Cr.CbProxy("CR__NotifyChangeRotate"),zn=new Cr.CbProxy("CR__NotifySetCurrentPage"),Kn=new Cr.CbProxy("CR__NotifyShowThumPage"),Qn=new Cr.CbProxy("CR__NotifyAddElement"),Xn=new Cr.CbProxy("CR__NotifyAddElementEx"),Yn=new Cr.CbProxy("CR__NotifyMoveElement"),Jn=new Cr.CbProxy("CR__NotifyModifyElement"),Zn=new Cr.CbProxy("CR__NotifyDelElement"),$n=new Cr.CbProxy("CR__NotifySetElementZPos"),ei=new Cr.CbProxy("CR__NotifySetIndicator"),ti=new Cr.CbProxy("CR__NotifySetHotspot"),ni=new Cr.CbProxy("CR__SetContainerSizeRslt"),ii=new Cr.CbProxy("CR__CreateRslt"),ri=new Cr.CbProxy("CR__ImportPageRslt"),oi=new Cr.CbProxy("CR__CloseRslt"),ci=new Cr.CbProxy("CR__ChangeNameRslt"),si=new Cr.CbProxy("CR__ChangeScaleRslt"),ai=new Cr.CbProxy("CR__ChangeRatoteRslt"),li=new Cr.CbProxy("CR__SetCurrentPageRslt"),ui=new Cr.CbProxy("CR__ShowThumPageRslt"),di=new Cr.CbProxy("CR__AddElementRslt"),hi=new Cr.CbProxy("CR__AddElementExRslt"),fi=new Cr.CbProxy("CR__MoveElementRslt"),pi=new Cr.CbProxy("CR__ModifyElementRslt"),_i=new Cr.CbProxy("CR__DelElementRslt"),Ci=new Cr.CbProxy("CR__SetElementZPosRslt"),gi=new Cr.CbProxy("CR__SetIndicatorRslt"),yi=new Cr.CbProxy("CR__SetHotspotRslt"),Ii=new Cr.CbProxy("CR__QueryIndicatorRslt"),vi=new Cr.CbProxy("CR__QueryAllBoardListRslt"),mi=new Cr.CbProxy("CR__QueryElementByIDsRslt"),Si=new Cr.CbProxy("CR__QueryPageElementByIDsRslt"),Ei=new Cr.CbProxy("CR__SetMarkTermsRslt"),Ri=new Cr.CbProxy("CR__NotifySetCurrentTab"),bi=new Cr.CbProxy("CR__NotifySetFullScreen"),wi=new Cr.CbProxy("CR__NotifySetPrivTabInfo"),xi=new Cr.CbProxy("CR__SetCurrentTabRslt"),Pi=new Cr.CbProxy("CR__NotifyActorChanged"),Oi=new Cr.CbProxy("CR__NotifyApplyDemo"),Di=new Cr.CbProxy("CR__NotifyApplyDemo");function Mi(){try{Cr._routerPrx&&Cr._routerPrx.destroySession(),Cr._routerPrx=null,Cr._connection&&Cr._connection.destroy(0),Cr._connection=null,Cr._adapter&&Cr._adapter.destroy(),Cr._adapter=null,Cr._communicator&&(Cr._communicator.shutdown(),Cr._communicator.destroy()),Cr._communicator=null}catch(e){return h.CRVideo_INNER_ERR}}function Ni(e){Cr._proxy.getVideoSetting(e).then((function(e,t){Nt.call([e,t])}))}function Ai(e,t){Cr._proxy.setCamera(e,t).then((function(e,t){At.call([e,t])}))}function Ti(e){Cr._proxy.setCameraById(e).then((function(e,t){Tt.call([e,t])}))}function ki(e){Cr._proxy.startPlayMedia(e).then((function(e,t){kn.call([e,t])}))}function Li(e){Cr._proxy.stopPlayMedia(e).then((function(e,t){Ln.call([e,t])}))}function Ui(e){Cr._proxy.pausePlayMedia(e).then((function(e,t){Un.call([e,t])}))}function Vi(e){Cr._proxy.subscribeMedia(e).then((function(e,t){Vn.call([e,t])}))}if(ConferenceReceptor=Ice.Class(Conference.ConferenceCallback,(a(o={setProxy:function(e){this.proxy=e},entered:function(e){C.parseMemberInfo(e),Cr.Utils.log("[RTC] New member entered..."),this.proxy.callCallback("entered",[e])},left:function(e,t,n,i){Cr.Utils.log("[RTC] User left meeting...  reason: "+i),this.proxy.callCallback("left",[t,i])},actorChanged:function(e,t,n){Cr.Utils.log("[RTC] actorChanged"),this.proxy.callCallback("actorChanged",[e,t,n])},nicknameChanged:function(e,t,n){Cr.Utils.log("[RTC] nicknameChanged"),this.proxy.callCallback("notifyNicknameChanged",arguments)},optionChanged:function(e){Cr.Utils.log("[RTC] optionChanged"),this.proxy.callCallback("optionChanged",[e])},agendaUpdated:function(e){Cr.Utils.log("[RTC] agendaUpdated")},autoEndCancelled:function(){Cr.Utils.log("[RTC] autoEndCancelled")},conferenceBegan:function(){Cr.Utils.log("[RTC] conferenceBegan")},conferenceEnded:function(e,t){Cr.Utils.log("[RTC] conferenceEnded"),this.proxy.callCallback("conferenceEnded",[e])},confirmAutoEnd:function(e){Cr.Utils.log("[RTC] confirmAutoEnd")},inviteStateChanged:function(e,t){Cr.Utils.log("[RTC] inviteStateChanged:")},memberCount:function(e){Cr.Utils.log("[RTC] memberCount")},notifyApplyDemo:function(e){Cr.Utils.log("[RTC] notifyApplyDemo"),this.proxy.callCallback("notifyApplyDemo",[e])},notifyApplyRejected:function(e,t){Cr.Utils.log("[RTC] notifyApplyRejected")},notifyAssistantChanged:function(e,t,n){Cr.Utils.log("[RTC] notifyAssistantChanged,".concat(n)),C.SDK_event.emitEventListener("NotifyAssistantChanged",e,t,n)},notifyNetDetectResults:function(e,t,n){Cr.Utils.log("[RTC] notifyNetDetectResults")},notifyReportStatus:function(e,t){Cr.Utils.log("[RTC] notifyReportStatus")},exeCmd:function(e){Cr.Utils.log("[RTC] exeCmd")},notifyStart1v1SubMeeting:function(e){Cr.Utils.log("[RTC] notifyStart1v1SubMeeting")},notifyStop1v1SubMeeting:function(e){Cr.Utils.log("[RTC] notifyStop1v1SubMeeting")},notifyStart1v1SubMeetingRslt:function(e,t){Cr.Utils.log("[RTC] notifyStart1v1SubMeetingRslt")},setWDT1v1SubMeetingMode:function(e,t){Cr.Utils.log("[RTC] setWDT1v1SubMeetingMode")},notifyIVRStatus:function(e,t){Cr.Utils.log("[RTC] notifyIVRStatus")},notifyStartSvrBroadcast:function(e,t){Cr.Utils.log("[RTC] notifyStartSvrBroadcast")},notifyLuckyDrawCfg:function(e){Cr.Utils.log("[RTC] notifyLuckyDrawCfg")},notifyLuckyDrawResult:function(e){Cr.Utils.log("[RTC] notifyLuckyDrawResult")},roomKnocked:function(e,t){Cr.Utils.log("[RTC] roomKnocked")},roomStateChanged:function(e){Cr.Utils.log("[RTC] roomStateChanged"),C.SDK_event.emitEventListener("NotifyRoomStateChanged",e)},serverNotify:function(e){Cr.Utils.log("[RTC] serverNotify, id:"+e)},serverNotifyMsg:function(e){Cr.Utils.log("[RTC] serverNotifyMsg, msg:"+e)},subjectUpdated:function(e){Cr.Utils.log("[RTC] subjectUpdated")},updateAppStatus:function(e,t){Cr.Utils.log("[RTC] updateAppStatus")},notifyStartBroadCast:function(){Cr.Utils.log("[RTC] notifyStartBroadCast"),this.proxy.callCallback("notifyStartBroadCast")},notifyStopBroadCast:function(){Cr.Utils.log("[RTC] notifyStopBroadCast"),this.proxy.callCallback("notifyStopBroadCast")},notifyWebViewerNum:function(e){Cr.Utils.log("[RTC] notifyWebViewerNum")},notifyBroadCastStartPush:function(){Cr.Utils.log("[RTC] notifyBroadCastStartPush"),this.proxy.callCallback("notifyBroadCastStartPush")},notifyBroadCastStopPush:function(){Cr.Utils.log("[RTC] CR__NotifyBroadCastStopPush"),this.proxy.callCallback("notifyBroadCastStopPush")},rightChanged:function(e){Cr.Utils.log("[RTC] rightChanged");var t=Array.from(e.addedRights),n=Array.from(e.reducedRights);X.call([e.termId,t,n])},notifyBroadCastPlayback:function(e){this.proxy.callCallback("notifyPlayBackStartPush",[e])},notifypayback:function(){this.proxy.callCallback("notifypayback")},notifyBroadCastPlaybackStop:function(e){this.proxy.callCallback("notifyBroadCastPlaybackStop",[e])},notifySwtichLiveAppElements:function(e,t){this.proxy.callCallback("notifySwtichLiveAppElements",[e,t])},notifyThumbUp:function(e,t,n){this.proxy.callCallback("notifyThumbUp",[e,t,n])}},"notifyLuckyDrawCfg",(function(e){Cr.Utils.log("[RTC] notifyLuckyDrawCfg"),this.proxy.callCallback("notifyLuckyDrawCfg",[e.cdTime,e.isAutoDraw,e.memberType,e.prizes])})),a(o,"notifyLDMembersStatus",(function(e){this.proxy.callCallback("notifyLDMembersStatus",e)})),a(o,"notifyLuckyDrawResult",(function(e){Cr.Utils.log("[RTC] notifyLuckyDrawResult"),this.proxy.callCallback("notifyLuckyDrawResult",[e.prize,e.annouceTime,e.res])})),a(o,"notifySvrRecordStateChanged",(function(e,t,n){C.SDK_event.emitEventListener("notifySvrRecordStateChanged",e,t,n)})),a(o,"notifySvrRecordCfgChanged",(function(e,t){C.SDK_event.emitEventListener("notifySvrRecordCfgChanged",e,t)})),a(o,"notifySvrRecordFileState",(function(e){C.SDK_event.emitEventListener("notifySvrRecordFileState",e)})),a(o,"notifySvrBroadcastCfgChanged",(function(e,t){Cr.Utils.log("[RTC] notifySvrBroadcastCfgChanged"),this.proxy.callCallback("notifySvrBroadcastCfgChanged",[e,t])})),a(o,"notifyAppUILocked",(function(e){Cr.Utils.log("[RTC] notifyAppUILocked")})),a(o,"notifyBeginVote",(function(e,t,n){Cr.Utils.log("[RTC] notifyBeginVote")})),a(o,"notifyEndVote",(function(e){Cr.Utils.log("[RTC] notifyEndVote")})),a(o,"notifyPublishVoteResult",(function(e,t){Cr.Utils.log("[RTC] notifyPublishVoteResult")})),a(o,"notifyCommitVote",(function(e,t){Cr.Utils.log("[RTC] notifyCommitVote")})),a(o,"notifyTerminalMsg",(function(e,t,n,i){Cr.Utils.log("[RTC] notifyTerminalMsg"),this.proxy.callCallback("notifyTerminalMsg",[e,t,n,i])})),a(o,"notifyShareStateChanged",(function(e){Cr.Utils.log("[RTC] notifyShareStateChanged"),this.proxy.callCallback("notifyShareStateChanged",[e])})),a(o,"notifyMeetingAttrsChanged",(function(e,t,n){Cr.Utils.log("[RTC] notifyMeetingAttrsChanged"),C.SDK_event.emitEventListener("notifyMeetingAttrsChanged",e,t,n)})),a(o,"notifyUserAttrsChanged",(function(e,t,n,i){Cr.Utils.log("[RTC] notifyUserAttrsChanged"),C.SDK_event.emitEventListener("notifyUserAttrsChanged",e,t,n,i)})),a(o,"notifyClodudRecordStateChanged",(function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];(e=C.SDK_event).emitEventListener.apply(e,["notifyClodudRecordStateChanged"].concat(n))})),a(o,"notifyClodudRecordCfgChanged",(function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];(e=C.SDK_event).emitEventListener.apply(e,["notifyClodudRecordCfgChanged"].concat(n))})),a(o,"notifyClodudRecordFileState",(function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];(e=C.SDK_event).emitEventListener.apply(e,["notifyClodudRecordFileState"].concat(n))})),o)),MSClientI=Ice.Class(MS.MSClient,{setProxy:function(e){this.proxy=e},VideoAllocRaw_async:function(e,t,n){Cr.Utils.log("[RTC] VideoAllocRaw"),this.proxy.callCallback("VideoAllocRaw",[e,t,n])},VideoAllocRawExt_async:function(e,t,n,i,r){Cr.Utils.log("[RTC] VideoAllocRawExt_async"),this.proxy.callCallback("VideoAllocRawExt",[e,t,n,i])},VideoAllocRawExt2_async:function(e,t,n,i,r){Cr.Utils.log("[RTC] VideoAllocRawExt2_async"),this.proxy.callCallback("VideoAllocRawExt2",[e,t,n,i])},AudioAllocRaw_async:function(e,t){Cr.Utils.log("[RTC] AudioAllocRaw"),this.proxy.callCallback("AudioAllocRaw",[e,t])},AudioAllocRawExt_async:function(e,t,n,i){Cr.Utils.log("[RTC] AudioAllocRawExt"),this.proxy.callCallback("AudioAllocRawExt",[e,t,n])},AudioAllocRawExt2_async:function(e,t,n,i){n=n.get("mediashare"),Cr.Utils.log("[RTC] AudioAllocRawExt2"),this.proxy.callCallback("AudioAllocRawExt2",[e,t,n])},ModifyPeerAddr_async:function(e,t,n){Cr.Utils.log("[RTC] ModifyPeerAddr"),this.proxy.callCallback("ModifyPeerAddr",[e,asParam,strParams])},ModifyPeerAddrExt_async:function(e,t,n){e.ice_response(),Cr.Utils.log("[RTC] ModifyPeerAddrExt"),this.proxy.callCallback("ModifyPeerAddrExt",[e,t,n])},NotifyRTMPStreamPublishFinished_async:function(e,t,n,i,r,o,c,s){Cr.Utils.log("[RTC] NotifyRTMPStreamPublishFinished_async"),this.proxy.callCallback("NotifyRTMPStreamPublishFinished",[e,t,n])},DisableSendVideo2Internet_async:function(e,t){e.ice_response(),Cr.Utils.log("[RTC] DisableSendVideo2Internet"),this.proxy.callCallback("DisableSendVideo2Internet",[t])},EnableSendScreen2Internet_async:function(e){e.ice_response(),Cr.Utils.log("[RTC] EnableSendScreen2Internet"),this.proxy.callCallback("EnableSendScreen2Internet",[e])},DisableSendScreen2Internet_async:function(e){e.ice_response(),Cr.Utils.log("[RTC] DisableSendScreen2Internet"),this.proxy.callCallback("DisableSendScreen2Internet",[e])},EnableSendFilm2Internet_async:function(e){e.ice_response(),Cr.Utils.log("[RTC] EnableSendFilm2Internet"),this.proxy.callCallback("EnableSendFilm2Internet",[e])},DisableSendFilm2Internet_async:function(e){e.ice_response(),Cr.Utils.log("[RTC] DisableSendFilm2Internet"),this.proxy.callCallback("DisableSendFilm2Internet",[e])},EnableSendVideo2Internet_async:function(e,t){e.ice_response(),Cr.Utils.log("[RTC] EnableSendVideo2Internet"),this.proxy.callCallback("EnableSendVideo2Internet",[t])},Free_async:function(e,t){e.ice_response(),Cr.Utils.log("[RTC] Free"),this.proxy.callCallback("Free",[t])}}),AnsQueReceptor=Ice.Class(Conference.AnsQueCallback,{setProxy:function(e){this.proxy=e},askQuesNotify:function(e,t){Cr.Utils.log("[RTC] askQuesNotify(id:%s)",e),this.proxy.callCallback("askQuesNotify",[e,t])},lockQuesNotify:function(e,t){Cr.Utils.log("[RTC] lockQuesNotify(id:%s)",e),this.proxy.callCallback("lockQuesNotify",[e,t])},replyQuesNotify:function(e,t){Cr.Utils.log("[RTC] replyQuesNotify(id:%s)",e),this.proxy.callCallback("replyQuesNotify",[e,t])},modifyQuesNotify:function(e,t){Cr.Utils.log("[RTC] modifyQuesNotify(id:%s)",e),this.proxy.callCallback("modifyQuesNotify",[e,t])},delQuesNotify:function(e,t){Cr.Utils.log("[RTC] delQuesNotify(id:%s)",e),this.proxy.callCallback("delQuesNotify",[e,t])},delAllQuesNotify:function(e){Cr.Utils.log("[RTC] delAllQuesNotify(termId:%s)",e),this.proxy.callCallback("delAllQuesNotify",[e])},publicQuesNotify:function(e,t,n){Cr.Utils.log("[RTC] publicQuesNotify(id:%s)",e),this.proxy.callCallback("publicQuesNotify",[e,t,n])},quesTypeChangeNotify:function(e,t){Cr.Utils.log("[RTC] quesTypeChangeNotify(id:%s)",e),this.proxy.callCallback("quesTypeChangeNotify",[e,t])},modifyQuesTypeNotify:function(e,t){Cr.Utils.log("[RTC] modifyQuesTypeNotify(termId:%s)",e),this.proxy.callCallback("modifyQuesTypeNotify",[e,t])},setBroadCastQuesNotify:function(e){Cr.Utils.log("[RTC] setBroadCastQuesNotify(bEnable:%s)",e),this.proxy.callCallback("setBroadCastQuesNotify",[e])}}),ChatReceptor=Ice.Class(Conference.IMCallback,{setProxy:function(e){this.proxy=e},receiveIMMsg:function(e){Cr.Utils.log("[RTC] receiveIMMsg(srcNickname:".concat(e.srcNickname,")")),this.proxy.callCallback("receiveIMMsg",[e])},notifyIMForbidStatus:function(e,t,n){Cr.Utils.log("[RTC] notifyIMForbidStatus"),this.proxy.callCallback("notifyIMForbidStatus",[t,n])},notifyClearIMMsg:function(e){Cr.Utils.log("[RTC] notifyClearIMMsg"),this.proxy.callCallback("notifyClearIMMsg")},notifyDeleteIMMsg:function(e){Cr.Utils.log("[RTC] notifyDeleteIMMsg"),this.proxy.callCallback("notifyDeleteIMMsg",[e])}}),VideoReceptor=Ice.Class(Conference.VideoCallback,{setProxy:function(e){this.proxy=e},notifyAllowVideoWall:function(e,t){Cr.Utils.log("[RTC] notifyAllowVideoWall"),this.proxy.callCallback("notifyAllowVideoWall",[e,t])},updateStatus:function(e,t,n){Cr.Utils.log("[RTC] VideoUpdateStatus"),this.proxy.callCallback("VideoUpdateStatus",[e,t,n])},notifyOpenVideo:function(e){Cr.Utils.log("[RTC] notifyOpenVideo"),this.proxy.callCallback("notifyOpenVideo",[e])},startVideoByManager:function(){Cr.Utils.log("[RTC] startVideoByManager"),this.proxy.callCallback("startVideoByManager")},notifyEnableVideo:function(e,t,n){Cr.Utils.log("[RTC] notifyEnableVideo"),this.proxy.callCallback("notifyEnableVideo",[e,t,n])},updateFocusWindow:function(e,t){Cr.Utils.log("[RTC] updateFocusWindow"),this.proxy.callCallback("updateFocusWindow",[e,t])},updateVLayout:function(e,t){Cr.Utils.log("[RTC] updateVLayout"),this.proxy.callCallback("updateVLayout",[e,t])},updateVLayout2:function(e,t){Cr.Utils.log("[RTC] updateVLayout2"),this.proxy.callCallback("updateVLayout2",[e,t])},updateMainVideoShowMode:function(e,t){Cr.Utils.log("[RTC] updateMainVideoShowMode"),this.proxy.callCallback("updateMainVideoShowMode",[e,t])},updateVideoListMode:function(e,t){Cr.Utils.log("[RTC] updateVideoListMode"),this.proxy.callCallback("updateVideoListMode",[e,t])},enableUpload:function(e,t){Cr.Utils.log("[RTC] enableUpload"),this.proxy.callCallback("enableUpload",[e,t])},enableUpload2:function(e,t){Cr.Utils.log("[RTC] enableUpload2"),this.proxy.callCallback("enableUpload2",[e,t])},generateIFrame:function(e){Cr.Utils.log("[RTC] generateIFrame"),this.proxy.callCallback("generateIFrame",[e])},notifyRefuseOpenVideo:function(e){Cr.Utils.log("[RTC] notifyRefuseOpenVideo"),this.proxy.callCallback("notifyRefuseOpenVideo",[e])},getVideoSetting:function(){Cr.Utils.log("[RTC] getVideoSetting"),this.proxy.callCallback("getVideoSetting")},setCamera:function(e,t){Cr.Utils.log("[RTC] setCamera"),this.proxy.callCallback("notifySetCamera",[e,t])},setCameraById:function(){Cr.Utils.log("[RTC] setCameraById"),this.proxy.callCallback("notifySetCameraById")},notifyVideoPolling:function(e,t,n){Cr.Utils.log("[RTC] notifyVideoPolling"),this.proxy.callCallback("notifyVideoPolling",[e,t,n])},notifyPollingVideo:function(e,t){Cr.Utils.log("[RTC] notifyPollingVideo"),this.proxy.callCallback("notifyPollingVideo",[e,t])},notifyPollingVideo2:function(e,t,n){Cr.Utils.log("[RTC] notifyPollingVideo2")},notifyVideoList:function(e,t){Cr.Utils.log("[RTC] notifyVideoList"),this.proxy.callCallback("notifyVideoList",[e,t])},notifyUpdateAllCameraInfos:function(e,t){Cr.Utils.log("[RTC] notifyUpdateAllCameraInfos"),this.proxy.callCallback("notifyUpdateAllCameraInfos",[e,t])},notifySetOpenedCameraNumber:function(e,t){Cr.Utils.log("[RTC] notifySetOpenedCameraNumber"),this.proxy.callCallback("notifySetOpenedCameraNumber",[e,t.join(";")])},notifyStartAdjustDirection:function(e,t){Cr.Utils.log("[RTC] notifyStartAdjustDirection"),this.proxy.callCallback("notifyStartAdjustDirection",[e,t])},notifyStartAdjustZoom:function(e,t){Cr.Utils.log("[RTC] notifyStartAdjustZoom"),this.proxy.callCallback("notifyStartAdjustZoom",[e,t])},notifyStopAdjustDirection:function(e){Cr.Utils.log("[RTC] notifyStopAdjustDirection"),this.proxy.callCallback("notifyStopAdjustDirection",[e])},notifyStopAdjustZoom:function(e){Cr.Utils.log("[RTC] notifyStopAdjustZoom"),this.proxy.callCallback("notifyStopAdjustZoom",[e])}}),AudioReceptor=Ice.Class(Conference.AudioCallback,{setProxy:function(e){this.proxy=e},updateStatus:function(e,t,n){Cr.Utils.log("[RTC] AudioUpdateStatus"),this.proxy.callCallback("AudioUpdateStatus",[t,n,e])},updateVoiceEnergy:function(e){this.proxy.callCallback("updateVoiceEnergy",[e])},updateSpeaker:function(e){Cr.Utils.log("[RTC] updateSpeaker"),this.proxy.callCallback("updateSpeaker",[e])},closeAll:function(e){Cr.Utils.log("[RTC] NotifyCloseAll"),this.proxy.callCallback("NotifyCloseAll",[e])},playBackgroundMusic:function(e,t){Cr.Utils.log("[RTC] playBackgroundMusic"),this.proxy.callCallback("playBackgroundMusic",[e,t])},notifyVoiceHowling:function(e,t){Cr.Utils.log("[RTC] notifyVoiceHowling"),this.proxy.callCallback("notifyVoiceHowling",[e,t])},notifyVoiceNoise:function(e,t){Cr.Utils.log("[RTC] notifyVoiceNoise"),this.proxy.callCallback("notifyVoiceNoise",[e,t])},getRemoteAudioInfNotify:function(e,t){e.ice_response(),Cr.Utils.log("[RTC] getRemoteAudioInfNotify"),this.proxy.callCallback("getRemoteAudioInfNotify",[t])},remoteAudioSetNotify:function(e,t){Cr.Utils.log("[RTC] remoteAudioSetNotify"),this.proxy.callCallback("remoteAudioSetNotify",[e,t])},notifyLanLessMicOpen:function(){Cr.Utils.log("[RTC] notifyLanLessMicOpen"),this.proxy.callCallback("notifyLanLessMicOpen")}}),ScreenShareReceptor=Ice.Class(Conference.ScreenShareClient,{setProxy:function(e){this.proxy=e},notifyStartScreenShare:function(e){Cr.Utils.log("[RTC] notifyStartScreenShare",e),this.proxy.callCallback("notifyStartScreenShare",[e])},notifyStopScreenShare:function(e){Cr.Utils.log("[RTC] notifyStopScreenShare",e),this.proxy.callCallback("notifyStopScreenShare",[e])},notifyCtrlReqState:function(e,t){Cr.Utils.log("[RTC] notifyCtrlReqState",e,t),this.proxy.callCallback("notifyCtrlReqState",[e,t])},notifyRequestCtrlRight:function(e){Cr.Utils.log("[RTC] notifyRequestCtrlRight",e),this.proxy.callCallback("notifyRequestCtrlRight",[e])},notifyCancelCtrlReq:function(e){Cr.Utils.log("[RTC] notifyCancelCtrlReq",e),this.proxy.callCallback("notifyCancelCtrlReq",[e])},notifyRejectCtrlReq:function(e,t,n){Cr.Utils.log("[RTC] notifyRejectCtrlReq",e,t,n),this.proxy.callCallback("notifyRejectCtrlReq",[e,t,n])},notifyGiveCtrlRight:function(e,t){Cr.Utils.log("[RTC] notifyGiveCtrlRight",e,t),this.proxy.callCallback("notifyGiveCtrlRight",[e,t])},notifyReleaseCtrlRight:function(e){Cr.Utils.log("[RTC] notifyReleaseCtrlRight",e),this.proxy.callCallback("notifyReleaseCtrlRight",[e])},notifyCtrlMsg:function(e,t){Cr.Utils.log("[RTC] notifyCtrlMsg",e,t),this.proxy.callCallback("notifyCtrlMsg",[e,t])},notifyTmpSetRemoteCtrlState:function(e,t){Cr.Utils.log("[RTC] notifyTmpSetRemoteCtrlState",e,t),this.proxy.callCallback("notifyTmpSetRemoteCtrlState",[e,t])},notifyRequestMarked:function(e){Cr.Utils.log("[RTC] notifyRequestMarked",e),this.proxy.callCallback("notifyRequestMarked",[e])},notifyCancelMarkedReq:function(e){Cr.Utils.log("[RTC] notifyCancelMarkedReq",e),this.proxy.callCallback("notifyCancelMarkedReq",[e])},notifyStartMarked:function(e){Cr.Utils.log("[RTC] notifyStartMarked",e),this.proxy.callCallback("notifyStartMarked",[e])},notifyStopMarked:function(e){Cr.Utils.log("[RTC] notifyStopMarked",e),this.proxy.callCallback("notifyStopMarked",[e])},notifyEnableOtherMarked:function(e,t){Cr.Utils.log("[RTC] notifyEnableOtherMarked",e,t),this.proxy.callCallback("notifyEnableOtherMarked",[e,t])},notifyMakeIFrame:function(e){Cr.Utils.log("[RTC] notifyScMakeIFrame"),this.proxy.callCallback("notifyScMakeIFrame",[e])},notifyMarkData:function(e){Cr.Utils.log("[RTC] notifyMarkData",e),this.proxy.callCallback("notifyMarkData",[e,"v3"])},notifyClearAllMarks:function(){Cr.Utils.log("[RTC] notifyClearAllMarks"),this.proxy.callCallback("notifyClearAllMarks")},notifyIndicator:function(e,t){Cr.Utils.log("[RTC] notifyIndicator",e,t),this.proxy.callCallback("notifyIndicator",[e,t])},notifyClearAllMarksV4:function(){Cr.Utils.log("[RTC] notifyClearAllMarksV4"),this.proxy.callCallback("notifyClearAllMarks")},notifyMarkDataV4:function(e){Cr.Utils.log("[RTC] notifyMarkDataV4",e),this.proxy.callCallback("notifyMarkData",[e,"v4"])},notifyDelMarkDataV4:function(e,t){Cr.Utils.log("[RTC] notifyMarkDataV4",e,t)}}),MediaReceptor=Ice.Class(Conference.MediaCallback,{setProxy:function(e){this.proxy=e},notifyStartPlayMedia:function(e){e.state=e.state.name,Cr.Utils.log("[RTC] notifyStartPlayMedia",e),this.proxy.callCallback("notifyStartPlayMedia",[e])},notifyStopPlayMedia:function(e){Cr.Utils.log("[RTC] notifyStopPlayMedia",e),this.proxy.callCallback("notifyStopPlayMedia",[e])},notifyPausePlayMedia:function(e,t){Cr.Utils.log("[RTC] notifyPausePlayMedia",e,t),this.proxy.callCallback("notifyPausePlayMedia",[e,t])},notifyMakeIFrame:function(){Cr.Utils.log("[RTC] notifyMediaMakeIFrame"),this.proxy.callCallback("notifyMediaMakeIFrame")},notifySubscribeMedia:function(e){Cr.Utils.log("[RTC] notifySubscribeMedia",e),this.proxy.callCallback("notifySubscribeMedia",[e])}}),WhiteBoardReceptor=Ice.Class(Conference.WhiteBoardCallback,{setProxy:function(e){this.proxy=e},notifySetContainerSize:function(e,t,n){Cr.Utils.log("[RTC] notifySetContainerSize(id:%s)",e,t,n),this.proxy.callCallback("notifySetContainerSize",[e,t,n])},notifyCreate:function(e,t){Cr.Utils.log("[RTC] notifyCreate",e),this.proxy.callCallback("notifyCreate",[e,t])},notifyImportPage:function(e,t,n){Cr.Utils.log("[RTC] notifyImportPage",e,t,n),this.proxy.callCallback("notifyImportPage",[e,t,n])},notifyClose:function(e,t){Cr.Utils.log("[RTC] notifyClose",e,t),this.proxy.callCallback("notifyClose",[e,t])},notifyChangeName:function(e,t,n){Cr.Utils.log("[RTC] notifyChangeName",e,t,n),this.proxy.callCallback("notifyChangeName",[e,t,n])},notifyChangeScale:function(e,t,n){Cr.Utils.log("[RTC] notifyChangeScale",e,t,n),this.proxy.callCallback("notifyChangeScale",[e,t,n])},notifyChangeRotate:function(e,t,n){Cr.Utils.log("[RTC] notifyChangeRotate",e,t,n),this.proxy.callCallback("notifyChangeRotate",[e,t,n])},notifySetCurrentPage:function(e,t,n,i,r){this.whiteBoardId&&this.whiteBoardId.localID===e.localID&&this.whiteBoardId.termID===e.termID&&this.iPage===t&&this.animID===n&&this.animFrames===i&&this.opId===r||(this.whiteBoardId=e,this.iPage=t,this.animID=n,this.animFrames=i,this.opId=r,Cr.Utils.log("[RTC] notifySetCurrentPage",e,t,n,i,r),this.proxy.callCallback("notifySetCurrentPage",[e,t,n,i,r]))},notifyShowThumPage:function(e,t,n){Cr.Utils.log("[RTC] notifyShowThumPage",e,t,n),this.proxy.callCallback("notifyShowThumPage",[e,t,n])},notifyAddElement:function(e,t,n,i){Cr.Utils.log("[RTC] notifyAddElement",e,t,n,i),this.proxy.callCallback("notifyAddElement",[e,t,n,i])},notifyAddElementEx:function(e,t,n,i){Cr.Utils.log("[RTC] notifyAddElementEx",e,t,n,i),this.proxy.callCallback("notifyAddElementEx",[e,t,n,i])},notifyMoveElement:function(e,t,n,i){Cr.Utils.log("[RTC] notifyMoveElement",e,t,n,i),this.proxy.callCallback("notifyMoveElement",[e,t,n,i])},notifyModifyElement:function(e,t,n,i){Cr.Utils.log("[RTC] notifyModifyElement",e,t,n,i),this.proxy.callCallback("notifyModifyElement",[e,t,n,i])},notifyDelElement:function(e,t,n,i){Cr.Utils.log("[RTC] notifyDelElement",e,t,n,i),this.proxy.callCallback("notifyDelElement",[e,t,n,i])},notifySetElementZPos:function(e,t,n,i){Cr.Utils.log("[RTC] notifySetElementZPos",e,t,n,i),this.proxy.callCallback("notifySetElementZPos",[e,t,n,i])},notifySetIndicator:function(e,t,n){Cr.Utils.log("[RTC] notifySetIndicator",e,t,n),this.proxy.callCallback("notifySetIndicator",[e,t,n])},notifySetHotspot:function(e,t,n,i,r){this.proxy.callCallback("notifySetHotspot",[e,t,n,i,r])},notifySetMarkTerms:function(e,t,n){Cr.Utils.log("[RTC] notifySetMarkTerms",e,t,n),C.SDK_event.emitEventListener("NotifySetMarkTerms",e,t,n)}}),SyncCtrlReceptor=Ice.Class(Conference.SyncCtrlCallback,{setProxy:function(e){this.proxy=e},notifySetCurrentTab:function(){Cr.Utils.log("[RTC] notifySetCurrentTab"),this.proxy.callCallback("notifySetCurrentTab",arguments)},notifySetFullScreen:function(){Cr.Utils.log("[RTC] notifySetFullScreen",arguments)},notifySetPrivTabInfo:function(){Cr.Utils.log("[RTC] notifySetPrivTabInfo",arguments)},notifySetSyncMode:function(){Cr.Utils.log("[RTC] notifySetSyncMode",arguments)}}),Cr.LHProxy=function(e){this.__config=e,!this.__config||"ws"!=this.__config.protocol&&"wss"!=this.__config.protocol?this._protocol="wss":this._protocol=this.__config.protocol,this._type="html5",this._logining=!1,Cr.__init=!0},Cr.LHProxy.prototype.init=function(){var e=new Cr.AsyncResult;CR_NOERR;return this.callbackDict={},this._initData=new Ice.InitializationData,this._initData.properties=Ice.createProperties(),this._initData.properties.setProperty("Ice.Trace.Network","0"),this._initData.properties.setProperty("Ice.Trace.Protocol","0"),this._initData.properties.setProperty("Ice.ACM.Client","0"),this._initData.properties.setProperty("Ice.Default.EncodingVersion","1.0"),this._initData.properties.setProperty("Ice.ThreadPool.Client.Serialize","1"),this._initData.properties.setProperty("Ice.ThreadPool.Server.Serialize","1"),e.complete([CR_NOERR,""]),e},Cr.LHProxy.prototype.registeredCallback=function(e,t){if(this.callbackDict[e])throw"已经存在的注册对象";this.callbackDict[e]=t},Cr.LHProxy.prototype.unregisterCallback=function(e,t){this.callbackDict[e]=null,delete this.callbackDict[e]},Cr.LHProxy.prototype.callCallback=function(e,t){var n=this.callbackDict[e];n&&"function"==typeof n&&n.call(null,t)},Cr.LHProxy.prototype.login=function(e,t,n,i,r,o,c){var a=this;console.crlog("[RTC] login meeting server");var l=function e(i,s){Cr.Utils.log("[RTC] acssvr loginmeeting:"+i[0]);var l={},I=i[0];Cr._routerPrx=a._routerPrx=E.routerPrx,a._routerPrx.createSession("N"+Cr.crmt.MEET[0],"").then((function(e){return a._session=e,a._routerPrx.getCategoryForClient()})).then((function(t){if(a._category=t,a._communicator.setDefaultRouter(a._routerPrx),s)return console.crlog('[Resm] _communicator.createObjectAdapterWithRouter("CallbackAdapter", "this._routerPrx")'),a._communicator.createObjectAdapterWithRouter("CallbackAdapter",a._routerPrx);console.crlog("[Resm] Resm.AccessMPrx uncheckedCast...");var n=Resm.AccessMPrx.uncheckedCast(a._communicator.stringToProxy("d0/AccessM")),i=Cr.crmt.DOMAIN,r=Cr.crmt.MEET[0],o=Cr.crmt.MYPUBIP,c=Ice.generateUUID(),l=new Resm.NetworkResult,u="";return a.acssvrs.forEach((function(e){var t=new Resm.NetworkStatus;t.latency=30,t.lostRate=0,l.set(e[0],t),u+=e[0]+","})),console.crlog("[Resm] Resm locate".concat(JSON.stringify({domain:i,confID:r,publicIP:o,uuid:c,serverlog:u}))),n.locate(i,r,l,o,c).then((function(t){if(console.crlog("[Resm] Got resm accessNo: ".concat(t)),+t==+E.acssvr[0])return console.crlog('[Resm] _communicator.createObjectAdapterWithRouter("CallbackAdapter", "this._routerPrx")'),a._communicator.createObjectAdapterWithRouter("CallbackAdapter",a._routerPrx);var n=a.acssvrs.findIndex((function(e){return+e[0]===t})),i=a.acssvrs[n];d(i).then((function(){return e(i,!0),!1})).catch((function(e){return a.acssvrs.splice(n,1),y(),!1}))})).exception((function(e){return console.crlog("[Resm] Resm locate fail!"),console.crlog(e),a._communicator.createObjectAdapterWithRouter("CallbackAdapter",a._routerPrx)}))})).then((function(e){if(e){ji.accessSvr||(ji.accessSvr=i[1]),Cr._adapter=a._adapter=e;var o=new Conference.LoginRequest;o.confId=Cr.crmt.MEET[0],o.confKey=Cr.crmt.MEET[1];var c=g.readInfo(Cr.crmt.MEET[0]);if(1==Cr.crmt.ACNT[1]||6==Cr.crmt.ACNT[1]){var s=c[Cr.crmt.ACNT[1]];o.memberId=s&&s.memberID||Cr.crmt.ACNT[0],o.memberType=s&&s.memberType||Cr.crmt.ACNT[1],o.nickname=Cr.crmt.ACNT[3],o.termId=s&&s.termId||t}else if(4==Cr.crmt.ACNT[1]){Cr.crmt.ACNT[1]=6;var l=c[Cr.crmt.ACNT[1]];l?(o.memberId=l.memberID,o.memberType=l.memberType,o.termId=l.termId):(o.memberId=n.id,o.memberType=n.type,o.termId=t),o.nickname=n.nickname}o.priv_dat=n.userId,o.accessNo=I,o.callbacks=new Ice.HashMap,o.extProperty=new Ice.HashMap;var d=function(){var e=wx.getStorageSync("CR_DeviceID");if(e)return e;var t=Ice.generateUUID();return wx.setStorage({key:"CR_DeviceID",data:t}),t}();o.extProperty.set(Conference.CLINET_PCID,d),n&&o.extProperty.set(Conference.CLIETN_PRIV_DAT,n.userId);var h="",f=p.deviceInfo,C=f.platform,y=f.brand,m=f.system;"ios"==C||"iPhone"==y||m.indexOf("iOS")>-1?h=Conference.PLATFORMTYPE_IOS:("android"==C||m.indexOf("Android")>-1)&&(h=Conference.PLATFORMTYPE_ANDROID);o.extProperty.set(Conference.CLINET_PLATFORM,h),o.extProperty.set(Conference.CLINET_BROWSER_INFO,"wxmini"),o.extProperty.set(Conference.CLINET_OPENID,r),o.extProperty.set(Conference.CLINET_SDK_VER,_.sdkver),u||o.extProperty.set(Conference.CLINET_WEBRTC_CODECS,window.rtc_codecs),o.extProperty.set(Conference.CLINET_DEVICETYPE,"wxmini"),o.extProperty.set(Conference.CLINET_LOGIN_TIMESTAMP,parseInt((new Date).getTime()/1e3));var S=new Ice.Identity;S.name="ConferenceCallback",S.category=a._category,a._conferenceReceptor=new ConferenceReceptor,a._conferenceReceptor.setProxy(a),a._adapter.add(a._conferenceReceptor,S);var E=Conference.ConferenceCallbackPrx.uncheckedCast(a._adapter.createDirectProxy(S));o.callbacks.set("ConferenceCallback",E);var R=new Ice.Identity;R.name="IMCallback",R.category=a._category,a._chatReceptor=new ChatReceptor,a._chatReceptor.setProxy(a),a._adapter.add(a._chatReceptor,R);var b=Conference.IMCallbackPrx.uncheckedCast(a._adapter.createDirectProxy(R));o.callbacks.set("IMCallback",b);var w=new Ice.Identity;w.name="AnsQueCallback",w.category=a._category,a._ansQueReceptor=new AnsQueReceptor,a._ansQueReceptor.setProxy(a),a._adapter.add(a._ansQueReceptor,w);var x=Conference.AnsQueCallbackPrx.uncheckedCast(a._adapter.createDirectProxy(w));o.callbacks.set("AnsQueCallback",x);var P=new Ice.Identity;P.name="VideoCallback",P.category=a._category,a._videoReceptor=new VideoReceptor,a._videoReceptor.setProxy(a),a._adapter.add(a._videoReceptor,P);var O=Conference.VideoCallbackPrx.uncheckedCast(a._adapter.createDirectProxy(P));o.callbacks.set("VideoCallback",O);var D=new Ice.Identity;D.name="AudioCallback",D.category=a._category,a._audioReceptor=new AudioReceptor,a._audioReceptor.setProxy(a),a._adapter.add(a._audioReceptor,D);var M=Conference.AudioCallbackPrx.uncheckedCast(a._adapter.createDirectProxy(D));o.callbacks.set("AudioCallback",M);var N=new Ice.Identity;N.name="MS.MSClient",N.category=a._category,a._mSClientI=new MSClientI,a._mSClientI.setProxy(a),a._adapter.add(a._mSClientI,N);var A=MS.MSClientPrx.uncheckedCast(a._adapter.createDirectProxy(N));o.callbacks.set("MS.MSClient",A);var T=new Ice.Identity;T.name="ScreenShareClient",T.category=a._category,a._screenShareReceptor=new ScreenShareReceptor,a._screenShareReceptor.setProxy(a),a._adapter.add(a._screenShareReceptor,T);var k=Conference.ScreenShareClientPrx.uncheckedCast(a._adapter.createDirectProxy(T));o.callbacks.set("ScreenShareClient",k);var L=new Ice.Identity;L.name="MediaCallback",L.category=a._category,a._mediaReceptor=new MediaReceptor,a._mediaReceptor.setProxy(a),a._adapter.add(a._mediaReceptor,L);var U=Conference.MediaCallbackPrx.uncheckedCast(a._adapter.createDirectProxy(L));o.callbacks.set("MediaCallback",U);var V=new Ice.Identity;V.name="WhiteBoardCallback",V.category=a._category,a._whiteBoardReceptor=new WhiteBoardReceptor,a._whiteBoardReceptor.setProxy(a),a._adapter.add(a._whiteBoardReceptor,V);var F=Conference.WhiteBoardCallbackPrx.uncheckedCast(a._adapter.createDirectProxy(V));o.callbacks.set("WhiteBoardCallback",F);var j=new Ice.Identity;j.name="SyncCtrlCallback",j.category=a._category,a._syncCtrlReceptor=new SyncCtrlReceptor,a._syncCtrlReceptor.setProxy(a),a._adapter.add(a._syncCtrlReceptor,j);var B=Conference.SyncCtrlCallbackPrx.uncheckedCast(a._adapter.createDirectProxy(j));o.callbacks.set("SyncCtrlCallback",B),v(o)}})).exception((function(e){a._logining=!1,Cr.Utils.log(e.toString()),c({errCode:h.CRVideo_INNER_ERR})}));var v=function e(t){console.crlog("[RTC] login start...");var n="c"+Cr.crmt.MEET[0]+"/ConferenceRoom  @ c"+Cr.crmt.MEET[0]+"-ReplicaConfCtrlAdapters";Conference.ConferenceRoomPrx.uncheckedCast(a._communicator.stringToProxy(n)).login(t).then((function(e){console.crlog("[RTC] login success"),l.termId=e.termId,l.activeMembers=e.activeMembers,l.myDetail=e.myDetail,g.writeInfo(Cr.crmt.MEET[0],{termId:l.termId,memberType:l.myDetail.type,memberID:l.myDetail.id}),l.serverTime=1e3*e.ServerUTCTime-(new Date).getTime(),l.isBegan=e.isBegan,l.countdown=e.countdown,l.mainVideoTermID=e.mainVideoTermID,"VSPEAKER_TRACK"==e.windowMode._name?l.windowMode=1:"VPRESENTER_LOCK"==e.windowMode._name?l.windowMode=2:"VMANAGER_LOCK"==e.windowMode._name&&(l.windowMode=3),l.wbDescibes=e.wbDescibes,l.ServerUTCTime=e.ServerUTCTime,l.bAllowWall=e.bAllowWall,l.bFull=e.bFull,l.bRoomLocked=e.bRoomLocked,l.curMainTab=e.curMainTab,l.curSubTab=e.curSubTab,l.option=e.option,l.lastElemValue=e.lastElemValue,l.lastTabValue=e.lastTabValue;for(var t=e.confInfo.keys(),n={},i=0;i<t.length;i++)n[t[i]]=e.confInfo.get(t[i]);l.confInfo=n;for(var r=0;r<l.activeMembers.length;r++){var c=l.activeMembers[r];C.parseMemberInfo(c),c.termId==l.termId&&(l.nickname=c.nickname,l.userId=c.userId,l.bindId=c.bindId,l.camList=c.camList)}a._conferenceRequest=Conference.ConferenceSessionPrx.uncheckedCast(e.modules.get("ConferenceSession")),a._chatRequest=Conference.IMSessionPrx.uncheckedCast(e.modules.get("IMSession")),a._ansQuesCtrl=Conference.AnsQuesCtrlPrx.uncheckedCast(e.modules.get("AnsQuesCtrl")),a._videoCtrl=Conference.VideoCtrlPrx.uncheckedCast(e.modules.get("VideoCtrl")),a._audioCtrl=Conference.AudioCtrlPrx.uncheckedCast(e.modules.get("AudioCtrl")),a._syncCtrl=Conference.SyncCtrlPrx.uncheckedCast(e.modules.get("SyncCtrl")),a._clientReport=MS.ClientReportPrx.uncheckedCast(e.modules.get("MS.ClientReport")),a._screenShareCtrl=Conference.ScreenShareCtrlPrx.uncheckedCast(e.modules.get("ScreenShareCtrl")),a._mediaCtrl=Conference.MediaCtrlPrx.uncheckedCast(e.modules.get("MediaCtrl")),a._whiteBoardCtrl=Conference.WhiteBoardCtrlPrx.uncheckedCast(e.modules.get("WhiteBoardCtrl")),C.SDK_event.emitEventListener("startNetDiskService",a._communicator,NetDiskService,Cr.crmt.MEET[0],Cr.crmt.WEBID),a._logining=!1,l.existHost=x,o(new Cr.MeetInfo(l)),Cr.Utils.log("[RTC] Time-consuming login:"+((new Date).getTime()-Cr.startTime))})).exception((function(n){if(a._logining=!1,Cr.Utils.log(n.toString()),n instanceof Ice.SocketException)c({errCode:h.CRVideo_SOCKETEXCEPTION});else{if(n instanceof Conference.MemberAlreadyInCanTryVisitor){x=!0;var i=g.readInfo(Cr.crmt.MEET[0]),r=i&&i[6]||{};return t.memberId=Cr.crmt.ACNT[0]=r.memberID||0,t.memberType=Cr.crmt.ACNT[1]=r.memberType||6,t.termId=r&&r.termId,void e(t)}if(n instanceof Conference.MemberAlreadyInMeet)c({errCode:h.CRVideo_ALREADYLOGIN});else if(n instanceof Conference.MemberOverflowError)c({errCode:h.CRVideo_MEMBEROVERFLOWERROR});else if(n instanceof Conference.RoomLockedError)c({errCode:h.CRVideo_MEETROOMLOCKED});else if(n instanceof Conference.ConfMemberOverflowError)c({errCode:h.CRVideo_EXCEED_CONNECTED});else if(n instanceof Conference.OnlyInviteeCanLogin)c({errCode:h.CRVideo_ONLY_INVITEE_CAN_LOGIN});else if(n instanceof Ice.ObjectNotExistException||n instanceof Conference.ConferenceEndError)setTimeout((function(){var n=_.server.getServerAddr()+f.ArrangeConfAPI;console.crlog("[RTC] The meeting is being manually deployed"),wx.request({url:n,data:{MeetID:Number(Cr.crmt.MEET[0]),RequestId:"9ee1fa87-5e8e-4361-8954-3ce2fa125223"},method:"POST",success:function(n){404!=n.statusCode&&0===n.data.RspCode?(console.crlog("[RTC] The deployment was successful"),e(t)):(console.crlog("[RTC] Deployment failure"),c({errCode:h.CRVideo_UNKNOWERR}))},fail:function(){console.crlog("[RTC] Deployment failure"),c({errCode:h.CRVideo_UNKNOWERR})}})}),500);else if(n.toString().indexOf("Ice::")>-1||n instanceof Conference.ConferencePrepareError||n instanceof Conference.ConferenceBusy){if(!(P<12))return void c({errCode:h.CRVideo_MEETNOTEXIST});setTimeout((function(){e(t)}),P<10?200:1e3),P++}else c({errCode:h.CRVideo_UNKNOWERR})}}))}},d=function(e){return new Promise((function(t,n){console.crlog("[RTC]"+JSON.stringify(e)),Mi();var i=e[3],r=Ice.initialize(a._initData);Cr._communicator=r;var o=parseInt(i.split("/sig/")[0]);i="/sig/"+i.split("/sig/")[1];var c="".concat(a._protocol,"://").concat(e[1],":").concat(o).concat(i),s="s".concat(e[0],"/Access:").concat(a._protocol," -r ").concat(i," -h ").concat(e[1]," -p ").concat(o).concat(_.IceTimeOut?" -t "+_.IceTimeOut:"");console.crlog("[RTC]stringToProxy: ".concat(s));var l=Glacier2.RouterPrx.uncheckedCast(r.stringToProxy(s)),u=(new Date).getTime();l.ice_ping().then((function(){var n=(new Date).getTime()-u;Cr.Utils.log("[RTC] finish ping(".concat(c,") ,耗时：").concat(n)),E={url:c,delay:n,routerPrx:l,acssvr:e},a._communicator=r,ji.communicatorIc=a._communicator,t()})).exception((function(e){r.destroy().finally2((function(){n(e)})),Cr.Utils.log("[RTC] finish ping(".concat(c,") Fail,reson: ").concat(e&&e.toString&&e.toString()))}))}))},y=function e(){if(S[w])d(S[w]).then((function(){R=2,l(E.acssvr)})).catch((function(t){S.shift(),0===R&&(void 0===t.ice_cause?R=1:t.ice_cause&&t.ice_cause.errMsg&&(R=3,b=t)),e()}));else switch(R){case 0:console.crlog("[RTC] error: access is empty"),c({errCode:h.CRVideo_NO_SERVERINFO,errDesc:"probeAcssvr Fail2!"});break;case 1:console.crlog("[RTC] 连接超时"),c({errCode:h.CRVideo_SOCKETTIMEOUT});break;case 3:var t=h.WXErrorToCode(b.ice_cause.errMsg);c({errCode:t});break;default:c({errCode:h.CRVideo_SOCKETEXCEPTION})}},I=function(){Ice.Promise.try2((function(){S=Cr.crmt.ACSSVR,S.length,a._logining=!0,a.acssvrs=S,y()})).exception((function(e){Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack),a._logining=!1,c({errCode:h.CRVideo_UNKNOWERR,errDesc:"probeAcssvr Fail3!"})}))},v=function(e){Cr.crmt={};var t=C.base64;if(u)var n=t.decode(e.substr(5));else n=atob(e.substr(5));for(var i=n.split("\n"),r=0;r<i.length;r++){var o=i[r].match(/-(\w+?)=(\S+)/);null!=o&&3==o.length&&(Cr.crmt[o[1]]=o[2],Cr.Utils.log("[RTC] parseCrmt ".concat(r,":").concat(o[1]).concat("MYPUBIP"===o[1]?"****":o[2])))}var c=Cr.crmt.ACNT.split(";"),s=c[3].match(/../g),a=new ArrayBuffer(s.length),l=new DataView(a),d=[];for(r=0;r<s.length;r++)l.setUint8(r,parseInt(s[r],16)),d[r]=l.getUint8(r);var h=Cr.Utils.utf8ByteToUnicodeStr(d);c[3]=h,Cr.crmt.ACNT=c,Cr.crmt.WEBID=c[0],Cr.crmt.MEET=Cr.crmt.MEET.split(";");var f=Cr.crmt.ACSSVR.split(";");for(r=0;r<f.length;r++)f[r]?f[r]=f[r].split(":"):f.splice(r,1);Cr.crmt.ACSSVR=f,Cr.crmt.WXMINRTMPPORT=Cr.crmt.WXMINRTMPPORT||1935;var p=Cr.crmt.TUNNEL.split(";");ji.accessSvr="1"===p[0]&&p[1]?p[1]:null}.bind(this);console.crlog("[RTC] Access login begain...");var m=C.base64;try{this._logining=!0;var S=null,E=null,R=0,b=null,w=0,x=!1,P=0;if(Cr.startTime=(new Date).getTime(),Cr.crmt)Ice.Promise.try2(function(){I()}.bind(this)).exception(function(e){Cr.Utils.log(e.toString()),c({errCode:h.CRVideo_UNKNOWERR,errDesc:"probeAcssvr Fail!"})}.bind(this));else{var O=m.decode(e);O+="\n-JSCLIENT=wxmini";var D=m.encode(O);Ice.Promise.try2(function(){if(1===ji.enterMeetingInterfaceType){var e=_.server.getServerAddr()+f.GetAccKey1;wx.request({url:e,data:"crmt:"+D,method:"POST",dataType:"text",header:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},success:function(e){"200"==e.statusCode?-1!=e.data.indexOf("erro:")?(this._logining=!1,console.crlog("[RTC] GetAccKey1.1 Fail: ".concat(e)),c({errCode:h.CRVideo_SERVER_EXCEPTION,errDesc:"crmt Fail!"})):(v(e.data),I()):(this._logining=!1,console.crlog("[RTC] GetAccKey1.2 Fail: ".concat(e)),c({errCode:h.CRVideo_SERVER_EXCEPTION,errDesc:"crmt Fail!"}))},fail:function(e){this._logining=!1,console.crlog("[RTC] GetAccKey1.3 Fail: ".concat(JSON.stringify(e))),c({errCode:h.WXErrorToCode(e.errMsg),errDesc:"crmt Fail!"})}})}else{var t=_.server.getServerAddr()+f.GetAccKey2;ji.ajax({url:t,type:"POST",data:s(s({},ji.LoginOAuth),{},{CRMT:"crmt:"+D}),success:function(e){if(console.crlog("[webapi] webAPI GetAccKey2 Success"),e)try{v(e),I()}catch(e){this._logining=!1,console.crlog("[webapi] webAPI GetAccKey2.2 Fail: ".concat(e)),c({errCode:h.CRVideo_SERVER_EXCEPTION,errDesc:"crmt Fail!"})}else this._logining=!1,console.crlog("[webapi] webAPI GetAccKey2.1 Fail: ".concat(e)),c({errCode:h.CRVideo_SERVER_EXCEPTION,errDesc:"crmt Fail!"})},error:function(e){this._logining=!1,console.crlog("[webapi] webAPI GetAccKey2.3 result: ".concat(JSON.stringify(e))),c({errCode:e,errDesc:"crmt Fail!"})}})}}.bind(this)).exception(function(e){Cr.Utils.log(e.toString()),this._logining=!1,c({errCode:h.CRVideo_UNKNOWERR,errDesc:"rtc login1 Fail!"})}.bind(this))}}catch(e){Cr.Utils.log(e.toString()),c({errCode:h.CRVideo_UNKNOWERR,errDesc:"rtc login2 Fail!"})}},Cr.LHProxy.prototype.refreshSession=function(){var e=new Cr.AsyncResult;try{this._routerPrx.refreshSession().then(function(){e.complete([CR_NOERR,""])}.bind(this)).exception(function(t){Cr.Utils.log("[Error] refreshSession ShakeHand Fail, reson: \n".concat(t.toString())),t instanceof Glacier2.SessionNotExistException?e.complete([h.CRVideo_CONNECTIONLOST]):t instanceof Ice.ConnectFailedException?e.complete([h.CRVideo_CREATE_CONN_FAILED]):e.complete([h.CRVideo_UNKNOWERR])}.bind(this))}catch(t){e.complete([h.CRVideo_INNER_ERR,t.toString()])}return e},Cr.LHProxy.prototype.keepAlive=function(e){var t=new Cr.AsyncResult;try{statusDict=new Ice.HashMap,statusDict.set("w",e.toString()),this._conferenceRequest.keepAlive(statusDict).then(function(){t.complete([CR_NOERR,""])}.bind(this)).exception(function(e){var n=1;e instanceof Ice.SocketException&&(n=h.CRVideo_SOCKETEXCEPTION),Cr.Utils.log(e.toString()),t.complete([n])}.bind(this))}catch(e){t.complete([h.CRVideo_INNER_ERR,e.toString()])}return t},Cr.LHProxy.prototype.changeNickname=function(e,t){var n=this;return new Promise((function(i,r){try{n._conferenceRequest.changeNickname(e,t).then(function(){i(CR_NOERR)}.bind(n)).exception(function(e){var t=1;e instanceof Ice.SocketException&&(t=h.CRVideo_SOCKETEXCEPTION),Cr.Utils.log(e.toString()),i(t)}.bind(n))}catch(e){i(h.CRVideo_INNER_ERR)}}))},Cr.LHProxy.prototype.changeMemberRights=function(e,t,n){var i=this;return new Promise((function(e,r){try{var o=new Conference.ChangedRights(0,new Uint8Array(t),new Uint8Array(n));i._conferenceRequest.changeMemberRights([o]).then(function(){e([CR_NOERR,""])}.bind(i)).exception(function(t){var n=1;t instanceof Ice.SocketException&&(n=h.CRVideo_SOCKETEXCEPTION),Cr.Utils.log(t.toString()),e([n])}.bind(i))}catch(t){e([h.CRVideo_INNER_ERR,t.toString()])}}))},Cr.LHProxy.prototype.changeOption=function(e){var t=this;return new Promise((function(n,i){try{t._conferenceRequest.changeOption(e).then(function(){n([CR_NOERR,""])}.bind(t)).exception(function(e){var t=1;e instanceof Ice.SocketException&&(t=h.CRVideo_SOCKETEXCEPTION),Cr.Utils.log(e.toString()),n([t])}.bind(t))}catch(e){n([h.CRVideo_INNER_ERR,e.toString()])}}))},Cr.LHProxy.prototype.setDemoActor=function(e){var t=this;return new Promise((function(n,i){try{t._conferenceRequest.setDemoActor(e).then(function(){n([CR_NOERR,""])}.bind(t)).exception(function(e){var t=1;e instanceof Ice.SocketException&&(t=h.CRVideo_SOCKETEXCEPTION),Cr.Utils.log(e.toString()),n([t])}.bind(t))}catch(e){n([h.CRVideo_INNER_ERR,e.toString()])}}))},Cr.LHProxy.prototype.setHostActor=function(e,t){var n=this;return new Promise((function(i,r){try{n._conferenceRequest.setHostActor(e,t||"").then(function(){i(CR_NOERR)}.bind(n)).exception(function(e){var t=1;e instanceof Ice.SocketException?t=h.CRVideo_SOCKETEXCEPTION:e instanceof Conference.AuthError&&(t=h.CRVideo_HOST_PASSWORD_ERROR),Cr.Utils.log(e.toString()),i(t)}.bind(n))}catch(e){i(h.CRVideo_INNER_ERR)}}))},Cr.LHProxy.prototype.setAssistantActor=function(e,t){var n=this;return new Promise((function(i,r){try{n._conferenceRequest.setAssistantActor(e,t).then(function(){i(CR_NOERR)}.bind(n)).exception(function(e){var t=1;e instanceof Ice.SocketException?t=h.CRVideo_SOCKETEXCEPTION:e instanceof Conference.AuthError&&(t=h.CRVideo_HOST_PASSWORD_ERROR),Cr.Utils.log(e.toString()),i(t)}.bind(n))}catch(e){i(h.CRVideo_INNER_ERR)}}))},Cr.LHProxy.prototype.kickout=function(e){var t=this;return new Promise((function(n,i){try{t._conferenceRequest.kickout(e).then(function(){n(CR_NOERR)}.bind(t)).exception(function(e){var t=1;e instanceof Ice.SocketException&&(t=h.CRVideo_SOCKETEXCEPTION),Cr.Utils.log(e.toString()),n(t)}.bind(t))}catch(e){n(h.CRVideo_INNER_ERR)}}))},Cr.LHProxy.prototype.lockRoom=function(e){var t=this;return new Promise((function(n,i){try{t._conferenceRequest.lockRoom(e).then(function(){n([CR_NOERR,""])}.bind(t)).exception(function(e){var t=1;e instanceof Ice.SocketException&&(t=h.CRVideo_SOCKETEXCEPTION),Cr.Utils.log(e.toString()),n([t])}.bind(t))}catch(e){n([h.CRVideo_INNER_ERR,e.toString()])}}))},Cr.LHProxy.prototype.exit=function(e){var t=new Cr.AsyncResult;try{this._conferenceRequest.exit(e).then(function(){t.complete([CR_NOERR,""])}.bind(this)).exception(function(e){t.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([h.CRVideo_INNER_ERR,e.toString()])}return t},Cr.LHProxy.prototype.getActiveMembers=function(){var e=new Cr.AsyncResult;try{statusDict=new Ice.HashMap,this._conferenceRequest.getActiveMembers().then(function(t){for(var n=0;n<t.length;n++){var i=t[n].extProperty;t[n].camList=i.get(Conference.MINFO_OPENEDCAMIDS)||""}e.complete([CR_NOERR,"",t])}.bind(this)).exception(function(t){e.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(t.toString()),Cr.Utils.log(t.stack)}.bind(this))}catch(t){e.complete([h.CRVideo_INNER_ERR,t.toString()])}return e},Cr.LHProxy.prototype.endConference=function(){var e=this;return new Promise((function(t,n){try{e._conferenceRequest.endConference().then(function(){t([CR_NOERR,""])}.bind(e)).exception(function(e){Cr.Utils.log(e.toString()),t([h.CRVideo_INNER_ERR])}.bind(e))}catch(e){t([h.CRVideo_INNER_ERR,e.toString()])}}))},Cr.LHProxy.prototype.SendIMMsg=function(e,t,n,i,r){var o=new Cr.AsyncResult;try{var c=new Ice.Context;c._fwd="z";var s=new Conference.InIMMsgInfo;s.targetTermId=e,s.targetNickname=t,s.font=n,s.msg=Cr.Utils.html2chat(i),s.sendTime=r,this._chatRequest.sendIMMsg(s,c).then(function(){o.complete([CR_NOERR,""])}.bind(this)).exception(function(e){e instanceof Conference.ContainsSensitiveWords?o.complete([h.CRVideo_CONTAIN_SENSITIVEWORDS,"包含了敏感词"]):e instanceof Conference.NotPermitError?o.complete([h.CRVideo_NOT_CHAT_PERMIT,"没有聊天权限"]):o.complete([h.CRVideo_SENDFAIL,"未知错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){o.complete([h.CRVideo_INNER_ERR,e.toString()])}return o},Cr.LHProxy.prototype.getIMMsgCount=function(){var e=new Cr.AsyncResult;try{this._chatRequest.getIMMsgCount().then(function(t){e.complete([CR_NOERR,"",t])}.bind(this)).exception(function(t){e.complete([CR_UNKNOWERR,"未知错误"]),Cr.Utils.log(t.toString()),Cr.Utils.log(t.stack)}.bind(this))}catch(t){e.complete([h.CRVideo_INNER_ERR,t.toString()])}return e},Cr.LHProxy.prototype.getLastMsg=function(e){var t=new Cr.AsyncResult;try{var n=new Ice.Context;n._fwd="z",this._chatRequest.getLastMsg(e,n).then(function(e){var n=[];for(var i in e){var r=e[i],o=r.srcNickname.split("\0"),c=Cr.Utils.chat2html(r.inMsg.msg,r.inMsg.font.color,r.inMsg.font.size),s={type:c[0],index:r.index,msg:c[2],head:c[1],sendTime:r.inMsg.sendTime,targetNickname:r.inMsg.targetNickname,targetTermId:r.inMsg.targetTermId,srcNickname:o[0],srcTermId:r.srcTermId,ishost:o.length>1};n.push(new Cr.MsgInfo(s))}t.complete([CR_NOERR,"",n])}.bind(this)).exception(function(e){t.complete([CR_UNKNOWERR,"未知错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([h.CRVideo_INNER_ERR,e.toString()])}return t},Cr.LHProxy.prototype.getLastNMsg=function(e,t){var n=new Cr.AsyncResult;try{var i=new Ice.Context;i._fwd="z",this._chatRequest.getLastNMsg(e,t,i).then(function(e){var t=[];for(var i in e){var r=e[i],o=r.srcNickname.split("\0"),c=Cr.Utils.chat2html(r.inMsg.msg,r.inMsg.font.color,r.inMsg.font.size),s={type:c[0],index:r.index,msg:c[2],head:c[1],sendTime:r.inMsg.sendTime,targetNickname:r.inMsg.targetNickname,targetTermId:r.inMsg.targetTermId,srcNickname:o[0],srcTermId:r.srcTermId,ishost:o.length>1};t.push(new Cr.MsgInfo(s))}n.complete([CR_NOERR,"",t]),Cr.Utils.log("[RTC] It takes time to get chat history:"+((new Date).getTime()-Cr.startTime))}.bind(this)).exception(function(e){n.complete([CR_UNKNOWERR,"未知错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){n.complete([h.CRVideo_INNER_ERR,e.toString()])}return n},Cr.LHProxy.prototype.getBroadCastUrl=function(){var e=new Cr.AsyncResult;try{this._conferenceRequest.getBroadCastUrl().then((function(t){var n={rtmp:t.get(Conference.BOARDCAST_RTMP),hls:t.get(Conference.BOARDCAST_HLS)};e.complete([CR_NOERR,"",n])})).exception((function(t){e.complete([CR_UNKNOWERR,"未知错误"]),Cr.Utils.log(t.toString()),Cr.Utils.log(t.stack)}))}catch(t){e.complete([h.CRVideo_INNER_ERR,t.toString()])}return e},Cr.LHProxy.prototype.askQues=function(e,t,n,i,r,o){var c=new Cr.AsyncResult;try{var s=new Conference.QuesAsk;s.typeID=e,s.asktime=t,s.termID=n,i&&""!=i&&(r='<headimg src="'+i+'"/>'+ +r),s.content=r,s.nickname=o,this._ansQuesCtrl.askQues(s).then((function(e){c.complete([CR_NOERR,"",e])})).exception((function(e){c.complete([CR_UNKNOWERR,"未知错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}))}catch(e){c.complete([h.CRVideo_INNER_ERR,e.toString()])}return c},Cr.LHProxy.prototype.getQuesList=function(){var e=new Cr.AsyncResult;try{this._ansQuesCtrl.getQuesList().then((function(t){for(var n in quesList=[],t){var i=t[n];quesList.push(new Cr.QuesInf(i))}e.complete([CR_NOERR,"",quesList])})).exception((function(t){e.complete([CR_UNKNOWERR,"未知错误"]),Cr.Utils.log(t.toString()),Cr.Utils.log(t.stack)}))}catch(t){e.complete([h.CRVideo_INNER_ERR,t.toString()])}return e},Cr.LHProxy.prototype.getLuckyDrawCfg=function(){var e=new Cr.AsyncResult;try{this._conferenceRequest.getLuckyDrawCfg().then((function(t){var n=t;e.complete([CR_NOERR,"",n])})).exception((function(t){e.complete([CR_UNKNOWERR,"未知错误"])}))}catch(t){e.complete([h.CRVideo_INNER_ERR,t.toString()])}return e},Cr.LHProxy.prototype.joinLuckyDrawMembers=function(e,t){var n=new Cr.AsyncResult;try{this._conferenceRequest.joinLuckyDrawMembers(e,t).then(function(){n.complete([CR_NOERR,""])}.bind(this)).exception(function(e){n.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){n.complete([h.CRVideo_INNER_ERR,e.toString()])}return n},Cr.LHProxy.prototype.startSvrRecord=function(e){var t=new Cr.AsyncResult;try{this._conferenceRequest.startSvrRecord(e).then((function(){t.complete([CR_NOERR])})).exception((function(e){console.crlog("[rtc] startSvrFail: ".concat(e.toString())),t.complete([CR_UNKNOWERR,"未知错误"])}))}catch(e){t.complete([h.CRVideo_INNER_ERR,e.toString()])}return t},Cr.LHProxy.prototype.updateSvrRecCfg=function(e){var t=new Cr.AsyncResult;try{this._conferenceRequest.updateSvrRecCfg(e).then((function(){t.complete([CR_NOERR,""])})).exception((function(e){t.complete([CR_UNKNOWERR,"未知错误"])}))}catch(e){t.complete([h.CRVideo_INNER_ERR,e.toString()])}return t},Cr.LHProxy.prototype.stopSvrRecord=function(){var e=new Cr.AsyncResult;try{this._conferenceRequest.stopSvrRecord().then((function(){e.complete([CR_NOERR,""])})).exception((function(t){e.complete([CR_UNKNOWERR,"未知错误"])}))}catch(t){e.complete([h.CRVideo_INNER_ERR,t.toString()])}return e},Cr.LHProxy.prototype.terminalMsg=function(e,t,n,i){var r=new Cr.AsyncResult;try{this._conferenceRequest.terminalMsg(e,t,n,i).then((function(){r.complete([CR_NOERR,""])})).exception((function(e){r.complete([CR_UNKNOWERR,"未知错误"])}))}catch(e){r.complete([CR_INNER_ERR,e.toString()])}return r},Cr.LHProxy.prototype.setVideoDeviceStatus=function(e){var t=new Cr.AsyncResult;try{this._videoCtrl.setDeviceStatus(e).then(function(){t.complete([CR_NOERR,""])}.bind(this)).exception(function(e){t.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([h.CRVideo_INNER_ERR,e.toString()])}return t},Cr.LHProxy.prototype.allowVideoWall=function(e){var t=new Cr.AsyncResult;try{this._videoCtrl.allowVideoWall(e).then(function(){t.complete([CR_NOERR,""])}.bind(this)).exception(function(e){t.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([h.CRVideo_INNER_ERR,e.toString()])}return t},Cr.LHProxy.prototype.startVideo=function(){var e=new Cr.AsyncResult;try{this._videoCtrl.startVideo().then(function(){e.complete([CR_NOERR,""])}.bind(this)).exception(function(t){e.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(t.toString()),Cr.Utils.log(t.stack)}.bind(this))}catch(t){e.complete([h.CRVideo_INNER_ERR,t.toString()])}return e},Cr.LHProxy.prototype.stopVideo=function(){var e=new Cr.AsyncResult;try{this._videoCtrl.stopVideo().then(function(){e.complete([CR_NOERR,""])}.bind(this)).exception(function(t){e.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(t.toString()),Cr.Utils.log(t.stack)}.bind(this))}catch(t){e.complete([h.CRVideo_INNER_ERR,t.toString()])}return e},Cr.LHProxy.prototype.reqOpenVideo=function(e){var t=new Cr.AsyncResult;try{this._videoCtrl.reqOpenVideo(e).then(function(){t.complete([CR_NOERR,""])}.bind(this)).exception(function(e){t.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([h.CRVideo_INNER_ERR,e.toString()])}return t},Cr.LHProxy.prototype.startVideoEx=function(e){var t=new Cr.AsyncResult;try{this._videoCtrl.startVideoEx(e).then(function(){t.complete([CR_NOERR,""])}.bind(this)).exception(function(e){t.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([h.CRVideo_INNER_ERR,e.toString()])}return t},Cr.LHProxy.prototype.stopVideoEx=function(e){var t=new Cr.AsyncResult;try{this._videoCtrl.stopVideoEx(e).then(function(){t.complete([CR_NOERR,""])}.bind(this)).exception(function(e){t.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([h.CRVideo_INNER_ERR,e.toString()])}return t},Cr.LHProxy.prototype.enableVideo=function(e){var t=new Cr.AsyncResult;try{this._videoCtrl.enableVideo(e).then(function(){t.complete([CR_NOERR,""])}.bind(this)).exception(function(e){t.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([h.CRVideo_INNER_ERR,e.toString()])}return t},Cr.LHProxy.prototype.setFocusWindow=function(e,t){var n=new Cr.AsyncResult,i=Conference.WINDOW_MODE[e];try{this._videoCtrl.setFocusWindow(i,t).then(function(){n.complete([CR_NOERR,""])}.bind(this)).exception(function(e){n.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){n.complete([h.CRVideo_INNER_ERR,e.toString()])}return n},Cr.LHProxy.prototype.batchSubscribeVideo=function(e,t){var n=new Cr.AsyncResult;try{this._videoCtrl.batchSubscribeVideo(e,t).then(function(){n.complete([CR_NOERR,""])}.bind(this)).exception(function(e){n.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){n.complete([h.CRVideo_INNER_ERR,e.toString()])}return n},Cr.LHProxy.prototype.batchSubscribeVideo2=function(e,t,n){var i=new Cr.AsyncResult,r=[new Conference.UsrCamSize(Number(e),Number(t),Number(Conference[n]))],o=new Ice.Context;o._fwd="z",console.crlog("[RTC] batchSubscribeVideo2:"+JSON.stringify(r));try{this._videoCtrl.batchSubscribeVideo2(r,o).then(function(){i.complete([CR_NOERR,""])}.bind(this)).exception(function(e){i.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){i.complete([h.CRVideo_INNER_ERR,e.toString()])}return i},Cr.LHProxy.prototype.subscribeFocusWindow=function(e){var t=new Cr.AsyncResult;try{this._videoCtrl.subscribeFocusWindow(e).then(function(){t.complete([CR_NOERR,""])}.bind(this)).exception(function(e){t.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([h.CRVideo_INNER_ERR,e.toString()])}return t},Cr.LHProxy.prototype.subscribeFocusWindow2=function(e){var t=new Cr.AsyncResult;try{this._videoCtrl.subscribeFocusWindow2(e).then(function(){t.complete([CR_NOERR,""])}.bind(this)).exception(function(e){t.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([h.CRVideo_INNER_ERR,e.toString()])}return t},Cr.LHProxy.prototype.setVLayout=function(e){var t=new Cr.AsyncResult;try{this._videoCtrl.setVLayout(e).then(function(){t.complete([CR_NOERR,""])}.bind(this)).exception(function(e){t.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([h.CRVideo_INNER_ERR,e.toString()])}return t},Cr.LHProxy.prototype.setVLayout2=function(e){var t=new Cr.AsyncResult;try{this._videoCtrl.setVLayout2(e).then(function(){t.complete([CR_NOERR,""])}.bind(this)).exception(function(e){t.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([h.CRVideo_INNER_ERR,e.toString()])}return t},Cr.LHProxy.prototype.setMainVideoShowMode=function(e){var t=new Cr.AsyncResult;try{this._videoCtrl.setMainVideoShowMode(e).then(function(){t.complete([CR_NOERR,""])}.bind(this)).exception(function(e){t.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([h.CRVideo_INNER_ERR,e.toString()])}return t},Cr.LHProxy.prototype.setVideoListMode=function(e){var t=new Cr.AsyncResult;try{this._videoCtrl.setVideoListMode(e).then(function(){t.complete([CR_NOERR,""])}.bind(this)).exception(function(e){t.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([h.CRVideo_INNER_ERR,e.toString()])}return t},Cr.LHProxy.prototype.refuseOpenVideo=function(e){var t=new Cr.AsyncResult;try{this._videoCtrl.refuseOpenVideo(e).then(function(){t.complete([CR_NOERR,""])}.bind(this)).exception(function(e){t.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([h.CRVideo_INNER_ERR,e.toString()])}return t},Cr.LHProxy.prototype.getVideoSetting=function(e){var t=new Cr.AsyncResult;try{this._videoCtrl.getVideoSetting(e).then(function(){t.complete([CR_NOERR,""])}.bind(this)).exception(function(e){t.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([h.CRVideo_INNER_ERR,e.toString()])}return t},Cr.LHProxy.prototype.setCamera=function(e,t){var n=new Cr.AsyncResult;try{this._videoCtrl.setCamera(e,t).then(function(){n.complete([CR_NOERR,""])}.bind(this)).exception(function(e){n.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){n.complete([h.CRVideo_INNER_ERR,e.toString()])}return n},Cr.LHProxy.prototype.setCameraById=function(e){var t=new Cr.AsyncResult;try{this._videoCtrl.setCameraById(e).then(function(){t.complete([CR_NOERR,""])}.bind(this)).exception(function(e){t.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([h.CRVideo_INNER_ERR,e.toString()])}return t},Cr.LHProxy.prototype.setVideoPolling=function(e,t){var n=new Cr.AsyncResult;try{this._videoCtrl.setVideoPolling(e,t).then(function(){n.complete([CR_NOERR,""])}.bind(this)).exception(function(e){n.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){n.complete([h.CRVideo_INNER_ERR,e.toString()])}return n},Cr.LHProxy.prototype.updatePollingVideo=function(e){var t=new Cr.AsyncResult;try{this._videoCtrl.updatePollingVideo(e).then(function(){t.complete([CR_NOERR,""])}.bind(this)).exception(function(e){t.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([h.CRVideo_INNER_ERR,e.toString()])}return t},Cr.LHProxy.prototype.updateVideoList=function(e){var t=new Cr.AsyncResult;try{this._videoCtrl.updateVideoList(e).then(function(){t.complete([CR_NOERR,""])}.bind(this)).exception(function(e){t.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([h.CRVideo_INNER_ERR,e.toString()])}return t},Cr.LHProxy.prototype.getVideoPollingState=function(e,t){var n=new Cr.AsyncResult;try{this._videoCtrl.getVideoPollingState(e,t).then(function(){n.complete([CR_NOERR,""])}.bind(this)).exception(function(e){n.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){n.complete([h.CRVideo_INNER_ERR,e.toString()])}return n},Cr.LHProxy.prototype.updateAllCameraInfos=function(e){var t=new Cr.AsyncResult;try{this._videoCtrl.updateAllCameraInfos(e).then(function(){t.complete([CR_NOERR,""])}.bind(this)).exception(function(e){t.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([h.CRVideo_INNER_ERR,e.toString()])}return t},Cr.LHProxy.prototype.setOpenedCameraNumber=function(e){var t=new Cr.AsyncResult;try{this._videoCtrl.setOpenedCameraNumber(e).then(function(){t.complete([CR_NOERR,""])}.bind(this)).exception(function(e){t.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([h.CRVideo_INNER_ERR,e.toString()])}return t},Cr.LHProxy.prototype.startAdjustDirection=function(e,t){var n=new Cr.AsyncResult;try{this._videoCtrl.startAdjustDirection(e,t).then(function(){n.complete([CR_NOERR,""])}.bind(this)).exception(function(e){n.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){n.complete([h.CRVideo_INNER_ERR,e.toString()])}return n},Cr.LHProxy.prototype.startAdjustZoom=function(e,t){var n=new Cr.AsyncResult;try{this._videoCtrl.startAdjustZoom(e,t).then(function(){n.complete([CR_NOERR,""])}.bind(this)).exception(function(e){n.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){n.complete([h.CRVideo_INNER_ERR,e.toString()])}return n},Cr.LHProxy.prototype.stopAdjustDirection=function(e){var t=new Cr.AsyncResult;try{this._videoCtrl.stopAdjustDirection(e).then(function(){t.complete([CR_NOERR,""])}.bind(this)).exception(function(e){t.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([h.CRVideo_INNER_ERR,e.toString()])}return t},Cr.LHProxy.prototype.stopAdjustDirection=function(e){var t=new Cr.AsyncResult;try{this._videoCtrl.stopAdjustDirection(e).then(function(){t.complete([CR_NOERR,""])}.bind(this)).exception(function(e){t.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([h.CRVideo_INNER_ERR,e.toString()])}return t},Cr.LHProxy.prototype.VideoResolutionReport=function(e,t,n){var i=new Cr.AsyncResult;try{this._clientReport.VideoResolutionReport(e,t,n).then(function(){i.complete([CR_NOERR,""])}.bind(this)).exception(function(e){i.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){i.complete([h.CRVideo_INNER_ERR,e.toString()])}return i},Cr.LHProxy.prototype.setAudioDeviceStatus=function(e){var t=new Cr.AsyncResult;try{this._audioCtrl.setDeviceStatus(e).then(function(){t.complete([CR_NOERR,""])}.bind(this)).exception(function(e){t.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([h.CRVideo_INNER_ERR,e.toString()])}return t},Cr.LHProxy.prototype.askForMic=function(){var e=new Cr.AsyncResult;try{this._audioCtrl.askForMic().then(function(){e.complete([CR_NOERR,""])}.bind(this)).exception(function(t){e.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(t.toString()),Cr.Utils.log(t.stack)}.bind(this))}catch(t){e.complete([h.CRVideo_INNER_ERR,t.toString()])}return e},Cr.LHProxy.prototype.askForMic=function(){var e=new Cr.AsyncResult;try{this._audioCtrl.askForMic().then(function(){e.complete([CR_NOERR,""])}.bind(this)).exception(function(t){e.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(t.toString()),Cr.Utils.log(t.stack)}.bind(this))}catch(t){e.complete([h.CRVideo_INNER_ERR,t.toString()])}return e},Cr.LHProxy.prototype.openMicEx=function(e){var t=new Cr.AsyncResult;try{this._audioCtrl.openMicEx(e).then(function(){t.complete([CR_NOERR,""])}.bind(this)).exception(function(e){t.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([h.CRVideo_INNER_ERR,e.toString()])}return t},Cr.LHProxy.prototype.closeMicEx=function(e){var t=new Cr.AsyncResult;try{this._audioCtrl.closeMicEx(e).then(function(){t.complete([CR_NOERR,""])}.bind(this)).exception(function(e){t.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([h.CRVideo_INNER_ERR,e.toString()])}return t},Cr.LHProxy.prototype.closeAll=function(){var e=new Cr.AsyncResult;try{this._audioCtrl.closeAll().then(function(){e.complete([CR_NOERR,""])}.bind(this)).exception(function(t){e.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(t.toString()),Cr.Utils.log(t.stack)}.bind(this))}catch(t){e.complete([h.CRVideo_INNER_ERR,t.toString()])}return e},Cr.LHProxy.prototype.setVoiceEnergy=function(e){var t=new Cr.AsyncResult;try{this._audioCtrl.setVoiceEnergy(e).then(function(){t.complete([CR_NOERR,""])}.bind(this)).exception(function(e){t.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([h.CRVideo_INNER_ERR,e.toString()])}return t},Cr.LHProxy.prototype.pstnSwitchMicStatus=function(){var e=new Cr.AsyncResult;try{this._audioCtrl.pstnSwitchMicStatus().then(function(){e.complete([CR_NOERR,""])}.bind(this)).exception(function(t){e.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(t.toString()),Cr.Utils.log(t.stack)}.bind(this))}catch(t){e.complete([h.CRVideo_INNER_ERR,t.toString()])}return e},Cr.LHProxy.prototype.startRecord=function(){var e=new Cr.AsyncResult;try{this._audioCtrl.startRecord().then(function(){e.complete([CR_NOERR,""])}.bind(this)).exception(function(t){e.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(t.toString()),Cr.Utils.log(t.stack)}.bind(this))}catch(t){e.complete([h.CRVideo_INNER_ERR,t.toString()])}return e},Cr.LHProxy.prototype.isRecording=function(){var e=new Cr.AsyncResult;try{this._audioCtrl.isRecording().then(function(){e.complete([CR_NOERR,""])}.bind(this)).exception(function(t){e.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(t.toString()),Cr.Utils.log(t.stack)}.bind(this))}catch(t){e.complete([h.CRVideo_INNER_ERR,t.toString()])}return e},Cr.LHProxy.prototype.stopRecord=function(){var e=new Cr.AsyncResult;try{this._audioCtrl.stopRecord().then(function(){e.complete([CR_NOERR,""])}.bind(this)).exception(function(t){e.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(t.toString()),Cr.Utils.log(t.stack)}.bind(this))}catch(t){e.complete([h.CRVideo_INNER_ERR,t.toString()])}return e},Cr.LHProxy.prototype.playApplause=function(){var e=new Cr.AsyncResult;try{this._audioCtrl.playApplause().then(function(){e.complete([CR_NOERR,""])}.bind(this)).exception(function(t){e.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(t.toString()),Cr.Utils.log(t.stack)}.bind(this))}catch(t){e.complete([h.CRVideo_INNER_ERR,t.toString()])}return e},Cr.LHProxy.prototype.getMusicList=function(){var e=new Cr.AsyncResult;try{this._audioCtrl.getMusicList().then(function(){e.complete([CR_NOERR,""])}.bind(this)).exception(function(t){e.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(t.toString()),Cr.Utils.log(t.stack)}.bind(this))}catch(t){e.complete([h.CRVideo_INNER_ERR,t.toString()])}return e},Cr.LHProxy.prototype.getPlayBGMusic=function(){var e=new Cr.AsyncResult;try{this._audioCtrl.getPlayBGMusic().then(function(){e.complete([CR_NOERR,""])}.bind(this)).exception(function(t){e.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(t.toString()),Cr.Utils.log(t.stack)}.bind(this))}catch(t){e.complete([h.CRVideo_INNER_ERR,t.toString()])}return e},Cr.LHProxy.prototype.startBGMusic=function(e,t){var n=new Cr.AsyncResult;try{this._audioCtrl.startBGMusic(e,t).then(function(){n.complete([CR_NOERR,""])}.bind(this)).exception(function(e){n.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){n.complete([h.CRVideo_INNER_ERR,e.toString()])}return n},Cr.LHProxy.prototype.stopPlayBGMusic=function(){var e=new Cr.AsyncResult;try{this._audioCtrl.stopPlayBGMusic().then(function(){e.complete([CR_NOERR,""])}.bind(this)).exception(function(t){e.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(t.toString()),Cr.Utils.log(t.stack)}.bind(this))}catch(t){e.complete([h.CRVideo_INNER_ERR,t.toString()])}return e},Cr.LHProxy.prototype.setPlayBGMusicVolumn=function(e){var t=new Cr.AsyncResult;try{this._audioCtrl.setPlayBGMusicVolumn(e).then(function(){t.complete([CR_NOERR,""])}.bind(this)).exception(function(e){t.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([h.CRVideo_INNER_ERR,e.toString()])}return t},Cr.LHProxy.prototype.getPlayBGMusicVolumn=function(){var e=new Cr.AsyncResult;try{this._audioCtrl.getPlayBGMusicVolumn().then(function(){e.complete([CR_NOERR,""])}.bind(this)).exception(function(t){e.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(t.toString()),Cr.Utils.log(t.stack)}.bind(this))}catch(t){e.complete([h.CRVideo_INNER_ERR,t.toString()])}return e},Cr.LHProxy.prototype.voiceHowling=function(e){var t=new Cr.AsyncResult;try{this._audioCtrl.voiceHowling(e).then(function(){t.complete([CR_NOERR,""])}.bind(this)).exception(function(e){t.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([h.CRVideo_INNER_ERR,e.toString()])}return t},Cr.LHProxy.prototype.voiceNoise=function(e){var t=new Cr.AsyncResult;try{this._audioCtrl.voiceNoise(e).then(function(){t.complete([CR_NOERR,""])}.bind(this)).exception(function(e){t.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([h.CRVideo_INNER_ERR,e.toString()])}return t},Cr.LHProxy.prototype.remoteAudioSet=function(e,t){var n=new Cr.AsyncResult;try{this._audioCtrl.remoteAudioSet(e,t).then(function(){n.complete([CR_NOERR,""])}.bind(this)).exception(function(e){n.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){n.complete([h.CRVideo_INNER_ERR,e.toString()])}return n},Cr.LHProxy.prototype.getRemoteAudioInf=function(e){var t=new Cr.AsyncResult;try{this._audioCtrl.getRemoteAudioInf(e).then(function(){t.complete([CR_NOERR,""])}.bind(this)).exception(function(e){t.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([h.CRVideo_INNER_ERR,e.toString()])}return t},Cr.LHProxy.prototype.getRemoteAudioInf=function(e){var t=new Cr.AsyncResult;try{this._audioCtrl.getRemoteAudioInf(e).then(function(){t.complete([CR_NOERR,""])}.bind(this)).exception(function(e){t.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([h.CRVideo_INNER_ERR,e.toString()])}return t},Cr.LHProxy.prototype.getScreenShareInfo=function(){var e=new Cr.AsyncResult;try{this._screenShareCtrl.getScreenShareInfo().then(function(t){e.complete([CR_NOERR,"",t])}.bind(this)).exception(function(t){e.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(t.toString()),Cr.Utils.log(t.stack)}.bind(this))}catch(t){e.complete([h.CRVideo_INNER_ERR,t.toString()])}return e},Cr.LHProxy.prototype.startScreenShare=function(){var e=new Cr.AsyncResult;try{this._screenShareCtrl.startScreenShare().then(function(){e.complete([CR_NOERR,""])}.bind(this)).exception(function(t){e.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(t.toString()),Cr.Utils.log(t.stack)}.bind(this))}catch(t){e.complete([h.CRVideo_INNER_ERR,t.toString()])}return e},Cr.LHProxy.prototype.stopScreenShare=function(){var e=new Cr.AsyncResult;try{this._screenShareCtrl.stopScreenShare().then(function(){e.complete([CR_NOERR,""])}.bind(this)).exception(function(t){e.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(t.toString()),Cr.Utils.log(t.stack)}.bind(this))}catch(t){e.complete([h.CRVideo_INNER_ERR,t.toString()])}return e},Cr.LHProxy.prototype.askForNewIFrame=function(){var e=this;return new Promise((function(t,n){try{e._screenShareCtrl.askForNewIFrame(0).then(function(e){t([CR_NOERR,e])}.bind(e)).exception(function(e){t([CR_SOCKETEXCEPTION]),Cr.Utils.log(e.toString())}.bind(e))}catch(e){t([h.CRVideo_INNER_ERR])}}))},Cr.LHProxy.prototype.getAllMarkData=function(){var e=this;return new Promise((function(t,n){try{e._screenShareCtrl.getAllMarkData().then(function(e){t([CR_NOERR,e])}.bind(e)).exception(function(e){t([CR_SOCKETEXCEPTION]),Cr.Utils.log(e.toString())}.bind(e))}catch(e){t([h.CRVideo_INNER_ERR])}}))},Cr.LHProxy.prototype.getAllMarkDataV4=function(){var e=this;return new Promise((function(t,n){try{e._screenShareCtrl.getAllMarkDataV4().then(function(e){t([CR_NOERR,e])}.bind(e)).exception(function(e){t([CR_SOCKETEXCEPTION]),Cr.Utils.log(e.toString())}.bind(e))}catch(e){t([h.CRVideo_INNER_ERR])}}))},Cr.LHProxy.prototype.getMediaInfo=function(){var e=new Cr.AsyncResult;try{this._mediaCtrl.getMediaInfo().then(function(t){t.state=t.state.value,e.complete([CR_NOERR,"",t])}.bind(this)).exception(function(t){e.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(t.toString()),Cr.Utils.log(t.stack)}.bind(this))}catch(t){e.complete([h.CRVideo_INNER_ERR,t.toString()])}return e},Cr.LHProxy.prototype.startPlayMedia=function(e){var t=new Cr.AsyncResult;try{this._mediaCtrl.startPlayMedia(e).then(function(){t.complete([CR_NOERR,""])}.bind(this)).exception(function(e){t.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([h.CRVideo_INNER_ERR,e.toString()])}return t},Cr.LHProxy.prototype.stopPlayMedia=function(){var e=new Cr.AsyncResult;try{this._mediaCtrl.stopPlayMedia().then(function(){e.complete([CR_NOERR,""])}.bind(this)).exception(function(t){e.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(t.toString()),Cr.Utils.log(t.stack)}.bind(this))}catch(t){e.complete([h.CRVideo_INNER_ERR,t.toString()])}return e},Cr.LHProxy.prototype.pausePlayMedia=function(e){var t=new Cr.AsyncResult;try{this._mediaCtrl.pausePlayMedia(e).then(function(){t.complete([CR_NOERR,""])}.bind(this)).exception(function(e){t.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([h.CRVideo_INNER_ERR,e.toString()])}return t},Cr.LHProxy.prototype.subscribeMedia=function(e){var t=new Cr.AsyncResult;try{this._mediaCtrl.subscribeMedia(e).then(function(){t.complete([CR_NOERR,""])}.bind(this)).exception(function(e){t.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([h.CRVideo_INNER_ERR,e.toString()])}return t},Cr.LHProxy.prototype.setContainerSize=function(e,t){var n=new Cr.AsyncResult;try{this._whiteBoardCtrl.setContainerSize(e,t).then(function(){n.complete([CR_NOERR,""])}.bind(this)).exception(function(e){n.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){n.complete([h.CRVideo_INNER_ERR,e.toString()])}return n},Cr.LHProxy.prototype.create=function(e){var t=this;return new Promise((function(n,i){wID=e.wID,wType=Conference.WBBOARD_TYPE.valueOf(e.wType||0),docType=Conference.WBBOARD_DOCTYPE.valueOf(e.docType||0),name=e.name,docName=e.docName,width=e.width,height=e.height,scaleType=Conference.WB_SCALE_TYPE.valueOf(e.scaleType||1),rotation=e.rotation,pageCount=e.pageCount,curPage=e.curPage,animID=e.animID,animFrames=e.animFrames,showThum=e.showThum,bAll=e.bAll,allowTerms=e.allowTerms||[];var r=new Conference.TabID(wID.termID,wID.localID),o=new Conference.WhiteBoardDescribe(r,wType,docType,name,docName,width,height,scaleType,rotation,pageCount,curPage,animID,animFrames,showThum,bAll,allowTerms);try{t._whiteBoardCtrl.create(o).then(function(){n([CR_NOERR,""])}.bind(t)).exception(function(e){i([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(t))}catch(e){i([h.CRVideo_INNER_ERR,e.toString()])}}))},Cr.LHProxy.prototype.importPage=function(e,t){var n=this;return new Promise((function(i,r){for(var o=[],c=e.match(/(\d+)\.(\d+)/),s=new Conference.TabID(c[1],c[2]),a=0;a<t.length;a++){var l=t[a].pageNo,u=t[a].imgID,d=u?Conference.WB_BAKIMG_TYPE.WB_BAKIMG_JPG:Conference.WB_BAKIMG_TYPE.WB_BAKIMG_NULL,f=t[a].elementList||[];o[a]=new Conference.PageData(l,d,u,f)}try{n._whiteBoardCtrl.importPage(s,o).then(function(){i([CR_NOERR,""])}.bind(n)).exception(function(e){r([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString())}.bind(n))}catch(e){r([h.CRVideo_INNER_ERR,e.toString()])}}))},Cr.LHProxy.prototype.close=function(e){var t=new Cr.AsyncResult,n=new Conference.TabID(e.termID,e.localID);try{this._whiteBoardCtrl.close(n).then(function(){t.complete([CR_NOERR,""])}.bind(this)).exception(function(e){t.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([h.CRVideo_INNER_ERR,e.toString()])}return t},Cr.LHProxy.prototype.changeName=function(e,t){var n=new Cr.AsyncResult;try{this._whiteBoardCtrl.changeName(e,t).then(function(){n.complete([CR_NOERR,""])}.bind(this)).exception(function(e){n.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){n.complete([h.CRVideo_INNER_ERR,e.toString()])}return n},Cr.LHProxy.prototype.changeScale=function(e,t){var n=new Cr.AsyncResult,i=new Conference.WB_SCALE_TYPE(t);try{this._whiteBoardCtrl.changeScale(e,i).then(function(){n.complete([CR_NOERR,""])}.bind(this)).exception(function(e){n.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){n.complete([h.CRVideo_INNER_ERR,e.toString()])}return n},Cr.LHProxy.prototype.changeRatote=function(e,t){var n=new Cr.AsyncResult,i=new Conference.WB_ROTATE_TYPE(t);try{this._whiteBoardCtrl.changeRatote(e,i).then(function(){n.complete([CR_NOERR,""])}.bind(this)).exception(function(e){n.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){n.complete([h.CRVideo_INNER_ERR,e.toString()])}return n},Cr.LHProxy.prototype.setCurrentPage=function(e,t,n,i){var r=this;return new Promise((function(o,c){try{var s=e.match(/(\d+)\.(\d+)/),a=new Conference.TabID(s[1],s[2]);r._whiteBoardCtrl.setCurrentPage(a,t,n,i).then(function(){o([CR_NOERR,""])}.bind(r)).exception(function(e){o([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString())}.bind(r))}catch(e){o([h.CRVideo_INNER_ERR,e.toString()])}}))},Cr.LHProxy.prototype.showThumPage=function(e,t){var n=new Cr.AsyncResult;try{this._whiteBoardCtrl.showThumPage(e,t).then(function(){n.complete([CR_NOERR,""])}.bind(this)).exception(function(e){n.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){n.complete([h.CRVideo_INNER_ERR,e.toString()])}return n},Cr.LHProxy.prototype.addElement=function(e,t,n){var i=new Cr.AsyncResult,r=new Conference.ElementID(n.eID.ownerID,n.eID.ID),o=new Conference.ElementData(r,n.orderId,n.left,n.top,n.type,n.noused,n.data);try{this._whiteBoardCtrl.addElement(e,t,o).then(function(){i.complete([CR_NOERR,""])}.bind(this)).exception(function(e){i.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){i.complete([h.CRVideo_INNER_ERR,e.toString()])}return i},Cr.LHProxy.prototype.addElementEx=function(e,t,n){for(var i=new Cr.AsyncResult,r=[],o=0;o<n.length;o++){var c=new Conference.ElementID(n[o].eID.ownerID,n[o].eID.ID);r.push(new Conference.ElementData(c,element[o].orderId,element[o].left,element[o].top,element[o].type,element[o].noused,element[o].data))}try{this._whiteBoardCtrl.addElementEx(e,t,r).then(function(){i.complete([CR_NOERR,""])}.bind(this)).exception(function(e){i.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){i.complete([h.CRVideo_INNER_ERR,e.toString()])}return i},Cr.LHProxy.prototype.moveElement=function(e,t,n){var i=new Cr.AsyncResult,r=new Conference.ElementPos(n);try{this._whiteBoardCtrl.moveElement(e,t,r).then(function(){i.complete([CR_NOERR,""])}.bind(this)).exception(function(e){i.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){i.complete([h.CRVideo_INNER_ERR,e.toString()])}return i},Cr.LHProxy.prototype.modifyElement=function(e,t,n){var i=new Cr.AsyncResult,r=new Conference.ElementID(n.eID.ownerID,n.eID.ID),o=new Conference.ElementData(r,n.orderId,n.left,n.top,n.type,n.noused,n.data);try{this._whiteBoardCtrl.modifyElement(e,t,o).then(function(){i.complete([CR_NOERR,""])}.bind(this)).exception(function(e){i.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){i.complete([h.CRVideo_INNER_ERR,e.toString()])}return i},Cr.LHProxy.prototype.delElement=function(e,t,n){for(var i=new Cr.AsyncResult,r=[],o=0;o<n.length;o++)r.push(new Conference.ElementID(n[o].ownerID,n[o].ID));try{this._whiteBoardCtrl.delElement(e,t,r).then(function(){i.complete([CR_NOERR,""])}.bind(this)).exception(function(e){i.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){i.complete([h.CRVideo_INNER_ERR,e.toString()])}return i},Cr.LHProxy.prototype.setElementZPos=function(e,t,n){var i=new Cr.AsyncResult,r=new Conference.WB_ELEMENT_ZPOS(n);try{this._whiteBoardCtrl.setElementZPos(e,t,r).then(function(){i.complete([CR_NOERR,""])}.bind(this)).exception(function(e){i.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){i.complete([h.CRVideo_INNER_ERR,e.toString()])}return i},Cr.LHProxy.prototype.setIndicator=function(e,t){var n=new Cr.AsyncResult,i=new Conference.IndicatorData(t);try{this._whiteBoardCtrl.setIndicator(e,i).then(function(){n.complete([CR_NOERR,""])}.bind(this)).exception(function(e){n.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){n.complete([h.CRVideo_INNER_ERR,e.toString()])}return n},Cr.LHProxy.prototype.setHotspot=function(e,t,n,i){var r=new Cr.AsyncResult;try{this._whiteBoardCtrl.setHotspot(e,t,n,i).then(function(){r.complete([CR_NOERR,""])}.bind(this)).exception(function(e){r.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){r.complete([h.CRVideo_INNER_ERR,e.toString()])}return r},Cr.LHProxy.prototype.queryIndicator=function(e){var t=new Cr.AsyncResult;try{this._whiteBoardCtrl.queryIndicator(e).then(function(e){for(var n=[],i=0;i<e.length;i++)n.push(new Conference.IndicatorData(e[i]));t.complete([CR_NOERR,"",n])}.bind(this)).exception(function(e){t.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([h.CRVideo_INNER_ERR,e.toString()])}return t},Cr.LHProxy.prototype.queryAllBoardList=function(){var e=new Cr.AsyncResult;try{this._whiteBoardCtrl.queryAllBoardList().then(function(t){for(var n=[],i=0;i<t.length;i++)n.push(new Conference.WhiteBoardDescribe(t[i]));e.complete([CR_NOERR,"",n])}.bind(this)).exception(function(t){e.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(t.toString()),Cr.Utils.log(t.stack)}.bind(this))}catch(t){e.complete([h.CRVideo_INNER_ERR,t.toString()])}return e},Cr.LHProxy.prototype.queryElementByIDs=function(e,t){var n=new Cr.AsyncResult;try{this._whiteBoardCtrl.queryElementByIDs(e,t).then(function(e){var t=e.values()[0];n.complete([CR_NOERR,"",t])}.bind(this)).exception(function(e){n.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){n.complete([h.CRVideo_INNER_ERR,e.toString()])}return n},Cr.LHProxy.prototype.queryPageElementByIDs=function(e,t,n){for(var i=new Cr.AsyncResult,r=[],o=0;o<describeSeq.length;o++)r.push(new Conference.ElementID(n[o]));try{this._whiteBoardCtrl.queryPageElementByIDs(e,t,r).then(function(e){for(var t=0;t<describeSeq.length;t++)r.push(new Conference.ElementID(n[t].ownerID,n[t].ID));i.complete([CR_NOERR,"",[]])}.bind(this)).exception(function(e){i.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){i.complete([h.CRVideo_INNER_ERR,e.toString()])}return i},Cr.LHProxy.prototype.setMarkTerms=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=new Cr.AsyncResult;try{var r=e.match(/(\d+)\.(\d+)/),o=new Conference.TabID(r[1],r[2]);this._whiteBoardCtrl.setMarkTerms(o,t,n).then(function(){i.complete([CR_NOERR,""])}.bind(this)).exception(function(e){i.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){i.complete([h.CRVideo_INNER_ERR,e.toString()])}return i},Cr.LHProxy.prototype.setCurrentTab=function(e,t){var n=new Cr.AsyncResult;e=new Conference.TabID(e.termID,e.localID),t=t?new Conference.TabID(t.termID,t.localID):void 0;try{this._syncCtrl.setCurrentTab(e,t).then(function(){n.complete([CR_NOERR,""])}.bind(this)).exception(function(e){n.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){n.complete([h.CRVideo_INNER_ERR,e.toString()])}return n},Cr.LHProxy.prototype.allowDemoActor=function(e,t){var n=new Cr.AsyncResult;try{this._conferenceRequest.allowDemoActor(e,t).then(function(){n.complete([CR_NOERR,""])}.bind(this)).exception(function(e){n.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){n.complete([h.CRVideo_INNER_ERR,e.toString()])}return n},Cr.LHProxy.prototype.startShare=function(){var e=this;return new Promise((function(t,n){try{e._conferenceRequest.startShare().then((function(){t(CR_NOERR)})).exception((function(e){t(CR_UNKNOWERR,"未知错误")}))}catch(e){t(h.CRVideo_INNER_ERR,e.toString())}}))},Cr.LHProxy.prototype.stopShare=function(){var e=this;return new Promise((function(t,n){try{e._conferenceRequest.stopShare().then((function(){t([CR_NOERR])})).exception((function(e){t([CR_UNKNOWERR,"未知错误"])}))}catch(e){t([h.CRVideo_INNER_ERR,e.toString()])}}))},Cr.LHProxy.prototype.saveLastTabValue=function(e){var t=new Cr.AsyncResult;try{this._syncCtrl.saveLastTabValue(e).then(function(){t.complete([CR_NOERR,""])}.bind(this)).exception(function(e){t.complete([CR_SOCKETEXCEPTION,"网络错误"]),Cr.Utils.log(e.toString()),Cr.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([h.CRVideo_INNER_ERR,e.toString()])}return t},u){var Fi,ji={w3:!1,wk:!1,ie:!1,ff:!1,win:!1,mac:!1};r.exports=(a(Fi={Conference:Conference,CRVideo:ji,Ice:Ice,Cr:Cr,SendCmd:SendCmd,CR__Init:function(e,t,n){try{Cr._proxy=new Cr.LHProxy(t),Cr._proxy.init().then((function(e,t){Cr._proxy.registeredCallback("receiveIMMsg",(function(e){T.call(e)})),Cr._proxy.registeredCallback("notifyIMForbidStatus",(function(e){K.call(e)})),Cr._proxy.registeredCallback("notifyClearIMMsg",(function(){Q.call()})),Cr._proxy.registeredCallback("optionChanged",(function(e){j.call(e)})),Cr._proxy.registeredCallback("conferenceEnded",(function(e){B.call(e)})),Cr._proxy.registeredCallback("entered",(function(e){F.call(e)})),Cr._proxy.registeredCallback("left",(function(e){V.call(e)})),Cr._proxy.registeredCallback("notifyStartBroadCast",(function(){H.call()})),Cr._proxy.registeredCallback("notifyStopBroadCast",(function(){q.call()})),Cr._proxy.registeredCallback("notifyBroadCastStartPush",(function(){W.call()})),Cr._proxy.registeredCallback("notifyBroadCastStopPush",(function(){G.call()})),Cr._proxy.registeredCallback("askQuesNotify",(function(e){id=e[0],askQue=e[1],Z.call([id,new Cr.Quesask(askQue)])})),Cr._proxy.registeredCallback("lockQuesNotify",(function(e){id=e[0],queDeal=e[1],$.call([id,new Cr.QuesDeal(queDeal)])})),Cr._proxy.registeredCallback("replyQuesNotify",(function(e){id=e[0],queDeal=e[1],ee.call([id,new Cr.QuesDeal(queDeal)])})),Cr._proxy.registeredCallback("modifyQuesNotify",(function(e){id=e[0],queDeal=e[1],te.call([id,new Cr.QuesDeal(queDeal)])})),Cr._proxy.registeredCallback("delQuesNotify",(function(e){id=e[0],termId=e[1],ne.call([id,termId])})),Cr._proxy.registeredCallback("delAllQuesNotify",(function(e){termId=e[0],ie.call([termId])})),Cr._proxy.registeredCallback("publicQuesNotify",(function(e){id=e[0],bPublic=e[1],termId=e[2],re.call([id,bPublic,termId])})),Cr._proxy.registeredCallback("quesTypeChangeNotify",(function(e){id=e[0],typeID=e[1],oe.call([termId])})),Cr._proxy.registeredCallback("modifyQuesTypeNotify",(function(e){termId=e[0],quesType=e[1],ce.call([termId])})),Cr._proxy.registeredCallback("setBroadCastQuesNotify",(function(e){bEnable=e[0],se.call([bEnable])})),Cr._proxy.registeredCallback("notifyPlayBackStartPush",(function(e){url=e[0],ae.call([url])})),Cr._proxy.registeredCallback("notifypayback",(function(e){de.call()})),Cr._proxy.registeredCallback("notifyDeleteIMMsg",(function(e){count=e[0],le.call([count])})),Cr._proxy.registeredCallback("notifyBroadCastPlaybackStop",(function(e){url=e[0],he.call([url])})),Cr._proxy.registeredCallback("notifySwtichLiveAppElements",(function(e){ele=e[0],status=e[1],fe.call([ele,status])})),Cr._proxy.registeredCallback("notifyThumbUp",(function(e){num=e[0],total=e[1],info=e[2],pe.call([num,total,info])})),Cr._proxy.registeredCallback("notifyLuckyDrawCfg",(function(e){_e.call(e)})),Cr._proxy.registeredCallback("notifyLDMembersStatus",(function(e){ye.call(e)})),Cr._proxy.registeredCallback("notifyNicknameChanged",(function(e){Ie.call(e)})),Cr._proxy.registeredCallback("notifyLuckyDrawResult",(function(e){ve.call(e)})),Cr._proxy.registeredCallback("notifyTerminalMsg",(function(e){me.call(e)})),Cr._proxy.registeredCallback("notifyShareStateChanged",(function(e){Se.call(e)})),Cr._proxy.registeredCallback("ModifyPeerAddr",(function(e){Te.call(e)})),Cr._proxy.registeredCallback("ModifyPeerAddrExt",(function(e){ke.call(e)})),Cr._proxy.registeredCallback("AudioAllocRaw",(function(e){Pe.call(e)})),Cr._proxy.registeredCallback("AudioAllocRawExt",(function(e){Oe.call(e)})),Cr._proxy.registeredCallback("AudioAllocRawExt2",(function(e){De.call(e)})),Cr._proxy.registeredCallback("VideoAllocRaw",(function(e){Me.call(e)})),Cr._proxy.registeredCallback("VideoAllocRawExt",(function(e){Ne.call(e)})),Cr._proxy.registeredCallback("VideoAllocRawExt2",(function(e){Ae.call(e)})),Cr._proxy.registeredCallback("NotifyRTMPStreamPublishFinished",(function(e){Le.call(e)})),Cr._proxy.registeredCallback("EnableSendVideo2Internet",(function(e){He.call(e)})),Cr._proxy.registeredCallback("DisableSendVideo2Internet",(function(e){Ue.call(e)})),Cr._proxy.registeredCallback("EnableSendScreen2Internet",(function(e){Ve.call(e)})),Cr._proxy.registeredCallback("DisableSendScreen2Internet",(function(e){Fe.call(e)})),Cr._proxy.registeredCallback("EnableSendFilm2Internet",(function(e){je.call(e)})),Cr._proxy.registeredCallback("DisableSendFilm2Internet",(function(e){Be.call(e)})),Cr._proxy.registeredCallback("Free",(function(e){qe.call(e)})),Cr._proxy.registeredCallback("notifyAllowVideoWall",(function(e){We.call(e)})),Cr._proxy.registeredCallback("VideoUpdateStatus",(function(e){Ge.call(e)})),Cr._proxy.registeredCallback("notifyOpenVideo",(function(e){ze.call(e)})),Cr._proxy.registeredCallback("startVideoByManager",(function(e){Ke.call(e)})),Cr._proxy.registeredCallback("notifyEnableVideo",(function(e){Qe.call(e)})),Cr._proxy.registeredCallback("updateFocusWindow",(function(e){"VSPEAKER_TRACK"==e[0]._name?e[0]=1:"VPRESENTER_LOCK"==e[0]._name?e[0]=2:"VMANAGER_LOCK"==e[0]._name&&(e[0]=3),Xe.call(e)})),Cr._proxy.registeredCallback("updateVLayout",(function(e){Ye.call(e)})),Cr._proxy.registeredCallback("updateVLayout2",(function(e){Je.call(e)})),Cr._proxy.registeredCallback("updateMainVideoShowMode",(function(e){Ze.call(e)})),Cr._proxy.registeredCallback("updateVideoListMode",(function(e){$e.call(e)})),Cr._proxy.registeredCallback("enableUpload",(function(e){et.call(e)})),Cr._proxy.registeredCallback("enableUpload2",(function(e){tt.call(e)})),Cr._proxy.registeredCallback("generateIFrame",(function(e){nt.call(e)})),Cr._proxy.registeredCallback("notifyRefuseOpenVideo",(function(e){it.call(e)})),Cr._proxy.registeredCallback("getVideoSetting",(function(e){Ni.call(e)})),Cr._proxy.registeredCallback("notifySetCamera",(function(e){rt.call(e)})),Cr._proxy.registeredCallback("notifySetCameraById",(function(e){ot.call(e)})),Cr._proxy.registeredCallback("notifyVideoPolling",(function(e){ct.call(e)})),Cr._proxy.registeredCallback("notifyPollingVideo",(function(e){st.call(e)})),Cr._proxy.registeredCallback("notifyVideoList",(function(e){at.call(e)})),Cr._proxy.registeredCallback("notifyUpdateAllCameraInfos",(function(e){lt.call(e)})),Cr._proxy.registeredCallback("notifySetOpenedCameraNumber",(function(e){ut.call(e)})),Cr._proxy.registeredCallback("notifyStartAdjustDirection",(function(e){dt.call(e)})),Cr._proxy.registeredCallback("notifyStartAdjustZoom",(function(e){ht.call(e)})),Cr._proxy.registeredCallback("notifyStopAdjustDirection",(function(e){ft.call(e)})),Cr._proxy.registeredCallback("notifyStopAdjustZoom",(function(e){pt.call(e)})),Cr._proxy.registeredCallback("AudioUpdateStatus",(function(e){Gt.call(e)})),Cr._proxy.registeredCallback("updateVoiceEnergy",(function(e){zt.call(e)})),Cr._proxy.registeredCallback("updateSpeaker",(function(e){Kt.call(e)})),Cr._proxy.registeredCallback("NotifyCloseAll",(function(e){Qt.call(e)})),Cr._proxy.registeredCallback("playBackgroundMusic",(function(e){Xt.call(e)})),Cr._proxy.registeredCallback("notifyVoiceHowling",(function(e){Yt.call(e)})),Cr._proxy.registeredCallback("notifyVoiceNoise",(function(e){Jt.call(e)})),Cr._proxy.registeredCallback("getRemoteAudioInfNotify",(function(e){Zt.call(e)})),Cr._proxy.registeredCallback("remoteAudioSetNotify",(function(e){$t.call(e)})),Cr._proxy.registeredCallback("notifyLanLessMicOpen",(function(e){en.call(e)})),Cr._proxy.registeredCallback("notifyStartScreenShare",(function(e){yn.call(e)})),Cr._proxy.registeredCallback("notifyStopScreenShare",(function(e){In.call(e)})),Cr._proxy.registeredCallback("notifyCtrlReqState",(function(e){var t=e[0],n=e[1];Rn.call(t,n)})),Cr._proxy.registeredCallback("notifyRequestCtrlRight",(function(e){})),Cr._proxy.registeredCallback("notifyCancelCtrlReq",(function(e){})),Cr._proxy.registeredCallback("notifyRejectCtrlReq",(function(e){})),Cr._proxy.registeredCallback("notifyGiveCtrlRight",(function(e){})),Cr._proxy.registeredCallback("notifyReleaseCtrlRight",(function(e){})),Cr._proxy.registeredCallback("notifyCtrlMsg",(function(e){})),Cr._proxy.registeredCallback("notifyTmpSetRemoteCtrlState",(function(e){})),Cr._proxy.registeredCallback("notifyRequestMarked",(function(e){})),Cr._proxy.registeredCallback("notifyCancelMarkedReq",(function(e){})),Cr._proxy.registeredCallback("notifyStartMarked",(function(e){vn.call(e)})),Cr._proxy.registeredCallback("notifyStopMarked",(function(e){mn.call(e)})),Cr._proxy.registeredCallback("notifyEnableOtherMarked",(function(e){})),Cr._proxy.registeredCallback("notifyScMakeIFrame",(function(e){})),Cr._proxy.registeredCallback("notifyMarkData",(function(e){Sn.call(e)})),Cr._proxy.registeredCallback("notifyClearAllMarks",(function(e){En.call(e)})),Cr._proxy.registeredCallback("notifyIndicator",(function(e){})),Cr._proxy.registeredCallback("notifyStartPlayMedia",(function(e){var t=e[0].termid,n=e[0].mediaName;On.call([t,n])})),Cr._proxy.registeredCallback("notifyStopPlayMedia",(function(e){Dn.call(e)})),Cr._proxy.registeredCallback("notifyPausePlayMedia",(function(e){e[0],e[1];Mn.call(e)})),Cr._proxy.registeredCallback("notifyMediaMakeIFrame",(function(){Nn.call()})),Cr._proxy.registeredCallback("notifySubscribeMedia",(function(e){An.call(e)})),Cr._proxy.registeredCallback("notifySetContainerSize",(function(e){Fn.call(e)})),Cr._proxy.registeredCallback("notifyCreate",(function(e){jn.call(e)})),Cr._proxy.registeredCallback("notifyImportPage",(function(e){Bn.call(e)})),Cr._proxy.registeredCallback("notifyClose",(function(e){Hn.call(e)})),Cr._proxy.registeredCallback("notifyChangeName",(function(e){qn.call(e)})),Cr._proxy.registeredCallback("notifyChangeScale",(function(e){Wn.call(e)})),Cr._proxy.registeredCallback("notifyChangeRotate",(function(e){Gn.call(e)})),Cr._proxy.registeredCallback("notifySetCurrentPage",(function(e){zn.call(e)})),Cr._proxy.registeredCallback("notifyShowThumPage",(function(e){Kn.call(e)})),Cr._proxy.registeredCallback("notifyAddElement",(function(e){Qn.call(e)})),Cr._proxy.registeredCallback("notifyAddElementEx",(function(e){Xn.call(e)})),Cr._proxy.registeredCallback("notifyMoveElement",(function(e){Yn.call(e)})),Cr._proxy.registeredCallback("notifyModifyElement",(function(e){Jn.call(e)})),Cr._proxy.registeredCallback("notifyDelElement",(function(e){Zn.call(e)})),Cr._proxy.registeredCallback("notifySetElementZPos",(function(e){$n.call(e)})),Cr._proxy.registeredCallback("notifySetIndicator",(function(e){ei.call(e)})),Cr._proxy.registeredCallback("notifySetHotspot",(function(e){ti.call(e)})),Cr._proxy.registeredCallback("notifySetCurrentTab",(function(e){Ri.call(e)})),Cr._proxy.registeredCallback("notifySetFullScreen",(function(e){console.crlog("notifySetFullScreen",e),bi.call(e)})),Cr._proxy.registeredCallback("notifySetPrivTabInfo",(function(e){console.crlog("notifySetPrivTabInfo",e),wi.call(e)})),Cr._proxy.registeredCallback("actorChanged",(function(e){Pi.call(e)})),Cr._proxy.registeredCallback("notifyApplyDemo",(function(e){Oi.call(e)})),m.call([e,t,n])}))}catch(e){Cr.Utils.log(e),m.call([h.CRVideo_INNER_ERR,"sdk内部错误"])}},CR__UnInit:Mi,CR__Login:function(e,t,n,i,r,o){Cr._proxy._loinging||Cr._proxy.login(e,t,n,i,r,(function(e){S.call([0,e,o])}),(function(e){console.crlog("[Error] Join Meet Fail: ".concat(JSON.stringify(e))),S.call([e.errCode,void 0,o])}))},CR__RefreshSession:function(){Cr._proxy.refreshSession().then((function(e,t){E.call([e,t])}))},CR__KeepAlive:function(e){void 0===e&&(e=1),Cr._proxy.keepAlive(e).then((function(e,t){R.call([e,t])}))},CR__ChangeNickname:function(e,t){Cr._proxy.changeNickname(e,t).then((function(e,t){b.call([e,t])}))},CR__ChangeMemberRights:function(){var e;return(e=Cr._proxy).changeMemberRights.apply(e,arguments)},CR__ChangeOption:function(e){return Cr._proxy.changeOption(e)},CR__SetDemoActor:function(e){Cr._proxy.setDemoActor(e).then((function(e,t){w.call([e,t])}))},CR__SetHostActor:function(e,t,n){Cr._proxy.setHostActor(e,t).then((function(e){x.call([e,n])}))},CR__SetAssistantActor:function(e,t,n){Cr._proxy.setAssistantActor(e,t).then((function(e){P.call([e,n])}))},CR__Kickout:function(e){Cr._proxy.kickout(e).then((function(e,t){O.call([e,t])}))},CR__LockRoom:function(e){Cr._proxy.lockRoom(e).then((function(e,t){D.call([e,t])}))},CR__Exit:function(e){void 0===e&&(e=""),Cr._proxy.exit(e).then((function(e,t){M.call([e,t])}))},CR__GetActiveMembers:function(){Cr._proxy.getActiveMembers().then((function(e,t,n){if(0==e){for(var i=0;i<n.length;i++)C.parseMemberInfo(n[i]);N.call([e,n])}else N.call([e])}))},CR__EndConference:function(){return new Promise((function(e,t){Cr._proxy.endConference().then((function(t){e(t)}))}))},CR__SendIMMsg:function(e,t,n,i,r,o){var c=Ice.generateUUID();return Cr._proxy.SendIMMsg(e,t,n,i,r).then((function(e,t){k.call([e,t,c,o])})),c},CR__GetIMMsgCount:function(){Cr._proxy.getIMMsgCount().then((function(e,t,n){0==e?ue.call([e,t,n]):ue.call([e,t])}))},CR__GetLastMsg:function(e){Cr._proxy.getLastMsg(e).then((function(e,t,n){0==e?L.call([e,t,n]):L.call([e,t])}))},CR__GetLastNMsg:function(e,t){Cr._proxy.getLastNMsg(e,t).then((function(e,t,n){0==e?U.call([e,t,n]):U.call([e,t])}))},CR__StartSvrRecord:function(e){return Cr._proxy.startSvrRecord(e)},CR__UpdateSvrRecCfg:function(e){return Cr._proxy.updateSvrRecCfg(e)},CR__StopSvrRecord:function(){return Cr._proxy.stopSvrRecord()},CR__TerminalMsg:function(e,t,n,i,r){Cr._proxy.terminalMsg(e,t,n,i).then(r)},CR__GetMeetingAttrs:function(e){return new Promise((function(t,n){Cr._proxy._conferenceRequest.getMeetingAttrs(e).then((function(e){var n={};e.forEach((function(e,t){n[e]=t})),t(n)})).exception((function(e){console.crlog(e.toString()),n(1)}))}))},CR__GetMeetingAllAttrs:function(){return new Promise((function(e,t){Cr._proxy._conferenceRequest.getMeetingAllAttrs().then((function(t){var n={};t.forEach((function(e,t){n[e]=t})),e(n)})).exception((function(e){console.crlog(e.toString()),t(1)}))}))},CR__SetMeetingAttrs:function(e,t){var n=new Conference.StringStringMap;for(var i in e)n.set(i,e[i]);return new Promise((function(e,i){Cr._proxy._conferenceRequest.setMeetingAttrs(n,t).then((function(){e()})).exception((function(e){console.crlog(e.toString()),i(1)}))}))},CR__AddOrUpdateMeetingAttrs:function(e,t){var n=new Conference.StringStringMap;for(var i in e)n.set(i,e[i]);return new Promise((function(e,i){Cr._proxy._conferenceRequest.addOrUpdateMeetingAttrs(n,t).then((function(){e()})).exception((function(e){console.crlog(e.toString()),i(1)}))}))},CR__DelMeetingAttrs:function(e,t){return new Promise((function(n,i){Cr._proxy._conferenceRequest.delMeetingAttrs(e,t).then((function(){n()})).exception((function(e){console.crlog(e.toString()),i(1)}))}))},CR__ClearMeetingAttrs:function(e){return new Promise((function(t,n){Cr._proxy._conferenceRequest.clearMeetingAttrs(e).then((function(){t()})).exception((function(e){console.crlog(e.toString()),n(1)}))}))},CR__GetUserAttrs:function(e,t){return new Promise((function(n,i){function r(e){var t={};e.forEach((function(e,n){t[e]={},n.forEach((function(n,i){t[e][n]=i}))})),n(t)}t&&0!==t.length?Cr._proxy._conferenceRequest.getUserAttrsWithKey(e,t).then(r).exception((function(e){console.crlog(e.toString()),i(1)})):Cr._proxy._conferenceRequest.getUserAttrs(e).then(r).exception((function(e){console.crlog(e.toString()),i(1)}))}))},CR__SetUserAttrs:function(e,t,n){var i=new Conference.StringStringMap;for(var r in t)i.set(r,t[r]);return new Promise((function(t,r){Cr._proxy._conferenceRequest.setUserAttrs(e,i,n).then((function(){t()})).exception((function(e){console.crlog(e.toString()),r(1)}))}))},CR__AddOrUpdateUserAttrs:function(e,t,n){var i=new Conference.StringStringMap;for(var r in t)i.set(r,t[r]);return new Promise((function(t,r){Cr._proxy._conferenceRequest.addOrUpdateUserAttrs(e,i,n).then((function(){t()})).exception((function(e){console.crlog(e.toString()),r(1)}))}))},CR__DelUserAttrs:function(e,t,n){return new Promise((function(i,r){Cr._proxy._conferenceRequest.delUserAttrs(e,t,n).then((function(){i()})).exception((function(e){console.crlog(e.toString()),r(1)}))}))},CR__ClearUserAttrs:function(e,t){return new Promise((function(n,i){Cr._proxy._conferenceRequest.clearUserAttrs(e,t).then((function(){n()})).exception((function(e){console.crlog(e.toString()),i(1)}))}))},CR__ClearAllUserAttrs:function(e){return new Promise((function(t,n){Cr._proxy._conferenceRequest.clearAllUserAttrs(e).then((function(){t()})).exception((function(e){console.crlog(e.toString()),n(1)}))}))},CR__StartCloudRecord:function(e,t){return new Promise((function(n,i){Cr._proxy._conferenceRequest.startCloudRecord(e,t).then((function(){n()})).exception((function(e){console.crlog(e.toString()),i(e.toString().indexOf("Conference::SeviceNotEnabled")>-1?h.CRVideo_SEVICE_NOTENABLED:1)}))}))},CR__UpdateCloudRecord:function(e,t){return Cr._proxy._conferenceRequest.updateCloudRecord(e,t)},CR__StopCloudRecord:function(e){return new Promise((function(t,n){Cr._proxy._conferenceRequest.stopCloudRecord(e).then((function(){t()})).exception((function(e){console.crlog(e.toString()),n(1)}))}))},CR__SetVideoDeviceStatus:function(e){Cr._proxy.setVideoDeviceStatus(e).then((function(e,t){_t.call([e,t])}))},CR__AllowVideoWall:function(e){Cr._proxy.allowVideoWall(e).then((function(e,t){Ct.call([e,t])}))},CR__StartVideo:function(){Cr._proxy.startVideo().then((function(e,t){gt.call([e,t])}))},CR__StopVideo:function(){Cr._proxy.stopVideo().then((function(e,t){yt.call([e,t])}))},CR__ReqOpenVideo:function(e){Cr._proxy.reqOpenVideo(e).then((function(e,t){It.call([e,t])}))},CR__StartVideoEx:function(e){Cr._proxy.startVideoEx(e).then((function(e,t){vt.call([e,t])}))},CR__StopVideoEx:function(e){Cr._proxy.stopVideoEx(e).then((function(e,t){mt.call([e,t])}))},CR__EnableVideo:function(e){Cr._proxy.enableVideo(e).then((function(e,t){St.call([e,t])}))},CR__SetFocusWindow:function(e,t){Cr._proxy.setFocusWindow(e,t).then((function(e,t){Et.call([e,t])}))},CR__BatchSubscribeVideo:function(e,t){Cr._proxy.batchSubscribeVideo(e,t).then((function(e,t){Rt.call([e,t])}))},CR__BatchSubscribeVideo2:function(e,t,n){Cr._proxy.batchSubscribeVideo2(e,t,n).then((function(e,t){bt.call([e,t])}))},CR__SubscribeFocusWindow:function(e){Cr._proxy.subscribeFocusWindow(e).then((function(e,t){wt.call([e,t])}))},CR__SetVLayout:function(e){Cr._proxy.setVLayout(e).then((function(e,t){Pt.call([e,t])}))},CR__SetVLayout2:function(e){Cr._proxy.setVLayout2(e).then((function(e,t){Pt.call([e,t])}))},CR__SetMainVideoShowMode:function(e){Cr._proxy.setMainVideoShowMode(e).then((function(e,t){Ot.call([e,t])}))},CR__SetVideoListMode:function(e){Cr._proxy.setVideoListMode(e).then((function(e,t){Dt.call([e,t])}))},CR__RefuseOpenVideo:function(e){Cr._proxy.refuseOpenVideo(e).then((function(e,t){Mt.call([e,t])}))},CR__GetVideoSetting:Ni,CR__SetCamera:Ai,CR__SetCameraById:Ti,CR__SetVideoPolling:function(e,t){Cr._proxy.setVideoPolling(e,t).then((function(e,t){kt.call([e,t])}))},CR__UpdatePollingVideo:function(e){Cr._proxy.updatePollingVideo(e).then((function(e,t){Lt.call([e,t])}))},CR__UpdateVideoList:function(e){Cr._proxy.updateVideoList(e).then((function(e,t){Ut.call([e,t])}))},CR__GetVideoPollingState:function(e,t){Cr._proxy.getVideoPollingState(e,t).then((function(e,t){Vt.call([e,t])}))},CR__UpdateAllCameraInfos:function(e){Cr._proxy.updateAllCameraInfos(e).then((function(e,t){Ft.call([e,t])}))},CR__SetOpenedCameraNumber:function(e){Cr._proxy.setOpenedCameraNumber(e).then((function(e,t){jt.call([e,t])}))},CR__StartAdjustDirection:function(e,t){Cr._proxy.startAdjustDirection(e,t).then((function(e,t){Bt.call([e,t])}))},CR__StartAdjustZoom:function(e,t){Cr._proxy.startAdjustZoom(e,t).then((function(e,t){Ht.call([e,t])}))},CR__StopAdjustDirection:function(e){Cr._proxy.stopAdjustDirection(e).then((function(e,t){qt.call([e,t])}))},CR__StopAdjustZoom:function(e){Cr._proxy.stopAdjustZoom(e).then((function(e,t){CR__StopAdjustZoomRslt.call([e,t])}))},CR__VideoResolutionReport:function(e,t,n){Cr._proxy.VideoResolutionReport(e,t,n).then((function(e,t){Wt.call([e,t])}))},CR__SetAudioDeviceStatus:function(e){Cr._proxy.setAudioDeviceStatus(e).then((function(e,t){Ee.call([e,t])}))},CR__AskForMic:function(){Cr._proxy.askForMic().then((function(e,t){Re.call([e,t])}))},CR__OpenMicEx:function(e){Cr._proxy.openMicEx(e).then((function(e,t){be.call([e,t])}))},CR__CloseMicEx:function(e){Cr._proxy.closeMicEx(e).then((function(e,t){we.call([e,t])}))},CR__CloseAll:function(){Cr._proxy.closeAll().then((function(e,t){xe.call([e,t])}))},CR__SetVoiceEnergy:function(e){Cr._proxy.setVoiceEnergy(e).then((function(e,t){tn.call([e,t])}))},CR__PstnSwitchMicStatus:function(){Cr._proxy.pstnSwitchMicStatus().then((function(e,t){nn.call([e,t])}))},CR__StartRecord:function(){Cr._proxy.startRecord().then((function(e,t){rn.call([e,t])}))},CR__IsRecording:function(){Cr._proxy.isRecording().then((function(e,t){on.call([e,t])}))},CR__StopRecord:function(){Cr._proxy.isRecording().then((function(e,t){cn.call([e,t])}))},CR__PlayApplause:function(){Cr._proxy.playApplause().then((function(e,t){sn.call([e,t])}))},CR__GetMusicList:function(){Cr._proxy.getMusicList().then((function(e,t){an.call([e,t])}))},CR__GetPlayBGMusic:function(){Cr._proxy.getPlayBGMusic().then((function(e,t){ln.call([e,t])}))},CR__StartBGMusic:function(e,t){Cr._proxy.startBGMusic(e,t).then((function(e,t){un.call([e,t])}))},CR__StopPlayBGMusic:function(){Cr._proxy.stopPlayBGMusic().then((function(e,t){dn.call([e,t])}))},CR__SetPlayBGMusicVolumn:function(e){Cr._proxy.setPlayBGMusicVolumn(e).then((function(e,t){hn.call([e,t])}))},CR__GetPlayBGMusicVolumn:function(){Cr._proxy.getPlayBGMusicVolumn().then((function(e,t){fn.call([e,t])}))},CR__VoiceHowling:function(e){Cr._proxy.voiceHowling(e).then((function(e,t){pn.call([e,t])}))},CR__VoiceNoise:function(e){Cr._proxy.voiceNoise(e).then((function(e,t){_n.call([e,t])}))},CR__RemoteAudioSet:function(e,t){Cr._proxy.remoteAudioSet(e,t).then((function(e,t){Cn.call([e,t])}))},CR__GetRemoteAudioInf:function(e){Cr._proxy.getRemoteAudioInf(e).then((function(e,t){gn.call([e,t])}))},CR__GetScreenShareInfo:function(){Cr._proxy.getScreenShareInfo().then((function(e,t,n){0==e?bn.call([e,t,n]):bn.call([e,t])}))},CR__StartScreenShare:function(){Cr._proxy.startScreenShare().then((function(e,t){wn.call([e,t])}))},CR__StopScreenShare:function(){Cr._proxy.stopScreenShare().then((function(e,t){xn.call([e,t])}))},CR__AskForNewIFrame:function(){Cr._proxy.askForNewIFrame().then((function(e){}))},CR__GetAllMarkData:function(e){"v4"===e?Cr._proxy.getAllMarkDataV4().then((function(e){Pn.call(e)})):Cr._proxy.getAllMarkData().then((function(e){Pn.call(e)}))},CR__GetMediaInfo:function(){return new Promise((function(e,t){Cr._proxy.getMediaInfo().then((function(n,i,r){0==n?(Tn.call([n,i,r]),e(r)):(Tn.call([n,i]),t({errCode:n,errDesc:i}))}))}))},CR__StartPlayMedia:ki,CR__StopPlayMedia:Li,CR__PausePlayMedia:Ui,CR__SubscribeMedia:Vi,CR__SetContainerSize:function(e,t){Cr._proxy.setContainerSize(e,t).then((function(e,t){ni.call([e,t])}))},CR__Create:function(e){Cr._proxy.create(e).then((function(e,t){ii.call([e,t])}))},CR__ImportPage:function(e,t){Cr._proxy.importPage(e,t).then((function(e,t){ri.call([e,t])}))},CR__Close:function(e){Cr._proxy.close(e).then((function(e,t){oi.call([e,t])}))},CR__ChangeName:function(e,t){Cr._proxy.changeName(e,t).then((function(e,t){ci.call([e,t])}))},CR__ChangeScale:function(e,t){Cr._proxy.changeScale(e,t).then((function(e,t){si.call([e,t])}))},CR__ChangeRatote:function(e,t){Cr._proxy.changeRatote(e,t).then((function(e,t){ai.call([e,t])}))},CR__SetCurrentPage:function(e,t,n,i){Cr._proxy.setCurrentPage(e,t,n,i).then((function(e,t){li.call([e,t])}))},CR__ShowThumPage:function(e,t){Cr._proxy.showThumPage(e,t).then((function(e,t){ui.call([e,t])}))},CR__AddElement:function(e,t,n){Cr._proxy.addElement(e,t,n).then((function(e,t){di.call([e,t])}))},CR__AddElementEx:function(e,t,n){Cr._proxy.addElementEx(e,t,n).then((function(e,t){hi.call([e,t])}))},CR__MoveElement:function(e,t,n){Cr._proxy.moveElement(e,t,n).then((function(e,t){fi.call([e,t])}))},CR__ModifyElement:function(e,t,n){Cr._proxy.modifyElement(e,t,n).then((function(e,t){pi.call([e,t])}))},CR__DelElement:function(e,t,n){Cr._proxy.delElement(e,t,n).then((function(e,t){_i.call([e,t])}))},CR__SetElementZPos:function(e,t,n){Cr._proxy.setElementZPos(e,t,n).then((function(e,t){Ci.call([e,t])}))},CR__SetIndicator:function(e,t){Cr._proxy.setIndicator(e,t).then((function(e,t){gi.call([e,t])}))},CR__SetHotspot:function(e,t,n,i){Cr._proxy.setHotspot(e,t,n,i).then((function(e,t){yi.call([e,t])}))},CR__QueryIndicator:function(e){Cr._proxy.queryIndicator(e).then((function(e,t,n){0==e?Ii.call([e,t,n]):Ii.call([e,t])}))},CR__QueryAllBoardList:function(){Cr._proxy.queryAllBoardList().then((function(e,t,n){0==e?vi.call([e,t,n.map((function(e){return e.wID}))]):vi.call([e,t])}))},CR__QueryElementByIDs:function(e,t,n){Cr._proxy.queryElementByIDs(e,t).then((function(e,t,i){0==e?mi.call([e,t,i,n]):mi.call([e,t,void 0,n])}))},CR__QueryPageElementByIDs:function(e,t,n){Cr._proxy.queryPageElementByIDs(e,t,n).then((function(e,t,n){0==e?Si.call([e,t,n]):Si.call([e,t])}))},CR__SetMarkTerms:function(e,t,n){Cr._proxy.setMarkTerms(e,t,n).then((function(e,t){Ei.call([e,t])}))},CR__SetCurrentTab:function(e,t){Cr._proxy.setCurrentTab(e,t).then((function(e,t){xi.call([e,t])}))},CR__AllowDemoActor:function(e,t){Cr._proxy.allowDemoActor(e,t).then((function(e,t){Di.call([e,t])}))},CR__StartShare:function(){return new Promise((function(e,t){Cr._proxy.startShare().then((function(t,n){e(t)}))}))},CR__StopShare:function(){return new Promise((function(e,t){Cr._proxy.stopShare().then((function(t,n){e(t)}))}))},CR__SaveLastTabValue:function(e){Cr._proxy.saveLastTabValue(e).then((function(e,t){}))},CR__ReceiveIMMsg:T,CR__UserLeftMeet:V,CR__UserEnter:F,CR__OptionChanged:j,CR__MeetEnded:B,CR__NotifyStartBroadCast:H,CR__NotifyStopBroadCast:q,CR__NotifyBroadCastStartPush:W,CR__NotifyBroadCastStopPush:G,CR__NotifyIMForbidStatus:K,CR__NotifyClearIMMsg:Q,CR__RightChanged:X,CR__AskQuesNotify:Z,CR__LockQuesNotify:$,CR__ReplyQuesNotify:ee,CR__ModifyQuesNotify:te,CR__DelQuesNotify:ne,CR__DelAllQuesNotify:ie,CR__PublicQuesNotify:re,CR__QuesTypeChangeNotify:oe,CR__ModifyQuesTypeNotify:ce,CR__SetBroadCastQuesNotify:se,CR__NotifyPlayBackStartPush:ae,CR__NotifyDeleteIMMsg:le,CR__Notifypayback:de,CR__NotifyBroadCastPlaybackStop:he,CR__NotifySwtichLiveAppElements:fe,CR__NotifyThumbUp:pe,CR__NotifyLuckyDrawCfg:_e,CR__NotifyLDMembersStatus:ye,CR__NotifyNickNameChanged:Ie,CR__NotifyLuckyDrawResult:ve,CR__NotifyTerminalMsg:me,CR__NotifyShareStateChanged:Se,CR__VideoAllocRaw:Me,CR__VideoAllocRawExt:Ne,CR__VideoAllocRawExt2:Ae,CR__AudioAllocRaw:Pe,CR__AudioAllocRawExt:Oe,CR__AudioAllocRawExt2:De,CR__ModifyPeerAddrExt:ke,CR__DisableSendVideo2Internet:Ue,CR__EnableSendScreen2Internet:Ve,CR__DisableSendScreen2Internet:Fe,CR__EnableSendVideo2Internet:He,CR__Free:qe,CR__ModifyPeerAddr:Te,CR__NotifyAllowVideoWall:We,CR__VideoUpdateStatus:Ge,CR__NotifyOpenVideo:ze,CR__StartVideoByManager:Ke,CR__NotifyEnableVideo:Qe,CR__UpdateFocusWindow:Xe,CR__UpdateVLayout:Ye,CR__UpdateVLayout2:Je,CR__UpdateMainVideoShowMode:Ze,CR__UpdateVideoListMode:$e,CR__EnableUpload:et,CR__EnableUpload2:tt,CR__GenerateIFrame:nt,CR__NotifyRefuseOpenVideo:it},"CR__GetVideoSetting",Ni),a(Fi,"CR__SetCamera",Ai),a(Fi,"CR__SetCameraById",Ti),a(Fi,"CR__NotifyVideoPolling",ct),a(Fi,"CR__NotifyPollingVideo",st),a(Fi,"CR__NotifyVideoList",at),a(Fi,"CR__NotifyUpdateAllCameraInfos",lt),a(Fi,"CR__NotifySetOpenedCameraNumber",ut),a(Fi,"CR__NotifyStartAdjustDirection",dt),a(Fi,"CR__NotifyStartAdjustZoom",ht),a(Fi,"CR__NotifyStopAdjustDirection",ft),a(Fi,"CR__NotifyStopAdjustZoom",pt),a(Fi,"CR__AudioUpdateStatus",Gt),a(Fi,"CR__UpdateVoiceEnergy",zt),a(Fi,"CR__UpdateSpeaker",Kt),a(Fi,"CR__NotifyCloseAll",Qt),a(Fi,"CR__PlayBackgroundMusic",Xt),a(Fi,"CR__NotifyVoiceHowling",Yt),a(Fi,"CR__NotifyVoiceNoise",Jt),a(Fi,"CR__GetRemoteAudioInfNotify",Zt),a(Fi,"CR__RemoteAudioSetNotify",$t),a(Fi,"CR__NotifyLanLessMicOpen",en),a(Fi,"CR__NotifyStartScreenShare",yn),a(Fi,"CR__NotifyStopScreenShare",In),a(Fi,"CR__NotifyStartMarked",vn),a(Fi,"CR__NotifyStopMarked",mn),a(Fi,"CR__NotifyMarkData",Sn),a(Fi,"CR__NotifyClearAllMarks",En),a(Fi,"CR__NotifyCtrlReqState",Rn),a(Fi,"CR__NotifyStartPlayMedia",On),a(Fi,"CR__NotifyStopPlayMedia",Dn),a(Fi,"CR__NotifyPausePlayMedia",Mn),a(Fi,"CR__NotifyMediaMakeIFrame",Nn),a(Fi,"CR__NotifySubscribeMedia",An),a(Fi,"CR__StartPlayMedia",ki),a(Fi,"CR__StopPlayMedia",Li),a(Fi,"CR__PausePlayMedia",Ui),a(Fi,"CR__SubscribeMedia",Vi),a(Fi,"CR__NotifySetContainerSize",Fn),a(Fi,"CR__NotifyCreate",jn),a(Fi,"CR__NotifyImportPage",Bn),a(Fi,"CR__NotifyClose",Hn),a(Fi,"CR__NotifyChangeName",qn),a(Fi,"CR__NotifyChangeScale",Wn),a(Fi,"CR__NotifyChangeRotate",Gn),a(Fi,"CR__NotifySetCurrentPage",zn),a(Fi,"CR__NotifyShowThumPage",Kn),a(Fi,"CR__NotifyAddElement",Qn),a(Fi,"CR__NotifyAddElementEx",Xn),a(Fi,"CR__NotifyMoveElement",Yn),a(Fi,"CR__NotifyModifyElement",Jn),a(Fi,"CR__NotifyDelElement",Zn),a(Fi,"CR__NotifySetElementZPos",$n),a(Fi,"CR__NotifySetIndicator",ei),a(Fi,"CR__NotifySetHotspot",ti),a(Fi,"CR__NotifyRTMPStreamPublishFinished",Le),a(Fi,"CR__NotifySetCurrentTab",Ri),a(Fi,"CR__NotifySetFullScreen",bi),a(Fi,"CR__NotifySetPrivTabInfo",wi),a(Fi,"CR__NotifyActorChanged",Pi),a(Fi,"CR__NotifyApplyDemo",Oi),a(Fi,"CR_InitRslt",m),a(Fi,"CR__LoginRslt",S),a(Fi,"CR__RefreshSessionRslt",E),a(Fi,"CR__KeepAliveRslt",R),a(Fi,"CR__ChangeNicknameRslt",b),a(Fi,"CR__SetDemoActorRslt",w),a(Fi,"CR__SetHostActorRslt",x),a(Fi,"CR__SetAssistantActorRslt",P),a(Fi,"CR__KickoutRslt",O),a(Fi,"CR__LockRoomRslt",D),a(Fi,"CR__ExitRslt",M),a(Fi,"CR__GetActiveMembersRslt",N),a(Fi,"CR__EndConferenceRslt",A),a(Fi,"CR__SendIMMsgRslt",k),a(Fi,"CR__GetLastMsgRslt",L),a(Fi,"CR__GetLastNMsgRslt",U),a(Fi,"CR__GetBroadCastUrlRslt",z),a(Fi,"CR__AskQuesRslt",Y),a(Fi,"CR__GetQuesListRslt",J),a(Fi,"CR__GetIMMsgCountRslt",ue),a(Fi,"CR__GetLuckyDrawCfgRslt",Ce),a(Fi,"CR__JoinLuckyDrawMembersRslt",ge),a(Fi,"CR__SetAudioDeviceStatusRslt",Ee),a(Fi,"CR__AskForMicRslt",Re),a(Fi,"CR__OpenMicExRslt",be),a(Fi,"CR__CloseMicExRslt",we),a(Fi,"CR__CloseAllRslt",xe),a(Fi,"CR__SetVideoDeviceStatusRslt",_t),a(Fi,"CR__AllowVideoWallRslt",Ct),a(Fi,"CR__StartVideoRslt",gt),a(Fi,"CR__StopVideoRslt",yt),a(Fi,"CR__ReqOpenVideoRslt",It),a(Fi,"CR__StartVideoExRslt",vt),a(Fi,"CR__StopVideoExExRslt",mt),a(Fi,"CR__EnableVideoRslt",St),a(Fi,"CR__SetFocusWindowRslt",Et),a(Fi,"CR__BatchSubscribeVideoRslt",Rt),a(Fi,"CR__BatchSubscribeVideo2Rslt",bt),a(Fi,"CR__SubscribeFocusWindowRslt",wt),a(Fi,"CR__SubscribeFocusWindow2Rslt",xt),a(Fi,"CR__SetVLayoutRslt",Pt),a(Fi,"CR__SetMainVideoShowModeRslt",Ot),a(Fi,"CR__SetVideoListModeRslt",Dt),a(Fi,"CR__RefuseOpenVideoRslt",Mt),a(Fi,"CR__GetVideoSettingRslt",Nt),a(Fi,"CR__SetCameraRslt",At),a(Fi,"CR__SetCameraByIdRslt",Tt),a(Fi,"CR__SetVideoPollingRslt",kt),a(Fi,"CR__UpdatePollingVideoRslt",Lt),a(Fi,"CR__UpdateVideoListRslt",Ut),a(Fi,"CR__GetVideoPollingStateRslt",Vt),a(Fi,"CR__UpdateAllCameraInfosRslt",Ft),a(Fi,"CR__SetOpenedCameraNumberRslt",jt),a(Fi,"CR__StartAdjustDirectionRslt",Bt),a(Fi,"CR__StartAdjustZoomRslt",Ht),a(Fi,"CR__StopAdjustDirectionRslt",qt),a(Fi,"CR__VideoResolutionReportRslt",Wt),a(Fi,"CR__SetVoiceEnergyRslt",tn),a(Fi,"CR__PstnSwitchMicStatusRslt",nn),a(Fi,"CR__StartRecordRslt",rn),a(Fi,"CR__IsRecordingRslt",on),a(Fi,"CR__StopRecordRslt",cn),a(Fi,"CR__PlayApplauseRslt",sn),a(Fi,"CR__GetMusicListRslt",an),a(Fi,"CR__GetPlayBGMusicRslt",ln),a(Fi,"CR__StartBGMusicRslt",un),a(Fi,"CR__StopPlayBGMusicRslt",dn),a(Fi,"CR__SetPlayBGMusicVolumnRslt",hn),a(Fi,"CR__GetPlayBGMusicVolumnRslt",fn),a(Fi,"CR__VoiceHowlingRslt",pn),a(Fi,"CR__VoiceNoiseRslt",_n),a(Fi,"CR__RemoteAudioSetRslt",Cn),a(Fi,"CR__GetRemoteAudioInfRslt",gn),a(Fi,"CR__GetScreenShareInfoRslt",bn),a(Fi,"CR__StartScreenShareRslt",wn),a(Fi,"CR__StopScreenShareRslt",xn),a(Fi,"CR__GetAllMarkDataRslt",Pn),a(Fi,"CR__GetMediaInfoRslt",Tn),a(Fi,"CR__SetContainerSizeRslt",ni),a(Fi,"CR__CreateRslt",ii),a(Fi,"CR__ImportPageRslt",ri),a(Fi,"CR__CloseRslt",oi),a(Fi,"CR__ChangeNameRslt",ci),a(Fi,"CR__ChangeScaleRslt",si),a(Fi,"CR__ChangeRatoteRslt",ai),a(Fi,"CR__SetCurrentPageRslt",li),a(Fi,"CR__ShowThumPageRslt",ui),a(Fi,"CR__AddElementRslt",di),a(Fi,"CR__AddElementExRslt",hi),a(Fi,"CR__MoveElementRslt",fi),a(Fi,"CR__ModifyElementRslt",pi),a(Fi,"CR__DelElementRslt",_i),a(Fi,"CR__SetElementZPosRslt",Ci),a(Fi,"CR__SetIndicatorRslt",gi),a(Fi,"CR__SetHotspotRslt",yi),a(Fi,"CR__QueryIndicatorRslt",Ii),a(Fi,"CR__QueryAllBoardListRslt",vi),a(Fi,"CR__QueryElementByIDsRslt",mi),a(Fi,"CR__QueryPageElementByIDsRslt",Si),a(Fi,"CR__SetMarkTermsRslt",Ei),a(Fi,"CR__SetCurrentTabRslt",xi),Fi)}}).call(this,n(15).setImmediate,n(7),n(17)(e))},function(e,t){var n={2:7,3:7,4:801,5:1,6:800,7:1,9:803,11:806,17:803,19:800,10:800,22:852,38:851,71:14,72:15,73:16,74:17,81:19,83:21,84:21,85:18,86:20,87:22,CRVideo_NOERR:0,CRVideo_UNKNOWERR:1,CRVideo_OUTOF_MEM:2,CRVideo_INNER_ERR:3,CRVideo_MISMATCHCLIENTVER:4,CRVideo_MEETPARAM_ERR:5,CRVideo_ERR_DATA:6,CRVideo_ANCTPSWD_ERR:7,CRVideo_SERVER_EXCEPTION:8,CRVideo_LOGINSTATE_ERROR:9,CRVideo_CRVideoSDK_USER_BEEN_KICKOUT:10,CRVideo_CRVIDEOSDK_NOT_LOGIN:12,CRVideo_CRVIDEOSDK_BASE64_COV_ERR:13,CRVIDEOSDK_TOKEN_TIMEOUT:18,CRVIDEOSDK_TOKEN_AUTHINFOERR:19,CRVIDEOSDK_TOKEN_APPIDNOTEXIST:20,CRVIDEOSDK_TOKEN_AUTH_FAILED:21,CRVIDEOSDK_TOKEN_NOTTOKENTYPE:22,CRVideo_NETWORK_INITFAILED:200,CRVideo_NO_SERVERINFO:201,CRVideo_NOSERVER_RSP:202,CRVideo_CREATE_CONN_FAILED:203,CRVideo_SOCKETEXCEPTION:204,CRVideo_SOCKETTIMEOUT:205,CRVideo_FORCEDCLOSECONNECTION:206,CRVideo_CONNECTIONLOST:207,CRVideo_VOICEENG_INITFAILED:208,CRVideo_HOST_PASSWORD_ERROR:300,CRVideo_QUE_ID_INVALID:400,CRVideo_QUE_NOUSER:401,CRVideo_QUE_USER_CANCELLED:402,CRVideo_QUE_SERVICE_NOT_START:403,CRVideo_ALREADY_OTHERQUE:404,CRVideo_INVALID_CALLID:600,CRVideo_ERR_CALL_EXIST:601,CRVideo_ERR_BUSY:602,CRVideo_ERR_OFFLINE:603,CRVideo_ERR_NOANSWER:604,CRVideo_ERR_USER_NOT_FOUND:605,CRVideo_ERR_REFUSE:606,CRVideo_REQUEST_FAIL_NOTLIST:700,CRVideo_REQUEST_FAIL_MAX_CONNECTED:701,CRVideo_CAM_FAIL_APP_NO_PERMISSIONS:702,CRVideo_CAM_FAIL_WX_NO_PERMISSIONS:703,CRVideo_MIC_FAIL_APP_NO_PERMISSIONS:704,CRVideo_MIC_FAIL_WX_NO_PERMISSIONS:705,CRVideo_MEETNOTEXIST:800,CRVideo_AUTHERROR:801,CRVideo_MEMBEROVERFLOWERROR:802,CRVideo_RESOURCEALLOCATEERROR:803,CRVideo_MEETROOMLOCKED:804,CRVideo_BALANCELESSERROR:805,CRVideo_SEVICE_NOTENABLED:806,CRVideo_ALREADYLOGIN:807,CRVideo_EXCEED_CONNECTED:850,CRVideo_ONLY_INVITEE_CAN_LOGIN:851,CRVIDEOSDK_CATCH_SCREEN_ERR:900,CRVIDEOSDK_RECORD_MAX:901,CRVIDEOSDK_RECORD_NO_DISK:902,CRVIDEOSDK_RECORD_SIZE_ERR:903,CRVIDEOSDK_CFG_RESTRICTED:904,CRVIDEOSDK_FILE_ERR:905,CRVIDEOSDK_RECORDSTARTED:906,CRVIDEOSDK_NOMORE_MCU:907,CRVIDEOSDK_SVRRECORD_SPACE_FULL:908,CRVideo_SENDFAIL:1e3,CRVideo_CONTAIN_SENSITIVEWORDS:1001,CRVideo_NOT_CHAT_PERMIT:1002,CRVideo_SENDCMD_LARGE:1100,CRVideo_SENDBUFFER_LARGE:1101,CRVideo_SENDDATA_TARGETINVALID:1102,CRVideo_SENDFILE_FILEINERROR:1103,CRVideo_TRANSID_INVALID:1104,CRVideo_RECORDFILE_STATE_ERR:1200,CRVideo_RECORDFILE_NOT_EXIST:1201,CRVideo_IPCAM_URLERR:1300,CRVideo_IPCAM_ALREADYEXIST:1301,CRVideo_IPCAM_TOOMUCH:1302,CRVideo_CRVIDEOSDK_FILE_NOT_EXIST:1400,CRVideo_CRVIDEOSDK_FILE_READ_ERR:1401,CRVideo_CRVIDEOSDK_FILE_WRITE_ERR:1402,CRVideo_WEB_OCX_NOTINSTALLED:2001,CRVideo_WEB_BROWER_NOTUPPORTED:2002,CRVideo_OCX_VERSION_NOTUPPORTED:2003,AUNKNOWN:0,ANULL:1,ACLOSE:2,AOPEN:3,AOPENING:4,AACCEPTING:5,VIDEO_SZ_80:1,VSIZE_SZ_128:2,VSIZE_SZ_160:3,VSIZE_SZ_192:4,VSIZE_SZ_256:5,VSIZE_SZ_288:6,VSIZE_SZ_320:7,VSIZE_SZ_360:8,VSIZE_SZ_400:9,VSIZE_SZ_480:10,VSIZE_SZ_576:11,VSIZE_SZ_720:12,VSIZE_SZ_1080:13,VUNKNOWN:0,VNULL:1,VCLOSE:2,VOPEN:3,VOPENING:4,VFMT_YUV420P:0,VFMT_ARGB32:1,RECVTP_VIDEO:0,RECVTP_PIC:1,RECVTP_SCREEN:2,RECVTP_MEDIA:3,RECVTP_TIMESTAMP:4,RECVTP_REMOTE_SCREEN:5,NO_RECORD:0,STARTING:1,RECORDING:2,PAUSED:3,STOPPING:4,REC_AUDIO_TYPE_NULL:0,REC_AUDIO_TYPE_LOC:1,REC_AUDIO_TYPE_OTHER:2,REC_AUDIO_TYPE_ALL:3,REC_VCONTENT_NULL:0,RECORD_VIDEO_TYPE_SCREEN:1,REC_VCONTENT_VIDEOS:3,MAINPAGE_VIDEOWALL:0,MAINPAGE_SHARE:1,MAINPAGE_WHITEBOARD:2,VLO_1v1_M:0,VLO_WALL1_M:1,VLO_WALL2:2,VLO_WALL4:3,VLO_WALL5_M:4,VLO_WALL6_M:5,VLO_WALL9:6,VLO_WALL13_M:7,VLO_WALL16:8,VLO_WALL25:9,HTTPFS_NULL:0,HTTPFS_QUEUE:1,HTTPFS_TRANSFERING:2,HTTPFS_FINISHED:3,HTTPR_Success:0,HTTPR_InnerErr:1,HTTPR_ParamErr:2,HTTPR_NetworkFail:3,HTTPR_NetworkTimeout:4,HTTPR_FileOperationFail:5,HTTPR_PathNotSupprot:6,HTTPR_FileTransfering:7,HTTPR_HTTPERR_BEGIN:1e3,HTTPR_HTTPERR_END:1999,WXErrorToCode:function(e){if(e)return console.crlog("小程序websocket连接出现内部错误,desc: ".concat(e)),e.indexOf("url not in domain list")>-1?this.CRVideo_REQUEST_FAIL_NOTLIST:e.indexOf("exceed max task count")>-1?this.CRVideo_REQUEST_FAIL_MAX_CONNECTED:e.indexOf("request:fail timeout")>-1||e.indexOf("request:fail socket time out")>-1||e.indexOf("connect response time out")>-1?this.CRVideo_SOCKETTIMEOUT:1}};e.exports=n},function(e,t,n){n(1);var i={};try{i=wx.getSystemInfoSync()}catch(e){}e.exports={init:!1,allIceData:{},callServerConnectting:!1,deviceInfo:i,firstJoinMeetingDropped:!1,call:{callId:null,setCallId:function(e){this.callId=e},getCallId:function(){return this.callId}},printDeviceInfo:function(){console.crlog("[DeviceInfo] ".concat(JSON.stringify(i,null,4)))},isScreenUserId:null,OEMKey:""}},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,c=void 0,c=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!==n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===n(c)?c:String(c)),r)}var o,c}var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.addr=null}var t,n,r;return t=e,(n=[{key:"setAddr",value:function(e){var t=e.trim();0===t.indexOf("http://")||0===t.indexOf("https://")?this.addr=e:this.addr="https://"+e}},{key:"getServerAddr",value:function(){return this.addr}},{key:"getDefaultPort",value:function(){return 0===this.addr.indexOf("http://")?80:443}},{key:"getHttpProtocol",value:function(){return 0===this.addr.indexOf("http://")?"http://":"https://"}},{key:"getWebSocketProtocol",value:function(){return 0===this.addr.indexOf("http://")?"ws":"wss"}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();e.exports={sdkver:"1.5.1",useCallSer:1,IceTimeOut:"5000",server:new r}},function(e,t,n){function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,a(i.key),i)}}function a(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==c(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}var l=n(2),u=(n(9),n(3)),d=n(20),h=n(1),f=n(8),p=n(5),_=n(4),C=l.CRVideo,g=l.Ice,y=l.SendCmd;C.logproxy=null,C.Server=null,C.sessionID=null,C.cookie="",C.MeetInfoObj=null,C.meetSubject="test",C.queStatusInfo=[],C.queServiceInfo="demo-queID",C.queingInfo="demo-queID",C.inviteID="",C.logServer=null;var I=g.generateUUID(),v=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.uuid=g.generateUUID(),this.CommonArray=[],this.init()}var t,n,i;return t=e,(n=[{key:"init",value:function(){var e=0,t=this.uuid.length;this.CommonArray[e++]=0,this.CommonArray[e++]=(4278190080&t)>>24,this.CommonArray[e++]=(16711680&t)>>16,this.CommonArray[e++]=(65280&t)>>8,this.CommonArray[e++]=255&t;for(var n=h.charToUint8Arr(this.uuid),i=0;i<t;i++)this.CommonArray[e++]=n[i]}},{key:"create",value:function(e,t){for(var n=new Uint8Array(this.CommonArray.length+t),i=0;i<this.CommonArray.length;i++)n[i]=this.CommonArray[i];return n[0]=e,n}},{key:"getUUID",value:function(){return this.uuid}}])&&s(t.prototype,n),i&&s(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();C.webSendBuffer=function(e,t){return new Promise((function(n,i){g.Promise.try2((function(){C.serverCast?C.serverCast.sendBuffer(JSON.stringify(e),t).then((function(e){console.crlog("[CALLSVR] webSendBuffer result "+e),n(JSON.parse(e))})).exception((function(e){console.crlog("[CALLSVR] ex = "+e),i(d[e.error])})):(console.crlog("[CALLSVR] not login"),i(d.CALL_ERR_ICEPRXNULL))})).exception((function(e){console.crlog(e.toString()),g.Promise.try((function(){B(!0)}))}))}))},C.webSendcmd=function(e,t){var n={GetServiceData:{callback:function(e){var t=h.clone(e);return t._quesLength=t.ques.length,t.ques="****",t}}}[e.cmd];console.crlog('[CALLSVR] SendCMD  "'.concat(e.cmd,'" data:\n').concat(JSON.stringify(h.privacyAttrHide(e)))),g.Promise.try2((function(){C.serverCast?C.serverCast.sendCmd(JSON.stringify(e)).then((function(i){var r=e.cmd,o=JSON.parse(i);n&&n.callback?console.crlog('[CALLSVR] SendCMD "'.concat(e.cmd,'" RespCallback：').concat(JSON.stringify(n.callback(o)))):console.crlog('[CALLSVR] SendCMD "'.concat(e.cmd,'" RespCallback：').concat(JSON.stringify(o))),k[r](o,e,t)})).exception((function(t){console.crlog("[CALLSVR] SendCMD Fail,cmd: ".concat(e.cmd)),console.crlog(t)})):console.crlog("[CALLSVR] not login")})).exception((function(e){console.crlog(e.toString()),g.Promise.try((function(){B(!0)}))}))};C.ajax=function(e){var t=e.url,n=e.type||"get",i=e.data,r=e.success,o=e.error,c=e.complete,s=e.dataType,a=e.header;wx.request({url:t,data:i,method:n,header:a,dataType:s,success:function(e){404!=e.statusCode?r&&r(e.data,e.statusCode):o&&o(e)},fail:function(e){var t;console.crlog("[CALLSVR] AJAX Fail DESC: ".concat(e.errMsg)),e.errMsg.indexOf("request:fail url not in domain list")>-1?t=u.CRVideo_REQUEST_FAIL_NOTLIST:e.errMsg.indexOf("request:fail timeout")>-1||e.errMsg.indexOf("request:fail socket time out")>-1?t=u.CRVideo_SOCKETTIMEOUT:"request:fail "===e.errMsg?t=u.CRVideo_CREATE_CONN_FAILED:e.errMsg.indexOf("request:fail")>-1&&(t=u.CRVideo_NOSERVER_RSP),o&&o(t||u.CRVideo_UNKNOWERR)},complete:function(e){c&&c(e)}})};var m,S,E=new h.NewCallBack("CRVideo_SendCmdRlst"),R=new h.NewCallBack("CRVideo_SendBufferRslt"),b=new h.NewCallBack("CRVideo_SendProgress"),w=new h.NewCallBack("CRVideo_LoginSuccess"),x=new h.NewCallBack("CRVideo_LoginFail"),P=new h.NewCallBack("CRVideo_LogoutSuccess"),O=new h.NewCallBack("CRVideo_LogoutFail"),D=new h.NewCallBack("CRVideo_LineOff"),M=new h.NewCallBack("CRVideo_NotifyCmdData"),N=new h.NewCallBack("CRVideo_NotifyBufferData"),A=new h.NewCallBack("CRVideo_NotifyTokenWillExpire"),T={data:{},receive:function(e,t){var n=0,i=t[n++],r=t[n++]<<24|t[n++]<<16|t[n++]<<8|t[n++],o=h.Uint8ArrToChar(t.slice(n,n+=r));if(0===i){var c=t[n++]<<24|t[n++]<<16|t[n++]<<8|t[n++],s=h.Uint8ArrToChar(t.slice(n,n+=c)),a=t[n++]<<24|t[n++]<<16|t[n++]<<8|t[n++];this.data[o]={type:i,fileName:s,dataSize:a,dataBurst:[]}}else if(1===i){var l=t[n++]<<24|t[n++]<<16|t[n++]<<8|t[n++],u=t[n++]<<24|t[n++]<<16|t[n++]<<8|t[n++],d=Array.prototype.concat.apply([],t.slice(n,u+n));this.data[o].type=i,this.data[o].dataBurst.push({start:l,length:u,data:d})}else if(2===i){var f=this.data[o].dataBurst;f.sort((function(e,t){return e.start-t.start}));for(var p=0,_=[],C=0;C<f.length;C++)p+=f[C].length,_=_.concat(f[C].data);if(_=h.Uint8ArrToChar(_),p===this.data[o].dataSize)try{N.callback(e.sourceUserId,_)}catch(e){console.error(e)}}}},k={Login:function(e,t,n){0==e.RspCode?(console.crlog("[CALLSVR] CallServer login success!"),C.sessionID=e.sessionID,_.callServerConnectting=!0,h.SDK_event.emitEventListener("callserverLoginSuccess",e),w.callback(e.userID,n)):(B(!0),console.crlog("[CALLSVR] CallServer login fail!"),x.callback(e.RspCode,e.RspDesc,n))},StartStatusPush:function(e,t,n){CRVideo_StartUserStatusNotifyRslt.callback(e.RspCode,n||"")},StopStatusPush:function(e,t,n){CRVideo_StopUserStatusNotifyRslt.callback(e.RspCode,n||"")},ClientCancelInvite:function(e,t,n){CRVideo_CancelCallMorePartyRslt.callback(t.inviteID,e.RspCode,n||"")},Logout:function(e,t){0==e.RspCode?(console.crlog("[CALLSVR] CallServer logout success!"),P.callback()):(console.crlog("[CALLSVR] CallServer logout fail!"),O.callback(e.RspCode,e.RspCode,cookie||""))}},L=new(g.Class(y.Cmd,{sendCmd_async:function(e,t,n){e.ice_response(JSON.stringify({rspCode:0,rspDesc:"ok"}));var i=JSON.parse(t),r=i.cmd;i.module;null!=r&&(console.crlog('[CALLSVR] ReceivedCMD: "'+r+'" '+JSON.stringify(h.privacyAttrHide(i))),U[r](i))},sendBuffer_async:function(e,t,n,i){e.ice_response(JSON.stringify({rspCode:0,rspDesc:"ok"}));var r=JSON.parse(t);if(console.crlog("[CALLSVR] sendBuffer received callback :"+JSON.stringify(h.privacyAttrHide(r))),"SendCMD"==r.cmd){var o=h.Uint8ArrToChar(n);console.crlog("[CALLSVR] received sendBuffer sourceUserId:".concat(r.sourceUserId)),M.callback(r.sourceUserId,o)}else"SendBuffer"==r.cmd&&T.receive(r,n)}})),U={NotifyQueueStatus:function(e){h.SDK_event.emitEventListener("NotifyQueueStatus",e)},NotifyPosition:function(e){h.SDK_event.emitEventListener("NotifyPosition",e)},AssignUser:function(e){h.SDK_event.emitEventListener("AssignUser",e)},AssignCancel:function(e){h.SDK_event.emitEventListener("AssignCancel",e)},ServerAccept:function(e){h.SDK_event.emitEventListener("ServerAccept",e)},ServerCall:function(e){h.SDK_event.emitEventListener("ServerCall",e)},ServerPushUserStatus:function(e){CRVideo_NotifyUserStatus.callback(e.usersStatus,"")},ServerDecline:function(e){h.SDK_event.emitEventListener("ServerDecline",e)},ServerKickoutUser:function(){B(!0),D.trigger(u.CRVideo_CRVideoSDK_USER_BEEN_KICKOUT)},ServerReleaseCall:function(e){h.SDK_event.emitEventListener("ServerReleaseCall",e)},ServerCancelCall:function(e){h.SDK_event.emitEventListener("ServerReleaseCall",e)},ServerNotifyInvite:function(e){CRVideo_NotifyCallMorePartyStatus.callback(e.inviteID,e.callProgress)},ServerMultiCall:function(){console.crlog("[CALLSVR] ========= ServerMultiCall ==========")},invite:function(e){h.SDK_event.emitEventListener("invite",e)},cancelInvite:function(e){h.SDK_event.emitEventListener("cancelInvite",e)},rejectInvite:function(e){h.SDK_event.emitEventListener("rejectInvite",e)},acceptInvite:function(e){h.SDK_event.emitEventListener("acceptInvite",e)},inviteResult:function(e){h.SDK_event.emitEventListener("inviteResult",e)}},V=function(e){return new Promise((function(t,n){e.ice.createObjectAdapter("").then((function(n){n.add(L,g.stringToIdentity("jclient"));var i=C.serverCast.ice_getCachedConnection();null!=i?(i.activate(),e.adapter=n,i.setAdapter(n),t()):console.crlog("[CALLSVR] connection is null")})).exception((function(e){n()}))}))},F=function(e,t,n){var i=p.server.getServerAddr()+f.GetServerInfo,o=r({ClientVer:"",Language:"",MgrSDKVer:(new Date).toLocaleString(),OEMKey:_.OEMKey,PRODUCT:"wxmini",RequestId:g.generateUUID()},e);console.crlog("[CALLSVR] WebAPI request url: "+i+" ,data: "+JSON.stringify(h.privacyAttrHide(o))),C.ajax({url:i,type:"POST",data:o,success:function(i){if(console.crlog("[CALLSVR] webAPI GetCallServerInfoCallBack result: "+JSON.stringify(h.privacyAttrHide(i))),0==i.RspCode)C.LoginOAuth=e,C.callServerOAuth=t,C.OAuthUserId=i.Data.userId,i.TokenTime&&j(i.TokenTime),H(i,n);else{var r=u[i.RspCode]||u.CRVideo_UNKNOWERR;x.callback(r,n)}},error:function(e){console.crlog('"[CALLSVR] webAPI GetCallServerInfoCallBack Fail Code: '.concat(e)),x.callback(e,n)}}),C.requestID=o.RequestId},j=(h.SDK_event.addEventListener("Logout",(function(){clearTimeout(m),clearTimeout(S)})),function(e){console.crlog("[CALLSVR] webAPI Token Expire Time: "+e),clearTimeout(m),clearTimeout(S);var t=e>30?1e3*(e-30):0;if(t>2147483647)return console.crlog("[CALLSVR] token time overflow");function n(){console.crlog("!!!token Expire!!!"),h.SDK_event.emitEventListener("tokenExpire"),B(!0),D.trigger(u.CRVIDEOSDK_TOKEN_TIMEOUT)}m=setTimeout((function(){S=setTimeout(n,1e3*(t>30?30:e)),A.callback()}),t)}),B=function(e){h.SDK_event.emitEventListener("callserverLogout"),C.LoginOAuth=null,C.callServerOAuth=null,C.OAuthUserId=null,C.sessionID=null,_.callServerConnectting=!1,e&&_.allIceData.callserver&&(_.allIceData.callserver.destroy(),_.allIceData.callserver=null)};h.SDK_event.addEventListener("callserverShakeHandFail",(function(){B(!0),D.trigger(u.CRVideo_SOCKETTIMEOUT)}));var H=function(e,t){if(console.crlog("[CALLSVR] getCallServerInfoSuccess..."),_.printDeviceInfo(),e.uploadUrl){var n,i=_.deviceInfo&&_.deviceInfo.model,o=C.LoginOAuth,c=o.Token,s=o.UserName;if(c){var a=h.base64.decode(c.split(".")[1]).replace(/\0/g,"");n=JSON.parse(a).appID}else n=s;h.SDK_event.emitEventListener("LogUpload",{url:e.uploadUrl,fileName:"".concat(n,"/").concat(C.LoginParam.user_id,"_").concat(I,"_WXSDK_").concat(i.replace(/\W/g,"_"),".log")})}if(p.useCallSer){var l,d=e.callSvrList.indexOf(";")>-1?e.callSvrList.split(";")[0]:e.callSvrList,f=h.parseUrl("://".concat(d)),v=f.host.split(":"),m=function(e,t,n){var i=new g.InitializationData;i.properties=g.createProperties(),i.properties.setProperty("Ice.Trace.Network","0"),i.properties.setProperty("Ice.Trace.Protocol","0"),i.properties.setProperty("Ice.ACM.Client","0"),i.properties.setProperty("Ice.ACM.Server","0"),i.properties.setProperty("Ice.Default.EncodingVersion","1.0");var r=g.initialize(i),o="jserver:".concat(p.server.getWebSocketProtocol()," -r ").concat(n," -h ").concat(e," -p ").concat(t||p.server.getDefaultPort()," -t ").concat(p.IceTimeOut),c=r.stringToProxy(o);return console.crlog("[CALLSVR] Init ice: "+o),{ice:r,proxy:c,link:"".concat(p.server.getWebSocketProtocol(),"://").concat(e,":").concat(t).concat(n),destroy:function(){r&&(console.crlog("[CALLSVR] CallServer destroy connection..."),r.destroy(),r=null)}}}(v[0],v[1],f.path);_.allIceData.callserver=m,console.crlog("[CALLSVR] CallServer connecting..."),(l=m,new Promise((function(e,t){function n(e){g.Promise.try2(l.destroy).finally2((function(){t(e)}))}g.Promise.try2((function(){y.CmdPrx.checkedCast(l.proxy).then((function(n){C.serverCast=n,V(l).then((function(){e()})).catch((function(e){t()}))})).exception(n)})).exception(n)}))).then((function(){console.crlog("[CALLSVR] CallServer logging...");var e=r(r({OEMKey:_.OEMKey,SDKVersion:p.sdkver,cmd:"Login"},C.callServerOAuth),{},{deviceType:"",language:"",module:"CallServer",userID:C.LoginParam.user_id,userName:C.LoginParam.nick_name});C.webSendcmd(e,t)})).catch((function(e){console.crlog("[CALLSVR] CallServer connecting Fail: \n".concat(e)),B(!0);var t=1;try{e.ice_cause.errMsg&&(t=u.WXErrorToCode(e&&e.ice_cause&&e.ice_cause.errMsg))}catch(e){t=1}x.callback(t)}))}else w.callback(C.LoginParam.user_id,t)};h.SDK_event.addEventListener("CallServerShakeHandSuccess",(function(){_.allIceData.callserver&&C.serverCast.ice_getCachedConnection().setAdapter(_.allIceData.callserver.adapter)}));e.exports={CRVideo:C,CRVideo_Login:function(e,t,n,i,r,o){if(console.crlog("[CALLSVR] Login Start...".concat(JSON.stringify({account:e,UID:i}))),!_.init)return console.crlog("[Error] Please initialize first"),void x.callback(u.CRVideo_UNKNOWERR,o);C.LoginParam={account:e,psw:t,nick_name:n,user_id:i,cookie:o},F({UserName:e,UserPswd:t,CustomPswd:r},{crAcnt:e,crPswd:t},o)},CRVideo_LoginByToken:function(e,t,n,i,r){if(console.crlog("[CALLSVR] LoginByToken Start...".concat(JSON.stringify({UID:n}))),!_.init)return console.crlog("[Error] Please initialize first"),void x.callback(u.CRVideo_UNKNOWERR,r);var o;try{var c=e.split(".")[1],s=h.base64.decode(c).replace(/\0/g,"");o=JSON.parse(s)}catch(e){return console.crlog("token本地解析失败"),console.crlog(e),void x.callback(u.CRVIDEOSDK_TOKEN_AUTHINFOERR,r)}C.LoginParam={account:o.appID,nick_name:t,user_id:n,cookie:r},F({Token:e,CustomPswd:i},{crToken:e},r)},CRVideo_UpdateToken:function(e){var t=p.server.getServerAddr()+f.HandToken,n={ClientVer:"",Language:"",MgrSDKVer:(new Date).toLocaleString(),OEMKey:_.OEMKey,PRODUCT:"wxmini",RequestId:g.generateUUID(),Token:e};console.crlog("[CALLSVR] WebAPI UpdateToken ,data: ".concat(JSON.stringify(h.privacyAttrHide(n)))),C.ajax({url:t,type:"POST",data:n,success:function(t){console.crlog("[CALLSVR] webAPI UpdateToken result: "+JSON.stringify(t)),0==t.RspCode&&(t.TokenTime&&j(t.TokenTime),C.LoginOAuth={Token:e},C.callServerOAuth={crToken:e})},error:function(e){console.crlog("[CALLSVR] WebAPI UpdateToken Fail,code: ".concat(e))}})},CRVideo_Logout:function(){console.crlog("[CALLSVR] Logout begin...");var e={cmd:"Logout",module:"CallServer",sessionID:C.sessionID};C.webSendcmd(e),C.CallID="",B(!0),h.SDK_event.emitEventListener("Logout")},CRVideo_StartUserStatusNotify:function(){var e={cmd:"StartStatusPush",module:"CallServer",sessionID:C.sessionID};C.webSendcmd(e)},CRVideo_StopUserStatusNotify:function(){var e={cmd:"StopStatusPush",module:"CallServer",sessionID:C.sessionID};C.webSendcmd(e)},CRVideo_SendCmd:function(e,t){var n=g.generateUUID(),i={cmd:"SendCMD",module:"CallServer",sessionID:C.sessionID,sourceUserId:C.LoginParam.user_id||"",targetUserId:e};console.crlog("[CALLSVR] CRVideo_SendCmd send UUID: ".concat(n));var r=h.charToUint8Arr(t.toString());return C.webSendBuffer(i,r).then((function(e){console.crlog("[CALLSVR] CRVideo_SendCmd Callback UUID: ".concat(n,", success")),E.callback(n,void 0===e.RspCode?e.rspCode:e.RspCode)})).catch((function(e){console.crlog("[CALLSVR] CRVideo_SendCmd Callback UUID: ".concat(n,", fail: ").concat(e)),E.callback(n,e||1)})),n},CRVideo_SendBuffer:function(e,t,n){var i=h.charToUint8Arr(t),r=h.splitCutArr(i,102400),o=i.length,c=new v,s=c.create(0,8),a=c.getUUID(),l=s.length-8;s[l++]=s[l++]=s[l++]=s[l++]=0,s[l++]=(4278190080&o)>>24,s[l++]=(16711680&o)>>16,s[l++]=(65280&o)>>8,s[l++]=255&o;var u={cmd:"SendBuffer",module:"CallServer",sessionID:C.sessionID,sourceUserId:C.LoginParam.user_id||"",targetUserId:e};function d(){R.callback(a,1,n)}return C.webSendBuffer(u,s).then((function(e){if(0!==e.RspCode)return console.crlog("对端响应错误"),void d();var t=0;function o(){var e=r.shift();if(e)!function(e,t){var s=102400*e,l=r.length?102400:i.length%102400,h=c.create(1,l+8),f=h.length-(l+8);h[f++]=(4278190080&s)>>24,h[f++]=(16711680&s)>>16,h[f++]=(65280&s)>>8,h[f++]=255&s,h[f++]=(4278190080&l)>>24,h[f++]=(16711680&l)>>16,h[f++]=(65280&l)>>8,h[f++]=255&l;for(var p=0;p<t.length;p++)h[f++]=t[p];b.callback(a,s,i.length,n),C.webSendBuffer(u,h).then(o).catch(d)}(t,e),t++;else{var s=c.create(2,0);C.webSendBuffer(u,s).then((function(){R.callback(a,0,n)})).catch(d)}}o()})).catch(d),console.crlog("[CALLSVR] CRVideo_SendBuffer finished： "+JSON.stringify(u)),a},CRVideo_SendCmdRlst:E,CRVideo_SendBufferRslt:R,CRVideo_SendProgress:b,CRVideo_LoginSuccess:w,CRVideo_LoginFail:x,CRVideo_LogoutSuccess:P,CRVideo_LogoutFail:O,CRVideo_LineOff:D,CRVideo_NotifyCmdData:M,CRVideo_NotifyBufferData:N,CRVideo_NotifyTokenWillExpire:A,callserverSendCmd:function(e){return new Promise((function(t,n){g.Promise.try2((function(){if(C.serverCast){var i=JSON.stringify(Object.assign(e,{sessionID:C.sessionID}));C.serverCast.sendCmd(i).then((function(e){t(JSON.parse(e))})).exception((function(t){if(console.crlog("[CALLSVR] SendCMD Fail,cmd: ".concat(e.cmd)),console.crlog(t),t&&3===t.error)return B(!0),void D.trigger(u.CRVideo_LOGINSTATE_ERROR);n(t)}))}else console.crlog("[CALLSVR] not login"),n("[CALLSVR] not login")})).exception((function(e){console.crlog(e.toString()),n("[Error] Callserver connect Fail, ".concat(e.toString())),g.Promise.try((function(){B(!0)}))}))}))}}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports={GetServerInfo:"/servlet/getJsCallServerInfo",CreateMeeting:"/servlet/ClientCreateNetMeet",EnterMeeting:"/servlet/joinMeetingAPI",EnterMeeting2:"/crapi/joinConfWithAuth",GetAccKey1:"/servlet/getWebrtcAccKey",GetAccKey2:"/crapi/GetClientAccessRTCKeyWithAuth",DestroyMeeting:"/api/servlet/closeConf",HandToken:"/servlet/HandToken",ArrangeConfAPI:"/servlet/ArrangeConfAPI"}},function(e,t,n){(function(t){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,c=void 0,c=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===i(c)?c:String(c)),r)}var o,c}var o,c,s,a,l,u=n(2),d=n(1),h=n(5),f=d.Zlib,p=u.Cr,_=u.Ice,C=u.Ice.LogSpace,g=C.ClientLogServerPrx,y=u.CRVideo;function I(e){e!=o&&(o=e,w(e))}function v(){E()}function m(){c&&(clearTimeout(a),R())}var S=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=0,this.logFilename="sdkDebug.log",this.output=""}var t,n,o;return t=e,(n=[{key:"getLog",value:function(){return this.output}},{key:"clear",value:function(){this.output=""}},{key:"addBeforeLog",value:function(e){this.output=e+this.output}},{key:"log",value:function(e,t,n){var r="";if(t=t||"INF",null!=e)if("object"==("undefined"==typeof object?"undefined":i(object)))var o=JSON.stringify(e);else o=e;var c=new Date;r+=this.formatTimestamp(c),r+="["+t+"] ",r+=o,this.output+=r+"\n",(this.output.length/1024).toFixed(2)>500&&(console.log("日志大于1M,请查后台日志是否大于1M"),R())}},{key:"formatTimestamp",value:function(e){var t=e.getFullYear(),n=e.getDate();return"["+t+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+n+" "+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2)+"."+("00"+e.getMilliseconds()).slice(-3)+"] "}}])&&r(t.prototype,n),o&&r(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}()),E=function e(){s&&R(),clearTimeout(a),a=setTimeout(e,1e4)};d.SDK_event.addEventListener("LogUpload",(function(e){c&&(l=e.fileName,console.log("[DEBUG] fileName: ".concat(l)),I(e.url),v())})).addEventListener("Logout",(function(){m(),o=null,x()}));var R=function(){var e=S.getLog();if(S.clear(),""!=e){var t=d.charToUint8Arr(e),n=new f.Deflate(t).compress();D(0,l,n).catch((function(t){console.crlog("[Error] log upload error!"),S.addBeforeLog(e)}))}},b={},w=function(e){x();var t=e.split(";")[0]?e.split(";")[0]:e.split(";")[1],n=p.Utils.parse_url("https://"+t);if(n){var i,r="Log.ClientLogServer:".concat(h.server.getWebSocketProtocol());n.path&&(r+=" -r "+n.path),n.host&&(r+=" -h "+n.host),h.IceTimeOut&&(r+=" -t "+h.IceTimeOut),n.port?r+=" -p "+n.port:r+=" -p 443",console.crlog("[DEBUG] logserver: "+r),b.Log=((i=new _.InitializationData).properties=_.createProperties(),i.properties.setProperty("Ice.Trace.Network","0"),i.properties.setProperty("Ice.Trace.Protocol","0"),i.properties.setProperty("Ice.ACM.Client","0"),i.properties.setProperty("Ice.ACM.Server","0"),i.properties.setProperty("Ice.Default.EncodingVersion","1.0"),_.initialize(i)),y.logproxy=b.Log.stringToProxy(r),O(),y.logIceConnect=b.Log}else console.error("[DEBUG] error: ClientLogServer parseUrl")},x=function(){b.Log&&b.Log.destroy&&(console.crlog("[DEBUG] Websockt destroy Log connect..."),b.Log.destroy(),y.logproxy=null)},P=_.Class(C.ClientLogServer,{log:function(e){console.crlog("[DEBUG] log:"+e)},logFatal:function(e){console.crlog("[DEBUG] logFatal:"+e)},usrReport:function(e){console.crlog("[DEBUG] usrReport:"+e)},logDetail:function(e){console.crlog("[DEBUG] logDetail:"+e)}}),O=function(){function e(e){s=!1,console.crlog("[DEBUG] websocket connect Fail, desc: "+e.toString()),x()}_.Promise.try2((function(){y.ServerLogger=C.ClientLogServerPrx.checkedCast(y.logproxy).then((function(t){y.logIceConnect.createObjectAdapter("").then((function(e){e.add(new P,_.stringToIdentity("jclient"));y.logproxy.ice_getCachedConnection().setAdapter(e),s=!0})).exception(e)})).exception(e)})).exception(e)},D=function(e,n,i){return new Promise((function(r,o){_.Promise.try2((function(){g.checkedCast(y.logproxy).then((function(t){t&&t.logDetail(e,n,i).then((function(e){r()}))})).exception((function(e){console.crlog("[DEBUG] !!! log checkedCast fail. is: "+e),o()}))})).exception((function(e){console.crlog("[DEBUG] There are several reasons for websocket errors: "+e.toString()),_.Promise.try((function(){x(),o()})).finally((function(){t.exit(1)}))}))}))};console.crlog=(c=!0,function(e,t,n){S.log(e,t,n),console.log(e)});e.exports={EnableLog2File:function(e,t){clearTimeout(a),c=!!e,console.crlog=function(n,i,r){e&&S.log(n,i,r),t&&console.log(n)},console.log("[LOG] Enable upload log: "+e),console.log("[LOG] Enable console log debug: "+t)},notifyUploadUrl:I,startUpload:v,stopUpload:m}}).call(this,n(10))},function(e,t){var n,i,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:c}catch(e){i=c}}();var a,l=[],u=!1,d=-1;function h(){u&&a&&(u=!1,a.length?l=a.concat(l):d=-1,l.length&&f())}function f(){if(!u){var e=s(h);u=!0;for(var t=l.length;t;){for(a=l,l=[];++d<t;)a&&a[d].run();d=-1,t=l.length}a=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===c||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function _(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||u||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=_,r.addListener=_,r.once=_,r.off=_,r.removeListener=_,r.removeAllListeners=_,r.emit=_,r.prependListener=_,r.prependOnceListener=_,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t){e.exports=function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=4)}([function(e,t){var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=n},function(e,t,n){!function(){var t=n(2),i=n(0).utf8,r=n(3),o=n(0).bin,c=function e(n,c){n.constructor==String?n=c&&"binary"===c.encoding?o.stringToBytes(n):i.stringToBytes(n):r(n)?n=Array.prototype.slice.call(n,0):Array.isArray(n)||n.constructor===Uint8Array||(n=n.toString());for(var s=t.bytesToWords(n),a=8*n.length,l=1732584193,u=-271733879,d=-1732584194,h=271733878,f=0;f<s.length;f++)s[f]=16711935&(s[f]<<8|s[f]>>>24)|4278255360&(s[f]<<24|s[f]>>>8);s[a>>>5]|=128<<a%32,s[14+(a+64>>>9<<4)]=a;var p=e._ff,_=e._gg,C=e._hh,g=e._ii;for(f=0;f<s.length;f+=16){var y=l,I=u,v=d,m=h;l=p(l,u,d,h,s[f+0],7,-680876936),h=p(h,l,u,d,s[f+1],12,-389564586),d=p(d,h,l,u,s[f+2],17,606105819),u=p(u,d,h,l,s[f+3],22,-1044525330),l=p(l,u,d,h,s[f+4],7,-176418897),h=p(h,l,u,d,s[f+5],12,1200080426),d=p(d,h,l,u,s[f+6],17,-1473231341),u=p(u,d,h,l,s[f+7],22,-45705983),l=p(l,u,d,h,s[f+8],7,1770035416),h=p(h,l,u,d,s[f+9],12,-1958414417),d=p(d,h,l,u,s[f+10],17,-42063),u=p(u,d,h,l,s[f+11],22,-1990404162),l=p(l,u,d,h,s[f+12],7,1804603682),h=p(h,l,u,d,s[f+13],12,-40341101),d=p(d,h,l,u,s[f+14],17,-1502002290),l=_(l,u=p(u,d,h,l,s[f+15],22,1236535329),d,h,s[f+1],5,-165796510),h=_(h,l,u,d,s[f+6],9,-1069501632),d=_(d,h,l,u,s[f+11],14,643717713),u=_(u,d,h,l,s[f+0],20,-373897302),l=_(l,u,d,h,s[f+5],5,-701558691),h=_(h,l,u,d,s[f+10],9,38016083),d=_(d,h,l,u,s[f+15],14,-660478335),u=_(u,d,h,l,s[f+4],20,-405537848),l=_(l,u,d,h,s[f+9],5,568446438),h=_(h,l,u,d,s[f+14],9,-1019803690),d=_(d,h,l,u,s[f+3],14,-187363961),u=_(u,d,h,l,s[f+8],20,1163531501),l=_(l,u,d,h,s[f+13],5,-1444681467),h=_(h,l,u,d,s[f+2],9,-51403784),d=_(d,h,l,u,s[f+7],14,1735328473),l=C(l,u=_(u,d,h,l,s[f+12],20,-1926607734),d,h,s[f+5],4,-378558),h=C(h,l,u,d,s[f+8],11,-2022574463),d=C(d,h,l,u,s[f+11],16,1839030562),u=C(u,d,h,l,s[f+14],23,-35309556),l=C(l,u,d,h,s[f+1],4,-1530992060),h=C(h,l,u,d,s[f+4],11,1272893353),d=C(d,h,l,u,s[f+7],16,-155497632),u=C(u,d,h,l,s[f+10],23,-1094730640),l=C(l,u,d,h,s[f+13],4,681279174),h=C(h,l,u,d,s[f+0],11,-358537222),d=C(d,h,l,u,s[f+3],16,-722521979),u=C(u,d,h,l,s[f+6],23,76029189),l=C(l,u,d,h,s[f+9],4,-640364487),h=C(h,l,u,d,s[f+12],11,-421815835),d=C(d,h,l,u,s[f+15],16,530742520),l=g(l,u=C(u,d,h,l,s[f+2],23,-995338651),d,h,s[f+0],6,-198630844),h=g(h,l,u,d,s[f+7],10,1126891415),d=g(d,h,l,u,s[f+14],15,-1416354905),u=g(u,d,h,l,s[f+5],21,-57434055),l=g(l,u,d,h,s[f+12],6,1700485571),h=g(h,l,u,d,s[f+3],10,-1894986606),d=g(d,h,l,u,s[f+10],15,-1051523),u=g(u,d,h,l,s[f+1],21,-2054922799),l=g(l,u,d,h,s[f+8],6,1873313359),h=g(h,l,u,d,s[f+15],10,-30611744),d=g(d,h,l,u,s[f+6],15,-1560198380),u=g(u,d,h,l,s[f+13],21,1309151649),l=g(l,u,d,h,s[f+4],6,-145523070),h=g(h,l,u,d,s[f+11],10,-1120210379),d=g(d,h,l,u,s[f+2],15,718787259),u=g(u,d,h,l,s[f+9],21,-343485551),l=l+y>>>0,u=u+I>>>0,d=d+v>>>0,h=h+m>>>0}return t.endian([l,u,d,h])};c._ff=function(e,t,n,i,r,o,c){var s=e+(t&n|~t&i)+(r>>>0)+c;return(s<<o|s>>>32-o)+t},c._gg=function(e,t,n,i,r,o,c){var s=e+(t&i|n&~i)+(r>>>0)+c;return(s<<o|s>>>32-o)+t},c._hh=function(e,t,n,i,r,o,c){var s=e+(t^n^i)+(r>>>0)+c;return(s<<o|s>>>32-o)+t},c._ii=function(e,t,n,i,r,o,c){var s=e+(n^(t|~i))+(r>>>0)+c;return(s<<o|s>>>32-o)+t},c._blocksize=16,c._digestsize=16,e.exports=function(e,n){if(null==e)throw new Error("Illegal argument "+e);var i=t.wordsToBytes(c(e,n));return n&&n.asBytes?i:n&&n.asString?o.bytesToString(i):t.bytesToHex(i)}}()},function(e,t){!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,i=0;n<e.length;n++,i+=8)t[i>>>5]|=e[n]<<24-i%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],i=0;i<e.length;i+=3)for(var r=e[i]<<16|e[i+1]<<8|e[i+2],o=0;o<4;o++)8*i+6*o<=8*e.length?n.push(t.charAt(r>>>6*(3-o)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],i=0,r=0;i<e.length;r=++i%4)0!=r&&n.push((t.indexOf(e.charAt(i-1))&Math.pow(2,-2*r+8)-1)<<2*r|t.indexOf(e.charAt(i))>>>6-2*r);return n}};e.exports=n}()},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
    * Determine if an object is a Buffer
    *
    * @author   Feross Aboukhadijeh <https://feross.org>
    * @license  MIT
    */
e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){e.exports=n(1)}])},function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,s(i.key),i)}}function s(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}var a=n(1),l={},u=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.baseStoageUrl="".concat(wx.env.USER_DATA_PATH,"/CRSDK"),this.whiteBoardFlag="whiteBoard",this.fileSystemManager=wx.getFileSystemManager()}var t,n,i;return t=e,(n=[{key:"init",value:function(){this.storageInit()}},{key:"unInit",value:function(){this.storageUnInit()}},{key:"reset",value:function(){}},{key:"userInterfaceExports",value:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({CreateDir:this.CreateDir.bind(this),WriteFile:this.WriteFile.bind(this),RemoveDir:this.RemoveDir.bind(this)},l)}},{key:"storageInit",value:function(){var e="".concat(this.baseStoageUrl,"/").concat(this.whiteBoardFlag);try{this.fileSystemManager.accessSync(e),this.fileSystemManager.rmdirSync(e,!0),this.fileSystemManager.mkdirSync(e,!0),console.crlog("[FileManager] storageInit success")}catch(t){if(t.toString().indexOf("fail no such file or directory")>-1)return console.crlog("[FileManager] storageInit success"),void this.fileSystemManager.mkdirSync(e,!0);console.log(t)}}},{key:"storageUnInit",value:function(){}},{key:"CreateDir",value:function(e){var t="".concat(this.baseStoageUrl,"/").concat(this.whiteBoardFlag,"/").concat(e);try{return this.fileSystemManager.mkdirSync(t,!0),t}catch(e){var n=e.toString();return!(n.indexOf("fail permission denied")>-1)&&(n.indexOf("fail file already exists")>-1?t:(console.crlog("[FileManager] create dir Fail: ".concat(n)),!1))}}},{key:"WriteFile",value:function(e){var t=e.fileName,n=e.buffer,i=e.dir;try{this.fileSystemManager.accessSync(i);var r="".concat(i,"/").concat(t);return this.fileSystemManager.writeFileSync(r,n,"binary"),r}catch(e){var o=e.toString();return o.indexOf("fail no such file or directory")>-1||console.crlog("[FileManager] write file Fail: ".concat(o)),!1}}},{key:"RemoveDir",value:function(e){try{return this.fileSystemManager.rmdirSync(e,!0),console.crlog("[FileManager] remove dir Success: ".concat(e)),!0}catch(e){var t=e.toString();return!(t.indexOf("fail permission denied")>-1||(console.crlog("[FileManager] remove dir Fail: ".concat(t)),0))}}}])&&c(t.prototype,n),i&&c(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}());a.SDK_event.addEventListener("SDKInit",(function(){u.init()})).addEventListener("SDKUnInit",(function(){u.unInit()})),e.exports={InterfaceExports:u.userInterfaceExports()}},function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n(14),a=n(5),l=n(4),u=n(2),d=(n(19),n(6)),h=n(21),f=n(23),p=n(25),_=n(26),C=n(28),g=n(30),y=n(9),I=n(31),v=n(32),m=n(1),S=n(33),E=n(35),R=n(3),b=n(11),w=(u.CRVideo,o(o(o(o(o(o(o(o(o({sdkver:a.sdkver,systemInfo:l.deviceInfo,Constant:R,MD5:b,base64:m.base64,generateUUID:u.Ice.generateUUID,Publish:m.SDK_event,Debounce:m.debounce,CRVideo:u.CRVideo,NotifyStartMarked:u.CR__NotifyStartMarked,NotifyStopMarked:u.CR__NotifyStopMarked,NotifyMarkData:u.CR__NotifyMarkData,NotifyClearAllMarks:u.CR__NotifyClearAllMarks,EnableLog2File:y.EnableLog2File,Login:d.CRVideo_Login,LoginByToken:d.CRVideo_LoginByToken,UpdateToken:d.CRVideo_UpdateToken,Logout:d.CRVideo_Logout,SetDNDStatus:d.CRVideo_SetDNDStatus,StartUserStatusNotify:d.CRVideo_StartUserStatusNotify,StopUserStatusNotify:d.CRVideo_StopUserStatusNotify,GetUserStatus:d.CRVideo_GetUserStatus,SendCmd:d.CRVideo_SendCmd,SendBuffer:d.CRVideo_SendBuffer,CreateMeeting:I.CRVideo_CreateMeeting,EnterMeeting:I.CRVideo_EnterMeeting,EnterMeeting2:I.CRVideo_EnterMeeting2,ExitMeeting:I.CRVideo_ExitMeeting,Kickout:I.CRVideo_Kickout,StopMeeting:I.CRVideo_StopMeeting,DestroyMeeting:I.CRVideo_DestroyMeeting,GetMainVideo:I.CRVideo_GetMainVideo,SetMainVideo:I.CRVideo_SetMainVideo,GetMemberInfo:I.CRVideo_GetMemberInfo,GetAllMembers:I.CRVideo_GetAllMembers,SendIMMsg:I.CRVideo_SendIMMsg,SendMeetingCustomMsg:I.CRVideo_SendMeetingCustomMsg,CreateVideoPlayerContext:v.CreateVideoPlayerContext,CreateAudioPlayerContext:v.CreateAudioPlayerContext,GetAudioPlayType:v.GetAudioPlayType,CreateVideoPusherContext:v.CreateVideoPusherContext,DestoryVideoPlayerContext:v.DestoryVideoPlayerContext,DestoryAudioPlayerContext:v.DestoryAudioPlayerContext,DestoryVideoPusherContext:v.DestoryVideoPusherContext,UpdateCamDefinition:v.UpdateCamDefinition,OpenVideo:v.CRVideo_OpenVideo,CloseVideo:v.CRVideo_CloseVideo,OpenMic:v.CRVideo_OpenMic,CloseMic:v.CRVideo_CloseMic,SetAllAudioClose:v.CRVideo_SetAllAudioClose,SetDefaultVideo:v.CRVideo_SetDefaultVideo,GetMediaInfo:v.CRVideo_GetMediaInfo,GetScreenInfo:v.CRVideo_GetScreenInfo,GetScreenShareInfo:v.CRVideo_GetScreenShareInfo,GetAllMarkData:v.CRVideo_GetAllMarkData,GetDefaultVideo:v.CRVideo_GetDefaultVideo,GetAllVideoInfo:v.CRVideo_GetAllVideoInfo,GetWatchableVideos:v.CRVideo_GetWatchableVideos,SetBeautifyFace:v.CRVideo_SetBeautifyFace,BroadcastLivePusher:v.CRVideo_BroadcastLivePusher,BroadcastLivePusherNet:v.CRVideo_BroadcastLivePusherNet,BroadcastLivePlayer:v.CRVideo_BroadcastLivePlayer,BroadcastAudioPlayer:v.CRVideo_BroadcastAudioPlayer,VideoRequestFullscreen:v.CRVideo_VideoRequestFullscreen,VideoExitFullscreen:v.CRVideo_VideoExitFullscreen,OpenVideoFailRslt:v.CRVideo_OpenVideoFailRslt,OpenMicFailRslt:v.CRVideo_OpenMicFailRslt,PreventBlackScreen:v.CRVideo_PreventBlackScreen,SendCmdRlst:d.CRVideo_SendCmdRlst,SendBufferRslt:d.CRVideo_SendBufferRslt,SendProgress:d.CRVideo_SendProgress,LoginSuccess:d.CRVideo_LoginSuccess,LoginFail:d.CRVideo_LoginFail,LogoutSuccess:d.CRVideo_LogoutSuccess,LogoutFail:d.CRVideo_LogoutFail,LineOff:d.CRVideo_LineOff,NotifyCmdData:d.CRVideo_NotifyCmdData,NotifyBufferData:d.CRVideo_NotifyBufferData,NotifyTokenWillExpire:d.CRVideo_NotifyTokenWillExpire,CreateMeetingSuccess:I.CRVideo_CreateMeetingSuccess,CreateMeetingFail:I.CRVideo_CreateMeetingFail,EnterMeetingRslt:I.CRVideo_EnterMeetingRslt,SendIMMsgRslt:I.CRVideo_SendIMMsgRslt,UserEnterMeeting:I.CRVideo_UserEnterMeeting,UserLeftMeeting:I.CRVideo_UserLeftMeeting,MeetingDropped:I.CRVideo_MeetingDropped,NotifyIMmsg:I.CRVideo_NotifyIMmsg,StopMeetingRslt:I.CRVideo_StopMeetingRslt,DestroyMeetingRslt:I.CRVideo_DestroyMeetingRslt,MeetingStopped:I.CRVideo_MeetingStopped,GetPhoneMeetInfo:I.CRVideo_GetPhoneMeetInfo,NotifyMainVideoChanged:I.CRVideo_NotifyMainVideoChanged,NotifyMeetingCustomMsg:I.CRVideo_NotifyMeetingCustomMsg,SendMeetingCustomMsgRslt:I.CRVideo_SendMeetingCustomMsgRslt,NotifyVoteDataUpdate:I.CRVideo_NotifyVoteDataUpdate,NotifyVideoWallStatus:I.CRVideo_NotifyVideoWallStatus,NotifyNickNameChanged:I.CRVideo_NotifyNickNameChanged,VideoStatusChanged:v.CRVideo_VideoStatusChanged,VideoDevChanged:v.CRVideo_VideoDevChanged,AudioStatusChanged:v.CRVideo_AudioStatusChanged,MicEnergyUpdate:v.CRVideo_MicEnergyUpdate,NotifyAllAudioClose:v.CRVideo_NotifyAllAudioClose,GetScreenShareInfoRslt:v.CRVideo_GetScreenShareInfoRslt,GetAllMarkDataRslt:v.CRVideo_GetAllMarkDataRslt,NotifyScreenShareStarted:v.CRVideo_NotifyScreenShareStarted,NotifyScreenShareStopped:v.CRVideo_NotifyScreenShareStopped,GetMediaInfoRslt:v.CRVideo_GetMediaInfoRslt,NotifyMediaStart:v.CRVideo_NotifyMediaStart,NotifyMediaPause:v.CRVideo_NotifyMediaPause,NotifyMediaStop:v.CRVideo_NotifyMediaStop,VideoRequestFullscreenRslt:v.CRVideo_VideoRequestFullscreenRslt,VideoExitFullscreenRslt:v.CRVideo_VideoExitFullscreenRslt},s),h.InterfaceExports),f.InterfaceExports),p.InterfaceExports),_.InterfaceExports),C.InterfaceExports),g.InterfaceExports),S.InterfaceExports),E.InterfaceExports));if("undefined"==typeof wx)throw"RTCSDK只能在微信小程序环境中导入";"undefined"!=typeof uni?(console.log("[MainInterface] current env: uniapp"),getApp().globalData.RTCSDK=w):(console.log("[MainInterface] current env: wx"),wx.RTCSDK=w),e.exports=w},function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=n(5),o=n(1),c=n(4);function s(e){console.crlog("[MainInterface] -------appshow------"),o.SDK_event.emitEventListener("appShow",e)}function a(){console.crlog("[MainInterface] -------apphide------"),o.SDK_event.emitEventListener("appHide")}function l(e){console.crlog("[MainInterface] -------内存不足------".concat(JSON.stringify(e)))}function u(e){console.crlog("[Error] ".concat(e))}function d(e){console.crlog("[MainInterface] appNetworkWeakChange: ".concat(JSON.stringify(e)))}function h(e){console.crlog("[MainInterface] NetworkStatusChange: ".concat(JSON.stringify(e)))}var f={Init:function(e){return console.crlog("[MainInterface] verson: ".concat(r.sdkver)),console.crlog("[MainInterface] initConfig: ".concat(o.toString(e))),c.init?(console.crlog("[Warn] Init is Repeated execution"),0):(wx.onMemoryWarning(l),wx.onError(u),wx.onNetworkWeakChange&&wx.onNetworkWeakChange(d),wx.onNetworkStatusChange&&wx.onNetworkStatusChange(h),wx.onAppShow(s),wx.onAppHide(a),"object"===i(e)&&(r.useCallSer=void 0===e.isCallSer?r.useCallSer:e.isCallSer),o.SDK_event.emitEventListener("SDKInit"),c.init=!0,0)},UnInit:function(){return console.crlog("[MainInterface] UnInit"),o.SDK_event.emitEventListener("SDKUnInit"),wx.offMemoryWarning(l),wx.offError(u),wx.offNetworkWeakChange&&wx.offNetworkWeakChange(d),wx.offNetworkStatusChange&&wx.offNetworkStatusChange(h),wx.offAppShow(s),wx.offAppHide(a),c.init=!1,0},SetServerAddr:function(e){console.crlog("[MainInterface] SetServerAddr: ".concat(e)),r.server.setAddr(e)}};e.exports=f},function(e,t,n){(function(e){var i=void 0!==e&&e||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(r.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new o(r.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(16),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(7))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var i,r,o,c,s,a=1,l={},u=!1,d=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?i=function(e){t.nextTick((function(){p(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){p(e.data)},i=function(e){o.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(r=d.documentElement,i=function(e){var t=d.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):i=function(e){setTimeout(p,0,e)}:(c="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(c)&&p(+t.data.slice(c.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),i=function(t){e.postMessage(c+t,"*")}),h.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return l[a]=r,i(a),a++},h.clearImmediate=f}function f(e){delete l[e]}function p(e){if(u)setTimeout(p,0,e);else{var t=l[e];if(t){u=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{f(e),u=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(7),n(10))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var n={key:"CR_HistoryMeetInfo",meetInfo:{},init:function(){this.meetInfo=JSON.parse(this.getStorage()||"{}")},readInfo:function(e){return this.meetInfo[e]||{}},writeInfo:function(e,t){var n=this.meetInfo[e]||{};this.meetInfo[e]=n,n[t.memberType]=t,this.setStorage(JSON.stringify(this.meetInfo))},setStorage:function(e){return wx.setStorageSync(this.key,e)},getStorage:function(){return wx.getStorageSync(this.key)},removeStorage:function(){this.meetInfo={},wx.removeStorageSync(this.key)}};n.init(),e.exports=n},function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,c=void 0,c=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===i(c)?c:String(c)),r)}var o,c}function c(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var s=n(1),a=n(2),l=n(4),u=n(3),d=n(6);s.SDK_event.addEventListener("callserverLoginSuccess",(function(e){p.start()})).addEventListener("callserverLogout",(function(){p.stop()})).addEventListener("appShow",(function(){l.callServerConnectting&&p.start()})).addEventListener("appHide",(function(){p.stop()})).addEventListener("EnterMeetingSuccess",(function(){f.start()})).addEventListener("ClearMeetingData",(function(){f.stop()}));var h=function(){function e(t){r(this,e),this.allowErrorTime=t.allowErrorTime||0,this.shakeTime=t.shakeTime||5e3,this.errorTime=0,this.shakeTimerId=null}return c(e,[{key:"start",value:function(){this.startShakeHand()}},{key:"stop",value:function(){this.stopShakeHand()}},{key:"startShakeHand",value:function(){var e=this,t={cmd:"ShakeHand",module:"CallServer",callID:l.call.getCallId(),timeStamp:Math.round((new Date).getTime()/1e3)},n=new Date;d.callserverSendCmd(t).then((function(t){0===t.RspCode?(e.errorTime=0,console.crlog("[ShakeHand] CallServer Success delay: ".concat(new Date-n,"ms")),s.SDK_event.emitEventListener("CallServerShakeHandSuccess")):console.crlog("[ShakeHand] CallServer "+t.RspCode)})).catch((function(t){console.log(t),e.errorTime>=e.allowErrorTime?(clearTimeout(e.shakeTimerId),s.SDK_event.emitEventListener("callserverShakeHandFail")):(e.errorTime++,console.crlog("[ShakeHand] CallServer Fail,time:".concat(e.errorTime)))})),this.shakeTimerId=setTimeout((function(){e.startShakeHand()}),this.shakeTime)}},{key:"stopShakeHand",value:function(){clearTimeout(this.shakeTimerId),this.shakeTimerId=null}}]),e}(),f=new(function(){function e(t){r(this,e),this.KeepAliveTimer=null,this.KeepAliveShakeTime=t.KeepAliveShakeTime||3e4,this.RefreshSessionTimer=null,this.RefreshSessionShakeTime=t.RefreshSessionShakeTime||1e4,this.registerCallBack()}return c(e,[{key:"registerCallBack",value:function(){var e=this;a.CR__RefreshSessionRslt.callback=function(t){console.crlog("[ShakeHand] Refresh Success delay: ".concat(new Date-e.refreshStartTime,"ms")),t!==u.CRVideo_NOERR&&(console.crlog("[Error] CR__RefreshSessionRslt Callback Fail,errcode: ".concat(t)),s.SDK_event.emitEventListener("MeetingAbnormalDropped",t,"RefreshSessionRslt Fail Code: ".concat(t)))},a.CR__KeepAliveRslt.callback=function(e){e!==u.CRVideo_NOERR&&(console.crlog("[Error] CR__KeepAliveRslt Callback Fail,errcode: ".concat(e)),s.SDK_event.emitEventListener("MeetingAbnormalDropped",e,"KeepAliveRslt Fail Code: ".concat(e)))}}},{key:"start",value:function(){var e=this;this.stop(),this.startTimerId=setTimeout((function(){e.sendKeepAlive(),e.sendRefreshSessionStart()}),500)}},{key:"sendKeepAlive",value:function(){a.CR__KeepAlive(),this.KeepAliveTimer=setTimeout(this.sendKeepAlive.bind(this),this.KeepAliveShakeTime)}},{key:"sendRefreshSessionStart",value:function(){this.refreshStartTime=new Date,a.CR__RefreshSession(),this.RefreshSessionTimer=setTimeout(this.sendRefreshSessionStart.bind(this),this.RefreshSessionShakeTime)}},{key:"stop",value:function(){clearTimeout(this.startTimerId),clearTimeout(this.KeepAliveTimer),clearTimeout(this.RefreshSessionTimer)}}]),e}())({KeepAliveShakeTime:3e4,RefreshSessionShakeTime:1e4}),p=new h({allowErrorTime:5,shakeTime:5e3})},function(e,t){e.exports={12:1102}},function(e,t,n){var i;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,a(i.key),i)}}function s(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}var l=n(1),u=n(22),d=n(6),h=n(2),f=n(4),p=h.Ice,_=(s(i={NotifyCallAccepted:new l.NewCallBack("NotifyCallAccepted"),NotifyCallRejected:new l.NewCallBack("NotifyCallRejected"),NotifyUserStatus:new l.NewCallBack("NotifyUserStatus"),RejectCallSuccess:new l.NewCallBack("RejectCallSuccess"),CallSuccess:new l.NewCallBack("CallSuccess"),CallFail:new l.NewCallBack("CallFail"),HungupCallSuccess:new l.NewCallBack("HungupCallSuccess"),HungupCallFail:new l.NewCallBack("HungupCallFail"),RejectCallFail:new l.NewCallBack("RejectCallFail")},"HungupCallSuccess",new l.NewCallBack("HungupCallSuccess")),s(i,"HungupCallFail",new l.NewCallBack("HungupCallFail")),s(i,"NotifyCallHungup",new l.NewCallBack("NotifyCallHungup")),s(i,"NotifyCallIn",new l.NewCallBack("NotifyCallIn")),s(i,"AcceptCallFail",new l.NewCallBack("AcceptCallFail")),s(i,"AcceptCallSuccess",new l.NewCallBack("AcceptCallSuccess")),s(i,"RejectCallSuccess",new l.NewCallBack("RejectCallSuccess")),s(i,"RejectCallFail",new l.NewCallBack("RejectCallFail")),s(i,"GetUserStatusSuccess",new l.NewCallBack("GetUserStatusSuccess")),s(i,"GetUserStatusFail",new l.NewCallBack("GetUserStatusFail")),s(i,"SetDNDStatusSuccess",new l.NewCallBack("SetDNDStatusSuccess")),s(i,"SetDNDStatusFail",new l.NewCallBack("SetDNDStatusFail")),i),C=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"init",value:function(){l.SDK_event.addEventListener("ServerCall",(function(e){_.NotifyCallIn.trigger(e.callID,e.meeting,e.caller,e.usrExDat)})).addEventListener("ServerAccept",(function(e){_.NotifyCallAccepted.trigger(e.callID,e.meeting,e.usrExDat||"")})).addEventListener("ServerDecline",(function(e){f.call.setCallId(null),_.NotifyCallRejected.trigger(e.callID,u(e.declineReason),e.usrExDat)})).addEventListener("ServerReleaseCall",(function(e){f.call.setCallId(null),_.NotifyCallHungup.trigger(e.callID,e.usrExDat)}))}},{key:"unInit",value:function(){l.SDK_event.removeAllEvent("ServerCall").removeAllEvent("ServerAccept").removeAllEvent("ServerReleaseCall"),this.reset()}},{key:"reset",value:function(){f.call.setCallId(null)}},{key:"userInterfaceExports",value:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({Call:this.Call.bind(this),AcceptCall:this.AcceptCall.bind(this),RejectCall:this.RejectCall.bind(this),HungupCall:this.HungupCall.bind(this),GetUserStatus:this.GetUserStatus.bind(this),SetDNDStatus:this.SetDNDStatus.bind(this)},_)}},{key:"Call",value:function(e,t,n,i){var r=p.generateUUID();console.crlog("[CALL] Call start... CallID:".concat(r));var o={callID:r,called:e,calledOEMKey:f.OEMKey,calledType:0,cmd:"ClientCall",meeting:t,module:"CallServer",usrExDat:n||""};return d.callserverSendCmd(o).then((function(e){var t=e.RspCode;if(console.crlog("[CALL] Call result: ".concat(JSON.stringify({code:t}))),0!==t)return f.call.setCallId(r),void _.CallFail.trigger(r,u(t),i);_.CallSuccess.trigger(r,i)})).catch((function(e){console.crlog("[Error] Call Fail..."),console.crlog(e),_.CallFail.trigger(r,1,i)})),f.call.setCallId(r),r}},{key:"HungupCall",value:function(e,t,n){console.crlog("[CALL] HungupCall start... callID: ".concat(e));var i={callID:e,cmd:"ClientReleaseCall",module:"CallServer",usrExDat:t||""};f.call.setCallId(null),d.callserverSendCmd(i).then((function(t){var i=t.RspCode;console.crlog("[CALL] HungupCall result: ".concat(JSON.stringify({code:i}))),0===i?_.HungupCallSuccess.trigger(e,n):_.HungupCallFail.trigger(e,u(i),n)})).catch((function(t){console.crlog("[Error] HungupCall Fail..."),console.crlog(t),_.HungupCallFail.trigger(e,1,n)}))}},{key:"AcceptCall",value:function(e,t,n,i){console.crlog("[CALL] AcceptCall start... callID: ".concat(e));var r={module:"CallServer",cmd:"ClientAccept",callID:e,meeting:t,usrExDat:n||""};d.callserverSendCmd(r).then((function(t){var n=t.RspCode;console.crlog("[CALL] AcceptCall result: ".concat(JSON.stringify({code:n}))),0===n?(f.call.setCallId(e),_.AcceptCallSuccess.trigger(e,i)):_.AcceptCallFail.trigger(e,u(n),i)})).catch((function(t){console.crlog("[Error] AcceptCall Fail..."),console.crlog(t),_.AcceptCallFail.trigger(e,1,i)}))}},{key:"RejectCall",value:function(e,t,n){console.crlog("[CALL] RejectCall start... callID: ".concat(e));var i={module:"CallServer",cmd:"ClientDecline",declineReason:"ClientDecline",callID:e,usrExDat:t||""};d.callserverSendCmd(i).then((function(t){var i=t.RspCode;console.crlog("[CALL] RejectCall result: ".concat(JSON.stringify({code:i}))),0===i?_.RejectCallSuccess.trigger(e,n):_.RejectCallFail.trigger(e,u(i),n)})).catch((function(t){console.crlog("[Error] RejectCall Fail..."),console.crlog(t),_.RejectCallFail.trigger(e,1,n)}))}},{key:"GetUserStatus",value:function(e){console.crlog("[CALL] GetUserStatus start..."),d.callserverSendCmd({cmd:"GetUserStatus",module:"CallServer"}).then((function(t){var n=t.RspCode;console.crlog("[CALL] GetUserStatus result: ".concat(JSON.stringify({code:n}))),0===n?_.GetUserStatusSuccess.trigger(t.userStatus,e):_.GetUserStatusFail.trigger(u(n),e)})).catch((function(t){console.crlog("[Error] GetUserStatus Fail..."),console.crlog(t),_.GetUserStatusFail.trigger(1,e)}))}},{key:"SetDNDStatus",value:function(e,t){console.crlog("[CALL] SetDNDStatus start...");var n={cmd:"ClientCustomStatusUpdate",module:"CallServer",customStatus:e};d.callserverSendCmd(n).then((function(e){var n=e.RspCode;console.crlog("[CALL] SetDNDStatus result: ".concat(JSON.stringify({code:n}))),0===n?_.SetDNDStatusSuccess.trigger(t):_.SetDNDStatusFail.trigger(u(n),t)})).catch((function(e){console.crlog("[Error] SetDNDStatus Fail..."),console.crlog(e),_.SetDNDStatusFail.trigger(1,t)}))}}])&&c(t.prototype,n),i&&c(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}());l.SDK_event.addEventListener("SDKInit",(function(){C.init()})).addEventListener("SDKUnInit",(function(){C.unInit()})),e.exports={InterfaceExports:C.userInterfaceExports()}},function(e,t,n){var i=n(3),r={0:i.CRVideo_NOERR,1:i.CRVideo_SERVER_EXCEPTION,2:i.CRVideo_INVALID_CALLID,3:i.CRVideo_ERR_CALL_EXIST,4:i.CRVideo_ERR_BUSY,5:i.CRVideo_ERR_OFFLINE,8:i.CRVideo_INVALID_CALLID,NoAnswer:i.CRVideo_ERR_NOANSWER,ClientDecline:i.CRVideo_ERR_REFUSE,Refuse:i.CRVideo_ERR_REFUSE};e.exports=function(e){return void 0===r[e]?i.CRVideo_UNKNOWERR:r[e]}},function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,s(i.key),i)}}function s(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}var a=n(1),l=n(24),u=n(6),d=n(2),h=(n(4),d.Ice),f={InviteSuccess:new a.NewCallBack("InviteSuccess"),InviteFail:new a.NewCallBack("InviteFail"),NotifyInviteIn:new a.NewCallBack("NotifyInviteIn"),AcceptInviteSuccess:new a.NewCallBack("AcceptInviteSuccess"),AcceptInviteFail:new a.NewCallBack("AcceptInviteFail"),RejectInviteSuccess:new a.NewCallBack("RejectInviteSuccess"),RejectInviteFail:new a.NewCallBack("RejectInviteFail"),NotifyInviteCanceled:new a.NewCallBack("NotifyInviteCanceled"),NotifyInviteAccepted:new a.NewCallBack("NotifyInviteAccepted"),NotifyInviteRejected:new a.NewCallBack("NotifyInviteRejected"),CancelInviteSuccess:new a.NewCallBack("CancelInviteSuccess"),CancelInviteFail:new a.NewCallBack("CancelInviteFail")},p=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.inviteCookieList={}}var t,n,i;return t=e,(n=[{key:"init",value:function(){var e=this;a.SDK_event.addEventListener("invite",(function(e){f.NotifyInviteIn.trigger(e.inviteID,e.inviterUserID,e.usrExtDat)})).addEventListener("cancelInvite",(function(e){var t=e.failCode?l(e.failCode):0;f.NotifyInviteCanceled.trigger(e.inviteID,t,e.usrExtDat)})).addEventListener("rejectInvite",(function(e){var t=e.failCode?l(e.failCode):0;f.NotifyInviteRejected.trigger(e.inviteID,t,e.usrExtDat)})).addEventListener("acceptInvite",(function(e){f.NotifyInviteAccepted.trigger(e.inviteID,e.usrExtDat)})).addEventListener("inviteResult",(function(t){var n=t.inviteID,i=e.inviteCookieList[n];delete e.inviteCookieList[n],0===t.failCode?f.InviteSuccess.trigger(n,i):f.InviteFail.trigger(n,1,i)}))}},{key:"unInit",value:function(){a.SDK_event.removeAllEvent("invite").removeAllEvent("cancelInvite").removeAllEvent("rejectInvite").removeAllEvent("acceptInvite"),this.reset()}},{key:"reset",value:function(){this.inviteCookieList={}}},{key:"userInterfaceExports",value:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({Invite:this.Invite.bind(this),AcceptInvite:this.AcceptInvite.bind(this),RejectInvite:this.RejectInvite.bind(this),CancelInvite:this.CancelInvite.bind(this)},f)}},{key:"Invite",value:function(e,t,n){var i=this;console.crlog("[Invite] Invite start...");var r=h.generateUUID(),o={module:"CallServer",cmd:"invite",inviteID:r,invitedUserID:e,usrExtDat:t||""};return u.callserverSendCmd(o).then((function(e){var t=e.RspCode;console.crlog("[Invite] Invite result: ".concat(JSON.stringify({code:t}))),0===t?i.inviteCookieList[r]=n:f.InviteFail.trigger(r,l(t),n)})).catch((function(e){console.crlog("[Error] Invite Fail..."),console.crlog(e),f.InviteFail.trigger(r,1,n)})),r}},{key:"AcceptInvite",value:function(e,t,n){console.crlog("[Invite] AcceptInvite start...");var i={module:"CallServer",cmd:"acceptInvite",inviteID:e,usrExtDat:t||""};u.callserverSendCmd(i).then((function(t){var i=t.RspCode;console.crlog("[Invite] AcceptInvite result: ".concat(JSON.stringify({code:i}))),0===i?f.AcceptInviteSuccess.trigger(e,n):f.AcceptInviteFail.trigger(e,l(i),n)})).catch((function(t){console.crlog("[Error] AcceptInvite Fail..."),console.crlog(t),f.AcceptInviteFail.trigger(e,1,n)}))}},{key:"RejectInvite",value:function(e,t,n){console.crlog("[Invite] RejectInvite start... inviteID: ".concat(e));var i={module:"CallServer",cmd:"rejectInvite",inviteID:e,usrExtDat:t||""};u.callserverSendCmd(i).then((function(t){var i=t.RspCode;console.crlog("[Invite] RejectInvite result: ".concat(JSON.stringify({code:i}))),0===i?f.RejectInviteSuccess.trigger(e,n):f.RejectInviteFail.trigger(e,l(i),n)})).catch((function(t){console.crlog("[Error] RejectInvite Fail..."),console.crlog(t),f.RejectInviteFail.trigger(e,1,n)}))}},{key:"CancelInvite",value:function(e,t,n){console.crlog("[Invite] CancelInvite start... inviteID: ".concat(e));var i={module:"CallServer",cmd:"cancelInvite",inviteID:e,usrExtDat:t||""};u.callserverSendCmd(i).then((function(t){var i=t.RspCode;console.crlog("[Invite] CancelInvite result: ".concat(JSON.stringify({code:i}))),0===i?f.CancelInviteSuccess.trigger(e,n):f.CancelInviteFail.trigger(e,l(i),n)})).catch((function(t){console.crlog("[Error] CancelInvite Fail..."),console.crlog(t),f.CancelInviteFail.trigger(e,1,n)}))}}])&&c(t.prototype,n),i&&c(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}());a.SDK_event.addEventListener("SDKInit",(function(){p.init()})).addEventListener("SDKUnInit",(function(){p.unInit()})),e.exports={InterfaceExports:p.userInterfaceExports()}},function(e,t,n){var i=n(3),r={0:i.CRVideo_NOERR,1:i.CRVideo_SERVER_EXCEPTION,2:i.CRVideo_INVALID_CALLID,3:i.CRVideo_ERR_CALL_EXIST,4:i.CRVideo_ERR_BUSY,5:i.CRVideo_ERR_OFFLINE,6:i.CRVideo_ERR_NOANSWER,7:i.CRVideo_INVALID_CALLID,ClientDecline:i.CRVideo_ERR_REFUSE};e.exports=function(e){return void 0===r[e]?i.CRVideo_UNKNOWERR:r[e]}},function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,s(i.key),i)}}function s(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}var a=n(1),l=n(2),u=l.Ice,d=l.CRVideo,h={SvrRecordStateChanged:new a.NewCallBack("SvrRecordStateChanged"),SvrRecVideosChanged:new a.NewCallBack("SvrRecVideosChanged"),SvrRecFileStateChanged:new a.NewCallBack("SvrRecFileStateChanged")},f=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.reset()}var t,n,i;return t=e,(n=[{key:"init",value:function(){var e=this;this.updateDataFn=this.updateData.bind(this),this.clearDataFn=this.reset.bind(this),a.SDK_event.addEventListener("EnterMeetingSuccess",this.updateDataFn).addEventListener("ClearMeetingData",this.clearDataFn).addEventListener("notifySvrRecordStateChanged",(function(t,n,i){var r=e.recordState=n.value;console.crlog("[MEDIA] NotifySvrRecordStateChanged Callback operatorId: "+t+",state: "+r+",err: "+i),0===r&&(e.MixersList=[]),h.SvrRecordStateChanged.trigger(r,i)})).addEventListener("notifySvrRecordCfgChanged",(function(t,n){try{var i=JSON.parse(n);e.savaContent(i)}catch(e){}console.crlog("[MEDIA] NotifySvrRecordCfgChanged Callback:jsonCfg is "+n),h.SvrRecVideosChanged.callback(n)})).addEventListener("notifySvrRecordFileState",(function(e){console.crlog("[MEDIA] NotifySvrRecordFileState Callback:jsonState is "+e),h.SvrRecFileStateChanged.callback(JSON.parse(e))}))}},{key:"unInit",value:function(){a.SDK_event.removeAllEvent("notifySvrRecordStateChanged").removeAllEvent("notifySvrRecordCfgChanged").removeAllEvent("notifySvrRecordFileState").removeEventListener("EnterMeetingSuccess",this.updateDataFn).removeEventListener("ClearMeetingData",this.clearDataFn),this.updateDataFn=null,this.clearDataFn=null,this.reset()}},{key:"reset",value:function(){this.MixersList=[],this.recordState=0}},{key:"userInterfaceExports",value:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({GetSvrMixerState:this.GetSvrMixerState.bind(this),StartSvrMixer:this.StartSvrMixer.bind(this),UpdateSvrMixerContent:this.UpdateSvrMixerContent.bind(this),StopSvrMixer:this.StopSvrMixer.bind(this)},h)}},{key:"GetSvrMixerState",value:function(){return this.recordState||0}},{key:"StartSvrMixer",value:function(e,t,n){var i=this;console.crlog("[RECORD] StartSvrMixer,mutiMixerCfgs:\n".concat(JSON.stringify(e),"\nmutiMixerContents:\n").concat(JSON.stringify(t),"\nmutiMixerOutputs:\n").concat(JSON.stringify(n))),a.isObject(e)&&(e=[e]),a.isObject(t)&&(t=[t]),a.isObject(n)&&(n=[n]);var r=[];try{for(var o=function(o){var c=e[o],s={},a={};s.id=c.id,s.clientType=1;var l=c.cfg||{};if(a.dstResolutionWidth=l.width||1280,a.dstResolutionHeight=l.height||720,a.fps=l.frameRate||25,a.gop=l.gop||120,a.maxBPS=l.bitRate||35e4,a.qp=l.defaultQP||26,s.recCfg=a,!c||void 0===c.id)throw"mutiMixerCfgs id not find";var u=t.find((function(e){return c.id===e.id})),h=n.find((function(e){return c.id===e.id}));if(!u||!h)throw"mutiMixerContents or mutiMixerOutputs id not find";h.output.forEach((function(e){0==e.type?(a.serverPathFileName=e.filename,a.userNetDiskId=d.OAuthUserId||null):1==e.type&&(a.liveUrl=e.liveUrl)})),i.fmtRecordContentCfg(u.content),s.contents=u.content,r.push(s)},c=0;c<e.length;c++)o(c)}catch(e){var s="[RECORD] StartSvrMixer error: ".concat(e);throw console.crlog(s),s}var u=JSON.stringify(r);console.crlog("[RECORD] ----- CR__StartSvrRecord -----"),l.CR__StartSvrRecord(u).then((function(e,t){console.crlog("[RECORD] StartSvrRecordRslt Callback: ".concat(e," ").concat(t?","+t:""))}))}},{key:"UpdateSvrMixerContent",value:function(e){var t=this;a.isObject(e)&&(e=[e]);try{var n=!1;if(e.forEach((function(e){t.MixersList.some((function(n){if(n.id===e.id)return t.fmtRecordContentCfg(e.content||e.recContents),n.contents=e.content||e.recContents,!0}))&&(n=!0)})),!n)throw"not find id"}catch(e){var i="[RECORD] UpdateSvrMixerContent error: ".concat(e);throw console.crlog(i),i}var r=JSON.stringify(this.MixersList);console.crlog("[RECORD] ----- CR__UpdateSvrRecCfg -----"),l.CR__UpdateSvrRecCfg(r).then((function(e,t){console.crlog("[RECORD] UpdateSvrRecCfgRslt Callback: ".concat(e," ").concat(t?","+t:""))}))}},{key:"StopSvrMixer",value:function(){console.crlog("[RECORD] ----- CR__StopSvrRecord ------"),l.CR__StopSvrRecord().then((function(e,t){console.crlog("[RECORD] StopSvrRecordRslt Callback: ".concat(e," ").concat(t?","+t:""))}))}},{key:"updateData",value:function(e){if(e.confInfo&&e.confInfo.srv_record_state){this.recordState=+e.confInfo.srv_record_state;var t=JSON.parse(e.confInfo.srv_record_cfg);this.savaContent(t)}else this.recordState=0,this.MixersList=[]}},{key:"savaContent",value:function(e){a.isObject(e)?this.MixersList=[e]:a.isArray(e)?this.MixersList=e:this.MixersList=[]}},{key:"fmtRecordContentCfg",value:function(e){e.forEach((function(e){if(4==e.type)e.param={},e.param.bgcolor=null,e.param.prefixtext=null,e.param.resourceid=u.generateUUID(),e.param.textcolor=null;else if(0==e.type){var t,n,i,r;n=(t=e.param.camid.split("."))[t.length-1],t.length=t.length-1,i=t.join(".");var o=d.findUserInfo("userId",i);if(!o)throw"mutiMixerContents userId no find";r=o.termId,e.param={},e.param.camId=+n,e.param.termId=r}else 7==e.type&&(e.param.resourceid=u.generateUUID())}))}},{key:"findMixerInfo",value:function(e){return this.MixersList.find((function(t){return t.id==e}))}}])&&c(t.prototype,n),i&&c(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}());a.SDK_event.addEventListener("SDKInit",(function(){f.init()})).addEventListener("SDKUnInit",(function(){f.unInit()})),e.exports={InterfaceExports:f.userInterfaceExports()}},function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,s(i.key),i)}}function s(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}var a=n(1),l=n(2),u=n(27),d=n(3),h=l.Ice,f=l.CRVideo,p={CreateCloudMixerFailed:new a.NewCallBack("CreateCloudMixerFailed"),CloudMixerStateChanged:new a.NewCallBack("CloudMixerStateChanged"),CloudMixerInfoChanged:new a.NewCallBack("CloudMixerInfoChanged"),CloudMixerOutputInfoChanged:new a.NewCallBack("CloudMixerOutputInfoChanged")},_=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.reset()}var t,n,i;return t=e,(n=[{key:"init",value:function(){var e=this;this.updateDataFn=this.updateData.bind(this),this.clearDataFn=this.reset.bind(this),a.SDK_event.addEventListener("EnterMeetingSuccess",this.updateDataFn).addEventListener("ClearMeetingData",this.clearDataFn).addEventListener("notifyClodudRecordStateChanged",(function(t,n,i,r){var o=i.value,c=JSON.parse(r);console.crlog("[CloudRecord] ICE Notify: notifyCloudRecordStateChanged, params:".concat(JSON.stringify({operatorId:t,MixerID:n,status:o}))),e.updateRecordList({MixerID:n,state:o});var s=f.findUserInfo("termId",t),a=s?s.userId:"CRMCU";if(0===o)0!==(c={err:u(c.err),errDesc:c.errDesc}).err&&(console.crlog("[CloudRecord] CreateCloudMixerFailed.trigger(".concat(n,", ").concat(c.err,")")),p.CreateCloudMixerFailed.trigger(n,c.err));else if(1===o){var l=JSON.parse(c.jsonCfg);c=e.IceCfg2UserCfg(l)}console.crlog("[CloudRecord] CloudMixerStateChanged.trigger(".concat(n,",").concat(o,",").concat(JSON.stringify(c),",").concat(a,")")),p.CloudMixerStateChanged.trigger(n,o,c,a)})).addEventListener("notifyClodudRecordCfgChanged",(function(t,n,i){delete(i=JSON.parse(i)).storageConfig,console.crlog("[CloudRecord] ICE Notify: notifyCloudRecordCfgChanged, params:".concat(JSON.stringify({operatorId:t,MixerID:n,jsonCfg:i}))),e.updateRecordList({MixerID:n,jsonCfg:i}),console.crlog("[CloudRecord] CloudMixerInfoChanged.trigger(".concat(n,")")),p.CloudMixerInfoChanged.trigger(n)})).addEventListener("notifyClodudRecordFileState",(function(e,t){t=JSON.parse(t),console.crlog("[CloudRecord] CloudMixerOutputInfoChanged.trigger(".concat(e,", ").concat(JSON.stringify(t),")")),t.errCode&&(t.errCode=u(t.errCode)),p.CloudMixerOutputInfoChanged.trigger(e,t)}))}},{key:"unInit",value:function(){a.SDK_event.removeAllEvent("notifyClodudRecordStateChanged").removeAllEvent("notifyClodudRecordCfgChanged").removeAllEvent("notifyClodudRecordFileState").removeEventListener("EnterMeetingSuccess",this.updateDataFn).removeEventListener("ClearMeetingData",this.clearDataFn),this.updateDataFn=null,this.clearDataFn=null,this.reset()}},{key:"reset",value:function(){this.MixersList=[]}},{key:"userInterfaceExports",value:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({CreateCloudMixer:this.CreateCloudMixer.bind(this),DestroyCloudMixer:this.DestroyCloudMixer.bind(this),UpdateCloudMixerContent:this.UpdateCloudMixerContent.bind(this),GetCloudMixerInfo:this.GetCloudMixerInfo.bind(this),GetAllCloudMixerInfo:this.GetAllCloudMixerInfo.bind(this)},p)}},{key:"updateData",value:function(e){var t=[];if(e.confInfo&&e.confInfo.cloud_record){var n=JSON.parse(e.confInfo.cloud_record);for(var i in n)t.push({MixerID:i,jsonCfg:JSON.parse(n[i].jsonCfg||"{}"),state:n[i].state})}this.MixersList=t}},{key:"updateRecordList",value:function(e){var t=this.MixersList.findIndex((function(t){return t.MixerID==e.MixerID}));if(-1!==t)if(0==e.state)this.MixersList.splice(t,1);else for(var n in e)this.MixersList[t][n]=e[n];else{var i={};for(var n in e)i[n]=e[n];this.MixersList.push(i)}}},{key:"CreateCloudMixer",value:function(e){var t=h.generateUUID().replace(/-/g,"");try{var n=a.clone(e);n.storageConfig&&(n.storageConfig.accessKey="******",n.storageConfig.secretKey="******"),console.crlog("[CloudRecord] CRVideo_CreateCloudMixer(".concat(JSON.stringify(n),")"))}catch(e){return console.error(e),Promise.resolve().then((function(){p.CreateCloudMixerFailed.trigger(t,5)})),t}var i=this.userCfg2IceCfg(e);return l.CR__StartCloudRecord(t,JSON.stringify(i)).catch((function(e){p.CreateCloudMixerFailed.trigger(t,e)})),t}},{key:"DestroyCloudMixer",value:function(e){console.crlog("[CloudRecord] DestroyCloudMixer(".concat(e,")")),l.CR__StopCloudRecord(e).then((function(t){console.crlog("[CloudRecord] DestroyCloudMixer result: ".concat(e," success"))}),(function(t){console.crlog("[CloudRecord] DestroyCloudMixer result: ".concat(e," fail: ").concat(t))}))}},{key:"UpdateCloudMixerContent",value:function(e,t){var n=this;try{console.crlog("[CloudRecord] UpdateCloudMixerContent(".concat(e,",").concat(JSON.stringify(t),")"));for(var i=0;i<this.MixersList.length;i++)if(this.MixersList[i].MixerID===e){var r=this.MixersList[i],o=a.clone(r.jsonCfg);if(1===o.mode)for(var c in t){if("videoFileCfg"===c){if(!o.videoFileCfg)return console.crlog("不支持录制中创建视频录制"),d.CRVideo_MEETPARAM_ERR;o[c].subscribeVideos=this.videoCfgUID2TermId(t[c].subscribeVideos)}if("audioFileCfg"===c){if(!o.audioFileCfg)return console.crlog("不支持录制中创建音频录制"),d.CRVideo_MEETPARAM_ERR;o[c].subscribeAudios=this.audioCfgUID2TermId(t[c].subscribeAudios)}}else if(0===o.mode)for(var s in t){if("videoFileCfg"===s){if(!o.videoFileCfg)return console.crlog("不支持录制中创建视频录制"),d.CRVideo_MEETPARAM_ERR;t[s].layoutConfig&&(t[s].layoutConfig.reduce((function(e,t){return 0===t.type&&(t.param.camid=n.uidACamid2TermIdACamId(t.param.camid)),e.push(t),e}),[]),o[s].layoutConfig=t[s].layoutConfig),t[s].aChannelContent&&(o[s].aChannelContent=this.Uids2termIds(t[s].aChannelContent,!0))}"audioFileCfg"===s&&t[s].aChannelContent&&(o[s].aChannelContent=this.Uids2termIds(t[s].aChannelContent,!0))}return l.CR__UpdateCloudRecord(e,JSON.stringify(o)).then((function(){console.crlog("[CloudRecord] UpdateCloudMixerContent(".concat(e,",").concat(JSON.stringify(t),")"))})).exception((function(e){console.crlog(e.toString())})),d.CRVideo_NOERR}}catch(e){return console.error(e),d.CRVideo_MEETPARAM_ERR}}},{key:"GetCloudMixerInfo",value:function(e){var t=this;console.crlog("[CloudRecord] GetCloudMixerInfo(".concat(e,")"));var n=null;return this.MixersList.some((function(i){if(i.MixerID===e){var r=t.IceCfg2UserCfg(i.jsonCfg),o=f.findUserInfo("termId",i.jsonCfg.owner);return n={ID:i.MixerID,owner:o?o.userId:"",cfg:r,state:i.state},!0}})),n}},{key:"GetAllCloudMixerInfo",value:function(){var e=this;return console.crlog("[CloudRecord] GetAllCloudMixerInfo()"),this.MixersList.map((function(t){var n=e.IceCfg2UserCfg(t.jsonCfg),i=f.findUserInfo("termId",t.jsonCfg.owner);return{ID:t.MixerID,owner:i?i.userId:"",cfg:n,state:t.state}}))}},{key:"userCfg2IceCfg",value:function(e){var t=this,n={clientType:1,mode:e.mode||0,owner:f.userInfo.termId,storageConfig:e.storageConfig?e.storageConfig:{userNetDiskId:f.OAuthUserId}};if(1==n.mode&&(e.audioFileCfg&&(n.audioFileCfg={svrPath:e.audioFileCfg.svrPath?e.audioFileCfg.svrPath:"",svrFileNameSuffix:e.audioFileCfg.svrFileNameSuffix?e.audioFileCfg.svrFileNameSuffix:".mp3"},n.audioFileCfg.subscribeAudios=e.audioFileCfg.subscribeAudios?this.audioCfgUID2TermId(e.audioFileCfg.subscribeAudios):[]),e.videoFileCfg&&(n.videoFileCfg={svrPath:e.videoFileCfg.svrPath?e.videoFileCfg.svrPath:"",svrFileNameSuffix:e.videoFileCfg.svrFileNameSuffix?e.videoFileCfg.svrFileNameSuffix:".mp4",aStreamType:e.videoFileCfg.aStreamType?e.videoFileCfg.aStreamType:0},n.videoFileCfg.subscribeAudios=e.videoFileCfg.subscribeAudios?this.videoCfgUID2TermId(e.videoFileCfg.subscribeAudios):[])),0===n.mode){if(e.audioFileCfg){var i=Object.assign({aChannelType:0},e.audioFileCfg);i.aChannelContent&&(i.aChannelContent=this.Uids2termIds(i.aChannelContent)),n.audioFileCfg=i}if(e.videoFileCfg){var r=Object.assign({mixedLayout:1},e.videoFileCfg);r.layoutConfig.forEach((function(e){0===e.type&&(e.param.camid=t.uidACamid2TermIdACamId(e.param.camid))})),r.aChannelContent&&(r.aChannelContent=this.Uids2termIds(r.aChannelContent)),n.videoFileCfg=r}}return n}},{key:"IceCfg2UserCfg",value:function(e){var t=this,n=a.clone(e),i={mode:n.mode,audioFileCfg:n.audioFileCfg,videoFileCfg:n.videoFileCfg};return n.videoFileCfg&&(n.videoFileCfg.aChannelContent&&(i.videoFileCfg.aChannelContent=this.Uids2termIds(n.videoFileCfg.aChannelContent,!0)),n.videoFileCfg.subscribeVideos&&(i.videoFileCfg.subscribeVideos=this.videoCfgUID2TermId(n.videoFileCfg.subscribeVideos,!0)),n.videoFileCfg.layoutConfig&&i.videoFileCfg.layoutConfig.map((function(e){return 0===e.type&&(e.param.camid=t.uidACamid2TermIdACamId(e.param.camid,!0)),e}))),n.audioFileCfg&&(n.audioFileCfg.aChannelContent&&(i.audioFileCfg.aChannelContent=this.Uids2termIds(n.audioFileCfg.aChannelContent,!0)),n.audioFileCfg.subscribeAudios&&(i.audioFileCfg.subscribeAudios=this.audioCfgUID2TermId(n.audioFileCfg.subscribeAudios,!0))),i}},{key:"Uids2termIds",value:function(e,t){return e.map((function(e){var n=f.findUserInfo(t?"termId":"userId",e);return n?t?n.userId:n.termId:""}))}},{key:"uidACamid2TermIdACamId",value:function(e,t){var n=e.split(".")[0],i=e.split(".")[1]||0,r=f.findUserInfo(t?"termId":"userId",n);return"".concat(r?t?r.userId:r.termId:"",".").concat(i)}},{key:"uidATermId",value:function(e,t){var n=f.findUserInfo(t?"termId":"userId",e);return n?t?n.userId:n.termId:""}},{key:"videoCfgUID2TermId",value:function(e,t){var n=this;return e.map((function(e){return"_cr_all_"===e||"_cr_allDefCam_"===e?e:n.uidACamid2TermIdACamId(e,t)}))}},{key:"audioCfgUID2TermId",value:function(e,t){var n=this;return e.map((function(e){return"_cr_all_"===e?e:n.uidATermId(e,t)}))}}])&&c(t.prototype,n),i&&c(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}());a.SDK_event.addEventListener("SDKInit",(function(){_.init()})).addEventListener("SDKUnInit",(function(){_.unInit()})),e.exports={InterfaceExports:_.userInterfaceExports()}},function(e,t,n){var i=n(3),r={0:i.CRVideo_NOERR,1:i.CRVIDEOSDK_CATCH_SCREEN_ERR,2:i.CRVIDEOSDK_RECORD_MAX,3:i.CRVIDEOSDK_RECORD_NO_DISK,4:i.CRVideo_UNKNOWERR,5:i.CRVideo_MEETPARAM_ERR,6:i.CRVIDEOSDK_CFG_RESTRICTED,7:i.CRVideo_MEETPARAM_ERR,8:i.CRVideo_MEETPARAM_ERR,9:i.CRVIDEOSDK_FILE_ERR,200:i.CRVIDEOSDK_NOMORE_MCU};e.exports=function(e){return void 0===r[e]?i.CRVideo_UNKNOWERR:r[e]}},function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,s(i.key),i)}}function s(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}var a=n(1),l=n(29),u=n(6),d=n(4),h={InitQueueDatRslt:new a.NewCallBack("InitQueueDatRslt"),GetQueueStatusRslt:new a.NewCallBack("GetQueueStatusRslt"),StartQueuingRslt:new a.NewCallBack("StartQueuingRslt"),StopQueuingRslt:new a.NewCallBack("StopQueuingRslt"),QueueStatusChanged:new a.NewCallBack("QueueStatusChanged"),QueuingInfoChanged:new a.NewCallBack("QueuingInfoChanged"),GetClientStatusRslt:new a.NewCallBack("GetClientStatusRslt"),GetServingStatusRslt:new a.NewCallBack("GetServingStatusRslt"),StartServiceRslt:new a.NewCallBack("StartServiceRslt"),StopServiceRslt:new a.NewCallBack("StopServiceRslt"),ReqAssignUserRslt:new a.NewCallBack("ReqAssignUserRslt"),AutoAssignUser:new a.NewCallBack("AutoAssignUser"),CancelAssignUser:new a.NewCallBack("CancelAssignUser")},f=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"init",value:function(){this.allQueueInfo=[],a.SDK_event.addEventListener("NotifyQueueStatus",(function(e){h.QueueStatusChanged.trigger(e.status)})).addEventListener("AssignUser",(function(e){h.AutoAssignUser.trigger({queID:e.queID,usrID:e.userID,name:e.userName,queuingTime:e.wait_time,usrExDat:e.usrExDat||""})})).addEventListener("AssignCancel",(function(e){h.CancelAssignUser.trigger(e.queID,e.userID)})).addEventListener("NotifyPosition",(function(e){var t={queID:e.status.queID,position:e.position,queuingTime:e.wait_time};h.QueuingInfoChanged.trigger(t)}))}},{key:"unInit",value:function(){a.SDK_event.removeAllEvent("NotifyQueueStatus").removeAllEvent("AssignUser").removeAllEvent("AssignCancel"),this.reset()}},{key:"reset",value:function(){this.allQueueInfo=[]}},{key:"userInterfaceExports",value:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({InitQueueDat:this.InitQueueDat.bind(this),GetAllQueueInfo:this.GetAllQueueInfo.bind(this),GetQueueStatus:this.GetQueueStatus.bind(this),RefreshAllQueueStatus:this.RefreshAllQueueStatus.bind(this),StartQueuing:this.StartQueuing.bind(this),StopQueuing:this.StopQueuing.bind(this),GetClientStatus:this.GetClientStatus.bind(this),GetServingStatus:this.GetServingStatus.bind(this),StartService:this.StartService.bind(this),StopService:this.StopService.bind(this),ReqAssignUser:this.ReqAssignUser.bind(this),AcceptAssignUser:this.AcceptAssignUser.bind(this),RejectAssignUser:this.RejectAssignUser.bind(this)},h)}},{key:"InitQueueDat",value:function(e){var t=this;console.crlog("[QUEUE] InitQueueDat start..."),u.callserverSendCmd({cmd:"GetServiceData",module:"Queue"}).then((function(n){var i=n.RspCode;console.crlog("[QUEUE] InitQueueDat result: ".concat(JSON.stringify({code:i}))),0===i?(console.crlog("[QUEUE] InitQueueDat result: ".concat(JSON.stringify({queueLength:n.ques.length}))),n.ques.forEach((function(e){delete e.appId,delete e.compID})),t.allQueueInfo=n.ques,h.InitQueueDatRslt.trigger(i,e)):h.InitQueueDatRslt.trigger(l(i),e)})).catch((function(t){console.crlog("[Error] InitQueueDat Fail..."),console.crlog(t),h.InitQueueDatRslt.trigger(1,e)}))}},{key:"GetAllQueueInfo",value:function(){return a.clone(this.allQueueInfo)}},{key:"GetQueueStatus",value:function(e,t){console.crlog("[QUEUE] GetQueueStatus start: ".concat(JSON.stringify({queID:e})));var n={cmd:"GetQueueStatus",module:"Queue",queID:e};u.callserverSendCmd(n).then((function(n){var i=n.RspCode;console.crlog("[QUEUE] GetQueueStatus result: ".concat(JSON.stringify({code:i,queID:e}))),h.GetQueueStatusRslt.trigger(l(i),n.status,t)})).catch((function(e){console.crlog("[Error] GetQueueStatus Fail..."),console.crlog(e),h.GetQueueStatusRslt.trigger(1,void 0,t)}))}},{key:"RefreshAllQueueStatus",value:function(){console.crlog("[QUEUE] RefreshAllQueueStatus begin...");for(var e=this.allQueueInfo,t=e.length,n=0;n<t;n++){var i=e[n];this.GetQueueStatus(i.queID)}}},{key:"StartQueuing",value:function(e,t,n){console.crlog("[QUEUE] GetQueueStatus start: ".concat(JSON.stringify({queID:e})));var i={cmd:"UserEnter",module:"Queue",queID:e,usrExDat:t};u.callserverSendCmd(i).then((function(t){var i=t.RspCode;console.crlog("[QUEUE] StartQueuing result: ".concat(JSON.stringify({code:i,queID:e}))),h.StartQueuingRslt.trigger(l(i),t.position,n)})).catch((function(e){console.crlog("[Error] StartQueuing Fail..."),console.crlog(e),h.StartQueuingRslt.trigger(1,void 0,n)}))}},{key:"GetClientStatus",value:function(e){console.crlog("[QUEUE] GetClientStatus start..."),u.callserverSendCmd({cmd:"GetUserServiceStatus",module:"Queue"}).then((function(t){var n,i=t.RspCode;0===i&&(n={},t.callInfo&&t.callInfo.callID&&(n.callInfo=t.callInfo,d.call.setCallId(t.callInfo.callID)),t.queID>=0&&(n.queuingInfo={queID:t.queID,position:t.position,queuingTime:t.wait_time})),console.crlog("[QUEUE] GetClientStatus result: ".concat(JSON.stringify({code:i}))),h.GetClientStatusRslt.trigger(l(i),n,e)})).catch((function(t){console.crlog("[Error] GetClientStatus Fail..."),console.crlog(t),h.GetClientStatusRslt.trigger(1,void 0,e)}))}},{key:"GetServingStatus",value:function(e){console.crlog("[QUEUE] GetServingStatus start..."),u.callserverSendCmd({cmd:"GetAgentServiceStatus",module:"Queue"}).then((function(t){var n=t.RspCode,i={};t.callInfo&&t.callInfo.callID&&(i.callInfo=t.callInfo,d.call.setCallId(t.callInfo.callID)),t.queIDs&&(i.queIDs=t.queIDs),console.crlog("[QUEUE] GetServingStatus result: ".concat(JSON.stringify({code:n}))),h.GetServingStatusRslt.trigger(l(n),i,e)})).catch((function(t){console.crlog("[Error] GetServingStatus Fail..."),console.crlog(t),h.GetServingStatusRslt.trigger(1,void 0,e)}))}},{key:"StopQueuing",value:function(e,t){console.crlog("[QUEUE] StopQueuing start: ".concat(JSON.stringify({queID:e})));var n={cmd:"UserLeave",module:"Queue",queID:e};u.callserverSendCmd(n).then((function(n){var i=n.RspCode;console.crlog("[QUEUE] StopQueuing result: ".concat(JSON.stringify({code:i,queID:e}))),h.StopQueuingRslt.trigger(l(i),t)})).catch((function(e){console.crlog("[Error] StopQueuing Fail..."),console.crlog(e),h.StopQueuingRslt.trigger(1,t)}))}},{key:"StartService",value:function(e,t,n){console.crlog("[QUEUE] StartService start: ".concat(JSON.stringify({queID:e})));var i={cmd:"AgentEnter",module:"Queue",queID:e};u.callserverSendCmd(i).then((function(t){var i=t.RspCode;console.crlog("[QUEUE] StartService result: ".concat(JSON.stringify({code:i,queID:e}))),h.StartServiceRslt.trigger(l(i),n)})).catch((function(e){console.crlog("[Error] StartService Fail..."),console.crlog(e),h.StartServiceRslt.trigger(1,n)}))}},{key:"StopService",value:function(e,t){console.crlog("[QUEUE] StopService start: ".concat(JSON.stringify({queID:e})));var n={cmd:"AgentLeave",module:"Queue",queID:e};u.callserverSendCmd(n).then((function(n){var i=n.RspCode;console.crlog("[QUEUE] StopService result: ".concat(JSON.stringify({code:i,queID:e}))),h.StopServiceRslt.trigger(l(i),t)})).catch((function(e){console.crlog("[Error] StopService Fail..."),console.crlog(e),h.StopServiceRslt.trigger(1,t)}))}},{key:"ReqAssignUser",value:function(e){console.crlog("[QUEUE] ReqAssignUser start..."),u.callserverSendCmd({cmd:"RequestUser",module:"Queue"}).then((function(t){var n=t.RspCode;if(console.crlog("[QUEUE] ReqAssignUser result: ".concat(JSON.stringify({code:n}))),0===n){var i={queID:t.queID,usrID:t.userID,name:t.userName,queuingTime:t.wait_time,usrExDat:t.usrExDat};h.ReqAssignUserRslt.trigger(l(n),i,e)}else h.ReqAssignUserRslt.trigger(l(n),void 0,e)})).catch((function(t){console.crlog("[Error] ReqAssignUser Fail..."),console.crlog(t),h.ReqAssignUserRslt.trigger(1,void 0,e)}))}},{key:"AcceptAssignUser",value:function(e,t){console.crlog("[QUEUE] AcceptAssignUser start...");var n={accept:1,cmd:"AssignResponse",module:"Queue",queID:e,userID:t};u.callserverSendCmd(n)}},{key:"RejectAssignUser",value:function(e,t){console.crlog("[QUEUE] RejectAssignUser start...");var n={accept:0,cmd:"AssignResponse",module:"Queue",queID:e,userID:t};u.callserverSendCmd(n)}}])&&c(t.prototype,n),i&&c(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}());a.SDK_event.addEventListener("SDKInit",(function(){f.init()})).addEventListener("SDKUnInit",(function(){f.unInit()})).addEventListener("callserverLogout",(function(){f.reset()})),e.exports={InterfaceExports:f.userInterfaceExports()}},function(e,t,n){var i=n(3),r={0:i.CRVideo_NOERR,100:i.CRVideo_QUE_ID_INVALID,101:i.CRVideo_QUE_NOUSER,102:i.CRVideo_QUE_USER_CANCELLED,103:i.CRVideo_QUE_SERVICE_NOT_START,104:i.CRVideo_ALREADY_OTHERQUE};e.exports=function(e){return void 0===r[e]?i.CRVideo_UNKNOWERR:r[e]}},function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,s(i.key),i)}}function s(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}var a=n(1),l=n(3),u=n(2),d={GetMeetingAttrsSuccess:new a.NewCallBack("GetMeetingAttrsSuccess"),GetMeetingAttrsFail:new a.NewCallBack("GetMeetingAttrsFail"),GetMeetingAllAttrsSuccess:new a.NewCallBack("GetMeetingAllAttrsSuccess"),GetMeetingAllAttrsFail:new a.NewCallBack("GetMeetingAllAttrsFail"),SetMeetingAttrsRslt:new a.NewCallBack("SetMeetingAttrsRslt"),AddOrUpdateMeetingAttrsRslt:new a.NewCallBack("AddOrUpdateMeetingAttrsRslt"),DelMeetingAttrsRslt:new a.NewCallBack("DelMeetingAttrsRslt"),ClearMeetingAttrsRslt:new a.NewCallBack("ClearMeetingAttrsRslt"),GetUserAttrsSuccess:new a.NewCallBack("GetUserAttrsSuccess"),GetUserAttrsFail:new a.NewCallBack("GetUserAttrsFail"),SetUserAttrsRslt:new a.NewCallBack("SetUserAttrsRslt"),AddOrUpdateUserAttrsRslt:new a.NewCallBack("AddOrUpdateUserAttrsRslt"),DelUserAttrsRslt:new a.NewCallBack("DelUserAttrsRslt"),ClearUserAttrsRslt:new a.NewCallBack("ClearUserAttrsRslt"),ClearAllUserAttrsRslt:new a.NewCallBack("ClearAllUserAttrsRslt"),NotifyMeetingAttrsChanged:new a.NewCallBack("NotifyMeetingAttrsChanged"),NotifyUserAttrsChanged:new a.NewCallBack("NotifyUserAttrsChanged")},h=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,s;return t=e,(n=[{key:"init",value:function(){var e=this;a.SDK_event.addEventListener("notifyMeetingAttrsChanged",(function(t,n,i){var r=e.ConferenceToData(t),o=e.ConferenceToData(n);console.log("notifyMeetingAttrsChanged",r,o,i),d.NotifyMeetingAttrsChanged.trigger(r,o,i)})).addEventListener("notifyUserAttrsChanged",(function(t,n,i,r){var o=e.ConferenceToData(n),c=e.ConferenceToData(i);console.log("notifyUserAttrsChanged",t,o,c,r),d.NotifyUserAttrsChanged.trigger(t,o,c,r)}))}},{key:"unInit",value:function(){a.SDK_event.removeAllEvent("notifyMeetingAttrsChanged").removeAllEvent("notifyUserAttrsChanged")}},{key:"userInterfaceExports",value:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({GetMeetingAttrs:this.GetMeetingAttrs.bind(this),GetMeetingAllAttrs:this.GetMeetingAllAttrs.bind(this),SetMeetingAttrs:this.SetMeetingAttrs.bind(this),AddOrUpdateMeetingAttrs:this.AddOrUpdateMeetingAttrs.bind(this),DelMeetingAttrs:this.DelMeetingAttrs.bind(this),ClearMeetingAttrs:this.ClearMeetingAttrs.bind(this),GetUserAttrs:this.GetUserAttrs.bind(this),SetUserAttrs:this.SetUserAttrs.bind(this),AddOrUpdateUserAttrs:this.AddOrUpdateUserAttrs.bind(this),DelUserAttrs:this.DelUserAttrs.bind(this),ClearUserAttrs:this.ClearUserAttrs.bind(this),ClearAllUserAttrs:this.ClearAllUserAttrs.bind(this)},d)}},{key:"ConferenceToData",value:function(e){var t={};return e.forEach((function(e,n){t[e]=n})),t}},{key:"GetMeetingAttrs",value:function(e,t){console.crlog("[MeetingAttr] GetMeetingAttrs start..."),e instanceof Array?u.CR__GetMeetingAttrs(e).then((function(e){console.crlog("[MeetingAttr] GetMeetingAttrsSuccess"),d.GetMeetingAttrsSuccess.trigger(e,t)})).catch((function(e){console.crlog("[MeetingAttr] GetMeetingAttrsFail"),d.GetMeetingAttrsFail.trigger(e,t)})):d.GetMeetingAttrsFail.trigger(l.CRVideo_MEETPARAM_ERR,t)}},{key:"GetMeetingAllAttrs",value:function(e){console.crlog("[MeetingAttr] GetMeetingAllAttrs start..."),u.CR__GetMeetingAllAttrs().then((function(t){console.crlog("[MeetingAttr] GetMeetingAllAttrsSuccess"),d.GetMeetingAllAttrsSuccess.trigger(t,e)})).catch((function(t){d.GetMeetingAllAttrsFail.trigger(t,e)}))}},{key:"SetMeetingAttrs",value:function(e,t,n){console.crlog("[MeetingAttr] SetMeetingAttrs start");try{var r=JSON.parse(e);if("object"!==i(r))throw"[MeetingAttr] attrs not is object";var o=this.checkLength(r);if(o)throw o;u.CR__SetMeetingAttrs(r,t).then((function(){console.crlog("[MeetingAttr] SetMeetingAttrsRslt Success"),d.SetMeetingAttrsRslt.trigger(l.CRVideo_NOERR,n)})).catch((function(e){console.crlog("[MeetingAttr] SetMeetingAttrsRslt Fail"),d.SetMeetingAttrsRslt.trigger(e,n)}))}catch(e){return console.crlog("[MeetingAttr] SetMeetingAttrs fail: ".concat(e)),void d.SetMeetingAttrsRslt.trigger(l.CRVideo_MEETPARAM_ERR,n)}}},{key:"AddOrUpdateMeetingAttrs",value:function(e,t,n){console.crlog("[MeetingAttr] AddOrUpdateMeetingAttrs start");try{var r=JSON.parse(e);if("object"!==i(r))throw"[MeetingAttr] attrs not is object";var o=this.checkLength(r);if(o)throw o;u.CR__AddOrUpdateMeetingAttrs(r,t).then((function(){console.crlog("[MeetingAttr] AddOrUpdateMeetingAttrsRslt Success"),d.AddOrUpdateMeetingAttrsRslt.trigger(l.CRVideo_NOERR,n)})).catch((function(e){console.crlog("[MeetingAttr] AddOrUpdateMeetingAttrsRslt Fail"),d.AddOrUpdateMeetingAttrsRslt.trigger(e,n)}))}catch(e){return console.crlog("[MeetingAttr] AddOrUpdateMeetingAttrs fail: ".concat(e)),void d.AddOrUpdateMeetingAttrsRslt.trigger(l.CRVideo_MEETPARAM_ERR,n)}}},{key:"DelMeetingAttrs",value:function(e,t,n){console.crlog("[MeetingAttr] DelMeetingAttrs start"),e instanceof Array?u.CR__DelMeetingAttrs(e,t).then((function(){console.crlog("[MeetingAttr] DelMeetingAttrsRslt Success"),d.DelMeetingAttrsRslt.trigger(l.CRVideo_NOERR,n)})).catch((function(e){console.crlog("[MeetingAttr] DelMeetingAttrsRslt Fail"),d.DelMeetingAttrsRslt.trigger(e,n)})):d.DelMeetingAttrsRslt.trigger(l.CRVideo_MEETPARAM_ERR,n)}},{key:"ClearMeetingAttrs",value:function(e,t){console.crlog("[MeetingAttr] ClearMeetingAttrs start..."),u.CR__ClearMeetingAttrs(e).then((function(){console.crlog("[MeetingAttr] ClearMeetingAttrs Success"),d.ClearMeetingAttrsRslt.trigger(l.CRVideo_NOERR,t)})).catch((function(e){console.crlog("[MeetingAttr] ClearMeetingAttrs Fail"),d.ClearMeetingAttrsRslt.trigger(e,t)}))}},{key:"GetUserAttrs",value:function(e,t,n){if(console.crlog("[MeetingAttr] GetUserAttrs start..."),!(e instanceof Array&&e.length<=50&&(!t||t&&t instanceof Array)))return console.crlog("[MeetingAttr] GetUserAttrsFail"),void d.GetUserAttrsFail.trigger(l.CRVideo_MEETPARAM_ERR,n);u.CR__GetUserAttrs(e,t).then((function(e){console.crlog("[MeetingAttr] GetUserAttrsSuccess"),d.GetUserAttrsSuccess.trigger(e,n)})).catch((function(e){console.crlog("[MeetingAttr] GetUserAttrsFail"),d.GetUserAttrsFail.trigger(e,n)}))}},{key:"SetUserAttrs",value:function(e,t,n,r){console.crlog("[MeetingAttr] SetUserAttrs start");try{var o=JSON.parse(t);if("object"!==i(o))throw"[MeetingAttr] attrs not is object";var c=this.checkLength(o);if(c)throw c;u.CR__SetUserAttrs(e,o,n).then((function(){console.crlog("[MeetingAttr] SetUserAttrsRslt Success"),d.SetUserAttrsRslt.trigger(l.CRVideo_NOERR,r)})).catch((function(e){console.crlog("[MeetingAttr] SetUserAttrsRslt Fail"),d.SetUserAttrsRslt.trigger(e,r)}))}catch(e){return console.crlog("[MeetingAttr] SetUserAttrs fail: ".concat(e)),void d.SetUserAttrsRslt.trigger(l.CRVideo_MEETPARAM_ERR,r)}}},{key:"AddOrUpdateUserAttrs",value:function(e,t,n,r){console.crlog("[MeetingAttr] AddOrUpdateUserAttrs start");try{var o=JSON.parse(t);if("object"!==i(o))throw"[MeetingAttr] attrs not is object";var c=this.checkLength(o);if(c)throw c;u.CR__AddOrUpdateUserAttrs(e,o,n).then((function(){console.crlog("[MeetingAttr] AddOrUpdateUserAttrsRslt Success"),d.AddOrUpdateUserAttrsRslt.trigger(l.CRVideo_NOERR,r)})).catch((function(e){console.crlog("[MeetingAttr] AddOrUpdateUserAttrsRslt Fail"),d.AddOrUpdateUserAttrsRslt.trigger(e,r)}))}catch(e){return console.crlog("[MeetingAttr] AddOrUpdateUserAttrs fail: ".concat(e)),void d.AddOrUpdateUserAttrsRslt.trigger(l.CRVideo_MEETPARAM_ERR,r)}}},{key:"DelUserAttrs",value:function(e,t,n,i){console.crlog("[MeetingAttr] DelUserAttrs start"),t instanceof Array?u.CR__DelUserAttrs(e,t,n).then((function(){console.crlog("[MeetingAttr] DelUserAttrsRslt Success"),d.DelUserAttrsRslt.trigger(l.CRVideo_NOERR,i)})).catch((function(e){console.crlog("[MeetingAttr] DelUserAttrsRslt Fail"),d.DelUserAttrsRslt.trigger(e,i)})):d.DelUserAttrsRslt.trigger(l.CRVideo_MEETPARAM_ERR,i)}},{key:"ClearUserAttrs",value:function(e,t,n){console.crlog("[MeetingAttr] ClearUserAttrs start..."),"string"==typeof e&&(e=[e]),e instanceof Array?u.CR__ClearUserAttrs(e,t).then((function(){console.crlog("[MeetingAttr] ClearUserAttrsRslt Success"),d.ClearUserAttrsRslt.trigger(l.CRVideo_NOERR,n)})).catch((function(e){console.crlog("[MeetingAttr] ClearUserAttrsRslt Fail"),d.ClearUserAttrsRslt.trigger(e,n)})):d.ClearUserAttrsRslt.trigger(l.CRVideo_MEETPARAM_ERR,n)}},{key:"ClearAllUserAttrs",value:function(e,t){console.crlog("[MeetingAttr] ClearAllUserAttrs start..."),u.CR__ClearAllUserAttrs(e).then((function(){console.crlog("[MeetingAttr] ClearAllUserAttrsRslt Success"),d.ClearAllUserAttrsRslt.trigger(l.CRVideo_NOERR,t)})).catch((function(e){console.crlog("[MeetingAttr] ClearAllUserAttrsRslt Fail"),d.ClearAllUserAttrsRslt.trigger(e,t)}))}},{key:"checkLength",value:function(e){for(var t in e){if(t.length>64)return"[MeetingAttr] key Exceed maximum length";if(e[t].length>8192)return"[MeetingAttr] value Exceed maximum length"}return!1}}])&&c(t.prototype,n),s&&c(t,s),Object.defineProperty(t,"prototype",{writable:!1}),e}());a.SDK_event.addEventListener("SDKInit",(function(){h.init()})).addEventListener("SDKUnInit",(function(){h.unInit()})),e.exports={InterfaceExports:h.userInterfaceExports()}},function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n(2),a=n(3),l=n(1),u=(n(9),n(8)),d=n(5),h=n(4),f=s.CRVideo,p=s.Ice;s.SendCmd;f.allMemberInfo=[],f.msType={localAudio:11,localVideo:12,localScreen:13,localMedia:14,remoteAudio:21,remoteVideo:22,remoteScreen:23,remoteMedia:24},f.localAudioMSID=11e4,f.localVideoMSID=12e4,f.localScreenMSID=13e4,f.localMediaMSID=14e4,f.remoteAudioMSID=21e4,f.remoteVideoMSID=22e4,f.remoteScreenMSID=23e4,f.remoteMediaMSID=24e4,f.mainVideoID=null,f.VideoWallMode=-1,function(e){var t;t={destroyMeetingConnect:function(){console.crlog("[MEETING] Websockt CRVideo.communicatorIc.destroy..."),e.communicatorIc&&e.communicatorIc.destroy(),e.communicatorIc=null}},e.destroyMeetingConnect=t.destroyMeetingConnect}(f);var _=new l.NewCallBack("CRVideo_CreateMeetingSuccess"),C=new l.NewCallBack("CRVideo_CreateMeetingFail"),g=new l.NewCallBack("CRVideo_EnterMeetingRslt"),y=new l.NewCallBack("CRVideo_UserEnterMeeting"),I=new l.NewCallBack("CRVideo_UserLeftMeeting"),v=new l.NewCallBack("CRVideo_MeetingDropped"),m=new l.NewCallBack("CRVideo_SendIMMsgRslt"),S=new l.NewCallBack("CRVideo_NotifyIMmsg"),E=new l.NewCallBack("CRVideo_StopMeetingRslt"),R=new l.NewCallBack("CRVideo_DestroyMeetingRslt"),b=new l.NewCallBack("CRVideo_MeetingStopped"),w=new l.NewCallBack("CRVideo_NotifyVideoWallStatus"),x=new l.NewCallBack("CRVideo_NotifyMainVideoChanged"),P=new l.NewCallBack("CRVideo_NotifyNickNameChanged"),O=new l.NewCallBack("CRVideo_NotifyMeetingCustomMsg"),D=new l.NewCallBack("CRVideo_SendMeetingCustomMsgRslt"),M=new l.NewCallBack("CRVideo_NotifyVoteDataUpdate");l.SDK_event.addEventListener("MeetingAbnormalDropped",(function(e,t){h.firstJoinMeetingDropped||(h.firstJoinMeetingDropped=!0,k(!0),console.crlog("[Error] MeetingDropped(".concat(e,") ")),v.callback(e))})).addEventListener("tokenExpire",(function(){T("tokenExpire"),k(!0),console.crlog("[Error] MeetingDropped(".concat(a.CRVIDEOSDK_TOKEN_TIMEOUT,") ")),v.callback(a.CRVIDEOSDK_TOKEN_TIMEOUT)})).addEventListener("EnterMeetingSuccess",(function(){h.firstJoinMeetingDropped=!1}));var N={NotifyWindowMode:function(){}};function A(e,t){0==e.RspCode?(f.LIVE_INFO={},f.LIVE_INFO.dataStr=e.CRMTStr.replace(/CRMT[\.|\w]{0,}:/,""),function(e){f.userInfo.headerUrl="",f.userInfo.openId="",f.urlHref=d.server.getServerAddr(),f.DOMAIN_MAIN=d.server.getServerAddr(),console.crlog("[MEETING] CRVideo.initweb"+JSON.stringify({"CRVideo.userInfo":f.userInfo,"CRVideo.urlHref":f.urlHref})),console.crlog("[MEETING] ----- CR__Init -----   (wss)"),s.CR__Init("js",{protocol:d.server.getWebSocketProtocol(),CheckFlash:!1},e)}(t)):(console.crlog("Failed to enterMeeting! errcode:"+e.RspCode),g.callback(a[e.RspCode]||a.CRVideo_UNKNOWERR,t))}s.CR_InitRslt.callback=function(e,t,n){var i=0==e?"success":"fail",r=null==t?"":t;console.crlog("[MEETING] InitRslt Callback: "+i+" "+r),0==e?(console.crlog("[MEETING] CR_InitRslt.callback success!"),f.loginWebMeeting(void 0,void 0,n)):console.crlog("[MEETING] CR_InitRslt.callback fail!")},f.phoneMeetInfo=null,f.loginWebMeeting=function(e,t,n){if(s.CR__UnInit(),t)var i=t;else(i={}).nickname=f.userInfo.nickname||"",i.userId=f.userInfo.userId||"";var r=f.userInfo.openId?f.userInfo.openId:"";s.Cr.crmt=null,f.isExitmeet=!1,console.crlog("[MEETING] ----- CR__Login -----"),s.CR__Login(f.LIVE_INFO.dataStr,e||"",i,void 0,r,n)},s.CR__LoginRslt.callback=function(e,t,n){if(0!==e)return f.destroyMeetingConnect(),void g.callback(e||1,n);f.userInfo.detail=t.myDetail,f.userInfo.termId=t.termId,f.userInfo.detail.nickname=f.userInfo.nickname=t.nickname,f.userInfo.userId=t.userId||f.userInfo.userId,f.allMemberInfo=t.activeMembers,f.allMemberInfo.forEach((function(e){e.termId==t.termId?(e.audioMSID=f.localAudioMSID,e.videoMSID=f.localVideoMSID,e.screenMSID=f.localScreenMSID,e.mediaMSID=f.localMediaMSID,e.videoPushUrl=null,e.screenPushUrl=null,e.mediaPushUrl=null,e.userId=e.userId||f.userInfo.userId,f.selfMember=e):(e.videoMSID=f.remoteVideoMSID++,e.screenMSID=f.remoteScreenMSID++,e.mediaMSID=f.remoteMediaMSID++,e.playUrl={},e.videoComponentDescriptor=[],e.screenComponentDescriptor=[],e.mediaComponentDescriptor=[]),e.userId=null==e.userId?e.nickname:e.userId,e.audioStatus=e.audioStatus.name,e.videoStatus=e.videoStatus.name})),f.windowMode=t.windowMode,f.VideoWallMode=t.confInfo.vwalllo?Number(t.confInfo.vwalllo):-1,f.phoneMeetInfo={phone:t.confInfo.pstnnum,pwd:t.confInfo.pstnpwd},f.isMeeting=!0;var i=f.findUserInfo("termId",t.mainVideoTermID);i&&(f.mainVideoID=i.userId),console.crlog("[MEETING] ----- CR__UpdateAllCameraInfos -----");if(s.CR__UpdateAllCameraInfos("1;CAMERA_FACING_FRONT;0;0\n2;CAMERA_FACING_BACK;0;0\n"),console.crlog("[MEETING] myMemberInfo: ".concat(JSON.stringify({termId:f.selfMember.termId,userId:f.selfMember.userId,nickname:f.selfMember.nickname}))),f.allMemberInfo.length<=10){var r=f.allMemberInfo.reduce((function(e,t){return e+"\n\ttermId: ".concat(t.termId,", userId: ").concat(t.userId,", nickname: ").concat(t.nickname)}),"");console.crlog("[MEETING] allMemberInfo:".concat(r))}else console.crlog("[MEETING] member length: ".concat(f.allMemberInfo.length));l.SDK_event.emitEventListener("EnterMeetingSuccess",t),g.callback(e,n)};var T=function(){if(!f.isExitmeet){console.crlog("[MEETING] ----- CR__Exit ----- : exit"),k(),s.CR__Exit("exit")}};s.CR__ExitRslt.callback=function(e,t){e=0==e?"success":"fail",t=null==t?"":t,console.crlog("[MEETING] ExitRslt Callback："+e+" "+t),s.CR__UnInit()};function k(e){l.SDK_event.emitEventListener("ClearMeetingData");try{f.audioPlayerInfo&&f.audioPlayerInfo.audioPlayerContext&&f.audioPlayerInfo.audioPlayerContext.stop&&f.audioPlayerInfo.audioPlayerContext.stop(),f.allMemberInfo.forEach((function(e){e.userId==f.selfMember.userId?f.pusherInfo&&f.pusherInfo.videoPusherContext&&f.pusherInfo.videoPusherContext.stop&&f.pusherInfo.videoPusherContext.stop():e.videoComponentDescriptor&&e.videoComponentDescriptor.forEach((function(e){e.context.stop()}))}))}catch(e){console.crlog("[Error] clearMeetingData: ".concat(e))}f.CallID="",f.isMeeting=!1,f.phoneMeetInfo=null,f.allMemberInfo=[],f.mainVideoID=null,f.VideoWallMode=-1,h.isScreenUserId=null,f.isExitmeet=!0,e&&f.destroyMeetingConnect()}s.CR__KickoutRslt.callback=function(e,t){console.crlog("[MEETING] KickoutRslt Callback："+e+" "+t)},s.CR__NotifyAllowVideoWall.callback=function(e,t){console.crlog("[MEETING] NotifyAllowVideoWall status: ".concat(e," ,opId: ").concat(t));var n=f.findUserInfo("termId",t),i=n?n.userId:void 0;w.callback(e,i)},s.CR__UserEnter.callback=function(e){if(console.crlog("[MEETING] user: "+e.nickname+" enter meeting; termId is: "+e.termId),console.crlog(e),f.isMeeting){var t=!0;if(f.allMemberInfo.forEach((function(n){n.termId!=e.termId||(t=!1)})),e.termId!==f.userInfo.termId&&t){var n=e;n.videoMSID=f.remoteVideoMSID++,n.screenMSID=f.remoteScreenMSID++,n.mediaMSID=f.remoteMediaMSID++,n.userId=null==e.userId?e.nickname:e.userId,n.audioStatus=e.audioStatus.name,n.videoStatus=e.videoStatus.name,n.playUrl={},n.videoComponentDescriptor=[],n.screenComponentDescriptor=[],n.mediaComponentDescriptor=[],f.allMemberInfo.push(n),y.callback(e.userId)}}},s.CR__UserLeftMeet.callback=function(e,t){console.crlog("[MEETING] UserLeftMeet Callback: id: "+e+",reson: "+t);var n="",i="",r=null;f.allMemberInfo.forEach((function(t,o){e==t.termId&&(n=t.userId,i=t.nickname,r=o)})),e==f.userInfo.termId&&"exit"!==t&&k(),f.allMemberInfo.splice(r,1),n&&null!=r&&(n==f.mainVideoID&&(f.mainVideoID=null,x.callback(null)),console.crlog("[MEETIN] UserId:"+n+",Nickname:"+i+" left meeting,and the reason is:"+t),I.callback(n,t))},s.CR__NotifyNickNameChanged.callback=function(e,t,n){console.crlog("[MEETING] CR__NotifyNickNameChanged callback termId: ".concat(t,",newNickName: ").concat(n));var i=f.findUserInfo("termId",t);if(i){var r=i.nickname,o=i.userId;i.nickname=n,f.userInfo.userId==o&&(f.userInfo.detail.nickname=f.userInfo.nickname=n),P.callback(o,r,n)}};s.CR__UpdateFocusWindow.callback=function(e,t){var n;console.crlog("[MEETING] UpdateFocusWindow callback,mode:".concat(e," ,termId: ").concat(t)),f.windowMode!=e&&(f.windowMode=e,N.NotifyWindowMode(e));var i=f.findUserInfo("termId",t);if(i){if(i.userId===f.mainVideoID)return;n=i.userId,f.mainVideoID=n,console.crlog("[MEETING] UpdateFocusWindow callback userId: ".concat(n)),x.callback(n)}else console.crlog("[MEETING] UpdateFocusWindow callback noMainId"),f.mainVideoID=null,x.callback(null)};s.CR__SendIMMsgRslt.callback=function(e,t,n,i){console.crlog("[MEETING] SendIMMsgRslt Callback Code: ".concat(e,",uuid:").concat(n)),m.callback(n,e,i)},s.CR__ReceiveIMMsg.callback=function(e){var t=e.inMsg,n=f.findUserInfo("termId",e.srcTermId),i=t.msg,r=1e3*t.sendTime,o=n?n.userId:e.srcNickname;console.crlog("[MEETING] NotifyIMmsg(".concat(o," ,").concat(r,")")),S.callback(o,i,r)},s.CR__MeetEnded.callback=function(e){console.crlog("(SDK) Meet ended Callback!"),k(!0);var t=e.nickname||void 0;b.callback(t)};var L=l.base64.decode("Q2xvdWRyb29tTWVldGluZ1NESw==");s.CR__NotifyTerminalMsg.callback=function(e,t,n,i){if("Vote"===e)console.crlog("[MEETING] NotifyTerminalMsg Callback from termId: ".concat(i,", modelu:").concat(e,",json: ").concat(t)),M.callback(t);else if(e===L){console.crlog("[MEETING] NotifyTerminalMsg Callback from termId: ".concat(i,", modelu: MeetingSDK,json: ").concat(t));var r=f.findUserInfo("termId",i);O.callback(r?r.userId:null,t)}};e.exports={EnterMeetingCallBack:A,CRVideo_CreateMeeting:function(e){if(f.LoginOAuth){var t=d.server.getServerAddr()+u.CreateMeeting,n=o(o({},f.LoginOAuth),{},{RequestId:p.generateUUID(),MeetSubject:"SDK",IsRegular:1,AsyncMeetMode:1,NeedPswd:"0"});f.meetSubject="SDK",console.crlog("[MEETING] WebAPI request url: "+t+",data: "+JSON.stringify(l.privacyAttrHide(n))),f.ajax({url:t,type:"POST",data:n,success:function(t){!function(e,t){console.crlog("[MEETING] webAPI CreateMeetingCallBack result: "+JSON.stringify(e));var n={ID:e.MeetID,pswd:e.MeetPswd,pubMeetUrl:e.PublicUrl,subject:f.meetSubject,hostPswd:e.HostPwd};f.pubMeetUrl=e.PublicUrl,0==e.RspCode?(console.crlog("[MEETING] webAPI createMeeting success! meetingID: "+n.ID),_.callback(n,t)):(console.crlog("[MEETING] webAPI createMeeting fail! RspCode: "+e.RspCode+";RspDesc: "+e.RspDesc),C.callback(a[e.RspCode],t))}(t,e)},error:function(e){console.crlog("[MEETING] webAPI createMeeting fail,code: ".concat(e)),C.callback(e||a.CRVideo_UNKNOWERR)}}),f.requestID=n.RequestId}else C.callback(a.CRVideo_CRVIDEOSDK_NOT_LOGIN,e)},CRVideo_EnterMeeting:function(e,t,n,i,r){if(!h.init)return console.crlog("[Error] Please initialize first"),void CRVideo_LoginFail.callback(a.CRVideo_UNKNOWERR,r);f.userInfo={nickname:i,userId:n};var c=d.server.getServerAddr()+u.EnterMeeting;console.crlog("(CMD) CRVideo.EnterMeeting  begin： "+e);var s=o(o({ClientVer:"",RequestId:p.generateUUID(),MeetID:e,MeetPswd:t,NickName:n},f.LoginOAuth),{},{OEMKey:h.OEMKey,PRODUCT:"wxmini",UserType:4});f.requestID=s.RequestId,console.crlog("(CMD) WebAPI SendMsg url:".concat(u.EnterMeeting," ,data: ").concat(JSON.stringify(l.privacyAttrHide(s)))),f.ajax({url:c,type:"POST",data:s,success:function(e){console.crlog("(CMD) WebAPI url:".concat(u.EnterMeeting," callback: ").concat(JSON.stringify(e))),f.enterMeetingInterfaceType=1,A(e,r)},error:function(e){console.crlog("Failed to enterMeeting!"),g.callback(e,r)}})},CRVideo_EnterMeeting2:function(e,t,n,i){if(!h.init)return console.crlog("[Error] Please initialize first"),void CRVideo_LoginFail.callback(a.CRVideo_UNKNOWERR,i);f.userInfo={nickname:n,userId:t};var r=d.server.getServerAddr()+u.EnterMeeting2;console.crlog("(CMD) CRVideo.EnterMeeting2  begin： "+e);var c=o(o({},f.LoginOAuth),{},{ClientVer:"",RequestId:p.generateUUID(),MeetID:e,MeetPswd:"",NickName:t,OEMKey:h.OEMKey,PRODUCT:"wxmini",UserType:4});f.requestID=c.RequestId,console.crlog("(CMD) WebAPI SendMsg url: ".concat(u.EnterMeeting2," ,data: ").concat(JSON.stringify(l.privacyAttrHide(c)))),f.ajax({url:r,type:"POST",data:c,success:function(e){console.crlog("(CMD) WebAPI url: ".concat(u.EnterMeeting2," ,callback: ").concat(JSON.stringify(e))),f.enterMeetingInterfaceType=2,A(e,i)},error:function(e){console.crlog("Failed to enterMeeting!"),g.callback(e,i)}})},CRVideo_ExitMeeting:T,CRVideo_Kickout:function(e){console.crlog("[MEETING] ----- CRVideo_Kickout -----  userId: ".concat(e));var t=f.findUserInfo("userId",e);t&&s.CR__Kickout(t.termId)},CRVideo_GetMemberInfo:function(e){var t;return console.crlog("[MEETING] CRVideo_GetMemberInfo:"+e),f.allMemberInfo.forEach((function(n){e==n.userId&&((t={}).audioStatus=a[n.audioStatus],t.videoStatus=a[n.videoStatus],t.nickname=n.nickname,t.userID=n.userId)})),t},CRVideo_GetAllMembers:function(){var e=[];return f.allMemberInfo.forEach((function(t){var n={};n.userID=t.userId,n.nickname=t.nickname,n.audioStatus=a[t.audioStatus],n.videoStatus=a[t.videoStatus],e.push(n)})),console.crlog("[MEETING] CRVideo_GetAllMembers return data: ",JSON.stringify(e)),e},CRVideo_GetPhoneMeetInfo:function(){return f.phoneMeetInfo},CRVideo_GetMainVideo:function(){return f.mainVideoID},CRVideo_SetMainVideo:function(e){console.crlog("[MEETING] CRVideo_SetMainVideo userId: ".concat(e));var t=f.findUserInfo("userId",e);t&&(console.crlog("[MEETING] ---- CR__SetFocusWindow ---- mode: ".concat(2,",userId: ",e)),s.CR__SetFocusWindow(2,t.termId))},CRVideo_SendIMMsg:function(e,t,n){var i=32767,r="",o=new Conference.IMFont(4278190080,12),c=(new Date).getTime()/1e3;if(t){var a=f.findUserInfo("userId",t);a&&(r=a.nickname,i=a.termId)}var l=s.CR__SendIMMsg(i,r,o,e,c,n);return console.crlog("[MEETING] ----- CR__SendIMMsg -----,taskID: ".concat(l)),console.crlog("[MEETING] ----- SendIMMsg ----- : \r\n"+JSON.stringify({targetID:i,targetNickname:r,font:o,text:"***",sendTime:c,taskID:l})),l},CRVideo_StopMeeting:function(e){console.crlog("[MEETING] CRVideo_StopMeeting"),s.CR__EndConference().then((function(t){var n=t[0];console.crlog("[MEETING] CRVideo_StopMeeting Callback code: ".concat(n)),E.callback(n,e)}))},CRVideo_DestroyMeeting:function(e,t){if(console.crlog("[MEETING] CRVideo_DestroyMeeting MeetId: ".concat(e)),!f.LoginOAuth)return console.crlog("[MEETING] CRVideo_DestroyMeeting Fail: noLogin"),void R.callback(a.CRVideo_CRVIDEOSDK_NOT_LOGIN,t);var n=d.server.getServerAddr()+u.DestroyMeeting,i=o(o({RequestId:p.generateUUID()},f.LoginOAuth),{},{MeetID:e});f.ajax({url:n,type:"post",data:i,success:function(e){console.crlog("[MEETING] CRVideo_DestroyMeeting success: ".concat(JSON.stringify(e))),R.callback(a[e.RspCode]||a.CRVideo_UNKNOWERR,t)},error:function(e){console.crlog("[MEETING] CRVideo_DestroyMeeting fail: ".concat(e)),R.callback(e,t)}})},CRVideo_SendMeetingCustomMsg:function(e,t,n){var i=f.findUserInfo("userId",t);console.crlog("[MEETING] ----- CR__TerminalMsg -----,termId:".concat(i?i.termId:"",",brodcast:").concat(!i)),s.CR__TerminalMsg(L,e,i?i.userId:"",!i,(function(e){D.callback(e,n)}))},CRVideo_CreateMeetingSuccess:_,CRVideo_CreateMeetingFail:C,CRVideo_EnterMeetingRslt:g,CRVideo_UserEnterMeeting:y,CRVideo_UserLeftMeeting:I,CRVideo_MeetingDropped:v,CRVideo_SendIMMsgRslt:m,CRVideo_NotifyIMmsg:S,CRVideo_StopMeetingRslt:E,CRVideo_DestroyMeetingRslt:R,CRVideo_MeetingStopped:b,CRVideo_NotifyVideoWallStatus:w,CRVideo_NotifyMainVideoChanged:x,CRVideo_NotifyNickNameChanged:P,CRVideo_NotifyMeetingCustomMsg:O,CRVideo_SendMeetingCustomMsgRslt:D,CRVideo_NotifyVoteDataUpdate:M,NotifiyMeetRely:N}},function(e,t,n){function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,c,s=[],a=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;a=!1}else for(;!(a=(i=o.call(n)).done)&&(s.push(i.value),s.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{if(!a&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(l)throw r}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var o,c=n(2),s=n(3),a=n(1),l=n(4),u=c.Cr,d=(c.Ice,c.CRVideo);(o=d).findMemberInfo=function(e){var t=!1;return o.allMemberInfo.forEach((function(n){if("termId"==e.use&&n.termId==e.value)switch(e.want){case"videoStatus":t=n.videoStatus||"";break;case"audioStatus":t=n.audioStatus||"";break;case"userId":t=n.userId||"";break;case"nickname":t=n.nickname||"";break;default:t=""}if("userId"==e.use&&n.userId==e.value)switch(e.want){case"videoStatus":t=n.videoStatus||"";break;case"audioStatus":t=n.audioStatus||"";break;case"termId":t=n.termId||"";break;case"nickname":t=n.nickname||"";break;case"videoContext":t=e.value==d.userInfo.userId?d.pusherInfo.videoPusherContext:n.videoPlayerContext;break;default:t=""}})),t},o.findUserInfo=function(e,t){return d.allMemberInfo.find((function(n){return n[e]==t}))},o.setMemberAllComponentDescriptor=function(e,t){e.forEach((function(e){e.context[t]()}))};var h=new a.NewCallBack("CRVideo_AudioStatusChanged"),f=new a.NewCallBack("CRVideo_MicEnergyUpdate"),p=new a.NewCallBack("CRVideo_VideoStatusChanged"),_=new a.NewCallBack("CRVideo_VideoDevChanged"),C=new a.NewCallBack("CRVideo_NotifyAllAudioClose"),g=new a.NewCallBack("CRVideo_GetScreenShareInfoRslt"),y=new a.NewCallBack("CRVideo_GetAllMarkDataRslt"),I=new a.NewCallBack("CRVideo_NotifyScreenShareStarted"),v=new a.NewCallBack("CRVideo_NotifyScreenShareStopped"),m=new a.NewCallBack("CRVideo_GetMediaInfoRslt"),S=new a.NewCallBack("CRVideo_NotifyMediaStart"),E=new a.NewCallBack("CRVideo_NotifyMediaPause"),R=new a.NewCallBack("CRVideo_NotifyMediaStop"),b=new a.NewCallBack("CRVideo_VideoRequestFullscreenRslt"),w=new a.NewCallBack("CRVideo_VideoExitFullscreenRslt"),x=new a.NewCallBack("CRVideo_OpenVideoFailRslt"),P=new a.NewCallBack("CRVideo_OpenMicFailRslt");a.SDK_event.addEventListener("appShow",(function(){function e(e){e&&e.stop({success:function(){e.start&&e.start()||e.play&&e.play()}})}function t(e){e.context&&e.context.stop({success:function(){e.context.play()}})}d.isMeeting&&"android"===l.deviceInfo.platform&&(d.pusherInfo&&d.pusherInfo.videoPusherContext&&e(d.pusherInfo.videoPusherContext),d.audioPlayerInfo&&d.audioPlayerInfo.audioPlayerContext&&e(d.audioPlayerInfo.audioPlayerContext),d.allMemberInfo.forEach((function(e){e.videoComponentDescriptor&&e.videoComponentDescriptor.forEach(t),e.screenComponentDescriptor&&e.screenComponentDescriptor.forEach(t),e.mediaComponentDescriptor&&e.mediaComponentDescriptor.forEach(t)})))}));var O=!1;c.CR__NotifySetOpenedCameraNumber.callback=function(e,t){if(d.isMeeting){console.crlog("[MEDIA] NotifySetOpenedCameraNumber Callback：termID:"+e+",camList:"+t);var n=d.findUserInfo("termId",e);if(n&&(n.camList=t,d.selfMember.termId!==e)){var i,r,o=t.split(";").map((function(e){return Number(e)}));o.length&&(i=o.shift(),r=o);var s=n.subscribeCams,a=[];n.videoComponentDescriptor.forEach((function(e){e.defaultSub&&(e.camId!==i&&n.playUrl.video&&n.playUrl.video[i]&&e.componentInstantiation.notifyPullSrcInfo(n.playUrl.video[i],(function(){e.context.play()})),e.camId=i),-1===a.indexOf(e.camId)&&a.push(e.camId)}));for(var l=0;l<a.length;l++)s.includes(a[l])||(console.crlog("[MEDIA] ----- CR__BatchSubscribeVideo2 ----- termId:"+e+" camId: "+a[l]+" , VIDEO_SS_1M"),c.CR__BatchSubscribeVideo2(e,+a[l],"VIDEO_SS_1M"));for(l=0;l<s.length;l++)a.includes(s[l])||(console.crlog("[MEDIA] ----- CR__BatchSubscribeVideo2 ----- termId:"+e+" camId: "+s[l]+" , VIDEO_SS_NULL"),c.CR__BatchSubscribeVideo2(e,+s[l],"VIDEO_SS_NULL"));n.subscribeCams=a,_.callback(n.userId,r)}}},c.CR__BatchSubscribeVideo2Rslt.callback=function(e,t){e=0==e?"success":"fail",t=null==t?"":t,console.crlog("[MEDIA] BatchSubscribeVideo2Rslt Callback: "+e+" "+t)},c.CR__VideoAllocRawExt.callback=function(e,t,n,i){var r="VCT_CAMERA"==t.contentType._name?"video":"VCT_SCREEN"==t.contentType._name?"screen":"VCT_FILM"==t.contentType._name?"media":void 0;if(n){var o="",c=i.get("rtmp_publish")||"";console.crlog("rtmpPublish: "+c),o=c.indexOf("rtmp://")>-1?c:"rtmp://"+d.accessSvr+":"+u.crmt.WXMINRTMPPORT+"/crmt/"+c,console.crlog("[MEDIA] Rtmp push url: "+o),d.pusherInfo.pushUrl=o,d.pusherInfo.videoComponentDescriptor.setLivePusherOptions("url",o).then((function(){var e=setTimeout((function(){console.crlog("[Error] live-pusher exception"),"android"===l.deviceInfo.platform&&d.pusherInfo.videoComponentDescriptor.reset()}),1e3);d.pusherInfo.videoComponentDescriptor.context.start({success:function(){console.crlog("[MEDIA] live-pusher start Success")},fail:function(){console.crlog("[Error] live-pusher start Fail")},complete:function(){console.crlog("[MEDIA] live-pusher start Complete"),clearTimeout(e)}})})),console.crlog("[MEDIA] ----- ice_response ----- : "+d.localVideoMSID),e.ice_response(d.localVideoMSID),d.selfMember.videoMSID=d.localVideoMSID,d.localVideoMSID++}else{var s="",a=i.get("rtmp_play");s=a.indexOf("rtmp://")>-1?a:"rtmp://"+d.accessSvr+":"+u.crmt.WXMINRTMPPORT+"/crmt/"+a,console.crlog("[MEDIA] Rtmp play url: "+s),function n(){var i=d.findUserInfo("termId",t.srcTermID);if(i){if(i.termId==t.srcTermID){var o="video"===r&&(i.videoMSID=d.remoteVideoMSID++)||"screen"===r&&(i.screenMSID=d.remoteScreenMSID++)||"media"===r&&(i.mediaMSID=d.remoteMediaMSID++);if(console.crlog("[MEDIA] ----- ice_response ----- : "+o),e.ice_response(o),"video"===r){i.playUrl[r]=i.playUrl[r]||{};var c=+t.cameraID%100;i.playUrl[r][o]={url:s,camId:c}}else i.playUrl[r]=s}}else setTimeout(n,1e3)}()}};var D=[];c.CR__AudioAllocRawExt.callback=function(e,t,n){if(d.audioPlayerInfo){var i="",r="",o=n.get("rtmp_play"),s=n.get("rtmp_publish");o?(o.indexOf("rtmp://")>-1?i=o:-1==o.indexOf("rtmp://")&&(i="rtmp://"+d.accessSvr+":"+u.crmt.WXMINRTMPPORT+"/crmt/"+o),console.crlog("[MEDIA] AudioAllocRawExt get audio play url and set audioPlayerInfo: ".concat(i)),d.audioPlayerInfo.audioPlayUrl=i,D.push({msId:d.remoteAudioMSID,rtmp:i}),console.crlog("[MEDIA] ----- ice_response ----- : "+d.remoteAudioMSID),e.ice_response(d.remoteAudioMSID),d.remoteAudioMSID++):console.crlog("[MEDIA] AudioAllocRawExt do not get audio play url..."),s?(s.indexOf("rtmp://")>-1?r=s:-1==s.indexOf("rtmp://")&&(r="rtmp://"+d.accessSvr+":"+u.crmt.WXMINRTMPPORT+"/crmt/"+s),d.pusherInfo.pushUrl=r,console.crlog("[MEDIA] AudioAllocRawExt get push url and set pusherInfo: ".concat(r)),d.pusherInfo.videoComponentDescriptor.setLivePusherOptions("url",r).then((function(){d.pusherInfo.videoComponentDescriptor.context.start()})),console.crlog("[MEDIA] ----- ice_response ----- : "+d.localAudioMSID),e.ice_response(d.localAudioMSID),d.localAudioMSID++):console.crlog("[MEDIA] AudioAllocRawExt do not get push url...")}else setTimeout(c.CR__AudioAllocRawExt.callback.bind(this,e,t,n),1e3)},c.CR__NotifyCloseAll.callback=function(e){console.crlog("[MEDIA] CR__NotifyCloseAll callback ,termId: ".concat(e));var t=void 0;d.allMemberInfo.forEach((function(n){"AOPEN"==n.audioStatus&&n.termId!=e&&(n.userId==d.selfMember.userId&&(d.pusherInfo.videoComponentDescriptor&&d.pusherInfo.videoComponentDescriptor.setLivePusherOptions("muted",!0),console.crlog("[MEDIA] ----- CR__CloseMicEx ----- : "+n.termId),c.CR__CloseMicEx(n.termId)),n.audioStatus="ACLOSE"),n.termId===e&&(t=n.userId)})),C.callback(t)};var M,N=function(){var e=!1,t=null;function n(){t&&(clearTimeout(t),t=null)}return a.SDK_event.addEventListener("ClearMeetingData",(function(){n()})),function(i){console.crlog("[MEDIA] 推流状态变化code：".concat(i.detail.code,",").concat(i.detail.message)),-1303!==i.detail.code&&-1301!==i.detail.code||e?1102===i.detail.code?(n(),t=setTimeout((function(){d.pusherInfo.videoPusherContext.stop({success:function(){d.pusherInfo.videoPusherContext.start()}})}),1e4)):1005===i.detail.code&&n():(e=!0,d.pusherInfo.videoComponentDescriptor.setLivePusherOptions("enableCamera",!1).then((function(t){d.pusherInfo.videoComponentDescriptor.setLivePusherOptions("enableCamera",!0),e=!1})))}}(),A=function(){var e,t,n=!0,i=0,r=0,o=null,s=0;return a.SDK_event.addEventListener("ClearMeetingData",(function(){clearTimeout(e),n=!0,i=0,r=0,o=null,s=0,t=null})),function(a){var l=a.detail.info;if(n){n=!1;var u={};t&&(u.videoBitrateAverage=parseInt(t.videoBitrate/s),u.audioBitrateAverage=parseInt(t.audioBitrate/s),u.netSpeedAverage=parseInt(t.netSpeed/s),u.videoFPSAverage=parseInt(t.videoFPS/s),t=null,s=0),console.crlog("[MEDIA] live-pusher net state: ".concat(JSON.stringify(Object.assign(l,u)))),e=setTimeout((function(){n=!0}),1e4)}else!function(e){s++,(t=t||{}).videoBitrate=(t.videoBitrate||0)+e.videoBitrate,t.audioBitrate=(t.audioBitrate||0)+e.audioBitrate,t.videoFPS=(t.videoFPS||0)+e.videoFPS,t.netSpeed=(t.netSpeed||0)+e.netSpeed}(l);var h=d.selfMember.videoMSID;i===l.videoWidth&&r===l.videoHeight&&o===h||!d.isMeeting||(i=l.videoWidth,r=l.videoHeight,o=h,console.crlog("[MEDIA] CR__VideoResolutionReport(".concat(o,",").concat(i,",").concat(r,")")),c.CR__VideoResolutionReport(o,i,r))}}(),T=(M={},a.SDK_event.addEventListener("ClearMeetingData",(function(){for(var e in M)clearTimeout(M[e]),M[e]=null,delete M[e]})),function(e,t,n,i){if(2005!=t.detail.code&&2028!=t.detail.code)if(console.crlog("拉流状态userid:".concat(e,", type: ").concat(n,",code：").concat(t.detail.code,",").concat(t.detail.message)),2001==t.detail.code){var r="play_".concat(e,"_").concat(n);a.SDK_event.emitEventListener(r).removeAllEvent(r)}else 2103===t.detail.code?(clearTimeout(M[i]),M[i]=setTimeout((function(){var t=n+"ComponentDescriptor",r=d.findUserInfo("userId",e);if(r&&r[t]){var o=r[t].find((function(e){return e.componentId===i}));o&&o.context.stop({success:function(){o.context.play()}})}}),1e4)):2003===t.detail.code?M[i]&&(clearTimeout(M[i]),M[i]=null,delete M[i]):"screen"===n&&("ios"===l.deviceInfo.platform&&2008===t.detail.code||"android"===l.deviceInfo.platform&&2002===t.detail.code)&&(console.crlog("[MEDIA] ----- CR__AskForNewIFrame -----"),c.CR__AskForNewIFrame())});c.CR__NotifyRTMPStreamPublishFinished.callback=function(e,t,n){if(console.crlog("[MEDIA] CR__NotifyRTMPStreamPublishFinished callback ,MSID: "+t),22==t.toString().slice(0,2)){var i=d.allMemberInfo.find((function(e){return e.playUrl&&e.playUrl.video&&e.playUrl.video[t]}));if(i){var r=function(n){clearTimeout(u),u=null,console.crlog("[MEDIA] ice_response clear msid: ".concat(t,",ps: ").concat(n)),e.ice_response(),a.SDK_event.removeEventListener("ClearMeetingData",s.clearData).removeEventListener("play_".concat(i.userId,"_video"),s.normal)},o=+i.camList.split(";").shift();i.videoComponentDescriptor.forEach((function(e){(e.camId===i.playUrl.video[t].camId||-1===e.camId&&o===i.playUrl.video[t].camId)&&e.componentInstantiation.notifyPullSrcInfo(i.playUrl.video[t].url,(function(){e.context.play()}))}));var c=i.playUrl.video[t].camId;i.playUrl.video[c]=i.playUrl.video[t].url,delete i.playUrl.video[t];var s={timeout:r.bind(null,"timeout"),clearData:r.bind(null,"clearData"),normal:r.bind(null,"normal")},u=setTimeout(s.timeout,1e4);a.SDK_event.addEventListener("ClearMeetingData",s.clearData).addEventListener("play_".concat(i.userId,"_video"),s.normal)}}else if(21==t.toString().slice(0,2)){var h=d.audioPlayerInfo.audioPlayUrl;d.audioPlayerInfo.componentDescriptor&&d.audioPlayerInfo.componentDescriptor.notifyPullSrcInfo(h),console.crlog("[MEDIA] ice_response clear msid: ".concat(t)),e.ice_response()}else if(23==t.toString().slice(0,2)){var f=d.findUserInfo("screenMSID",t);if(f){var p=function(n){clearTimeout(_),_=null,console.crlog("[MEDIA] ice_response clear msid: ".concat(t,",ps: ").concat(n)),e.ice_response(),a.SDK_event.removeEventListener("ClearMeetingData",s.clearData).removeEventListener("play_".concat(f.userId,"_screen"),s.normal)};l.isScreenUserId=f.userId,I.callback(f.userId);s={timeout:p.bind(null,"timeout"),clearData:p.bind(null,"clearData"),normal:p.bind(null,"normal")};var _=setTimeout(s.timeout,6e4);a.SDK_event.addEventListener("ClearMeetingData",s.clearData).addEventListener("play_".concat(f.userId,"_screen"),s.normal)}}else if(24==t.toString().slice(0,2)){var C=d.findUserInfo("mediaMSID",t);if(C){var g=function(n){clearTimeout(y),y=null,console.crlog("[MEDIA] ice_response clear msid: ".concat(t,",ps: ").concat(n)),e.ice_response(),a.SDK_event.removeEventListener("ClearMeetingData",s.clearData)};C.mediaComponentDescriptor.forEach((function(e){e.componentInstantiation.notifyPullSrcInfo(C.playUrl.media,(function(){e.context.play()}))}));s={timeout:g.bind(null,"timeout"),clearData:g.bind(null,"clearData"),normal:g.bind(null,"normal")};var y=setTimeout(s.timeout,6e4);a.SDK_event.addEventListener("ClearMeetingData",s.clearData).addEventListener("play_".concat(C.userId,"_media"),s.normal)}}},c.CR__Free.callback=function(e){console.crlog("[MEDIA] Free Callback: MSID is "+e);var t=e.toString().substr(0,2);if(t==d.msType.localAudio)d.isAudioFree=!0;else if(t==d.msType.remoteVideo);else if(t==d.msType.remoteAudio)if(D[D.length-1].msId==e){D.pop();var n=D[D.length-1];console.crlog("[MEDIA] Free restore player options src:"+n.rtmp),d.audioPlayerInfo.componentDescriptor&&d.audioPlayerInfo.componentDescriptor.notifyPullSrcInfo(n.rtmp)}else D.shift()},c.CR__AskForMicRslt.callback=function(e,t){e=0==e?"success":"fail",t=null==t?"":t,console.crlog("[MEDIA] AskForMicRslt Callback："+e+" "+t)},c.CR__OpenMicExRslt.callback=function(e,t){var n=0==e?"success":"fail",i=null==t?"":t;console.crlog("[MEDIA] OpenMicExRslt Callback："+n+" "+i)},c.CR__StopVideoRslt.callback=function(e,t){e=0==e?"success":"fail",t=null==t?"":t,console.crlog("[MEDIA] StopVideoRslt Callback："+e+" "+t)},c.CR__CloseMicExRslt.callback=function(e,t){e=0==e?"success":"fail",t=null==t?"":t,console.crlog("[MEDIA] CloseMicExRslt Callback："+e+" "+t)},c.CR__AudioUpdateStatus.callback=function(e,t,n){var i=d.findUserInfo("termId",e);if(i){var r=i.nickname,o=i.audioStatus,c=i.userId;console.crlog("[MEDIA] CR__AudioUpdateStatus.callback, userId: "+c+",nickName:"+r+" ,status:"+t.name+",opId:"+n),i.audioStatus=t.name,i.userId==d.userInfo.userId&&(d.audioStatusNotifyAfterSetAudioDeviceStatus?(d.audioStatusNotifyAfterSetAudioDeviceStatus=!1,O&&"ACLOSE"==t.name&&(k(d.selfMember.userId),O=!1)):"ACLOSE"==t.name?(d.isAudioFree=!0,d.pusherInfo.videoComponentDescriptor&&d.pusherInfo.videoComponentDescriptor.setLivePusherOptions("muted",!0)):"AOPEN"==t.name&&(d.isAudioFree=!1,d.pusherInfo.videoComponentDescriptor&&d.pusherInfo.videoComponentDescriptor.setLivePusherOptions("muted",!1))),h.callback(c,s[o],s[t.name])}},c.CR__VideoUpdateStatus.callback=function(e,t,n){var i=d.findUserInfo("termId",e);if(i){var r=i.userId,o=i.nickname,c=i.videoStatus;console.crlog("[MEDIA] CR__VideoUpdateStatus.callback, userId: "+r+",nickName:"+o+" ,status: "+t.name+" ,opId: "+n),i.videoStatus=t.name,i.userId==d.userInfo.userId?"VCLOSE"==t.name?d.pusherInfo.videoComponentDescriptor&&d.pusherInfo.videoComponentDescriptor.setLivePusherOptions("enableCamera",!1):"VOPEN"==t.name&&d.pusherInfo.videoComponentDescriptor&&d.pusherInfo.videoComponentDescriptor.setLivePusherOptions("enableCamera",!0):"VCLOSE"==t.name?(console.crlog("Stop video player... "+r+",nickName:"+o),d.setMemberAllComponentDescriptor(i.videoComponentDescriptor,"stop")):"VOPEN"==t.name&&console.crlog("[MEDIA] Start video player... userId:"+r+",nickName:"+o),p.callback(r,s[c],s[t.name])}},c.CR__UpdateVoiceEnergy.callback=function(e){var t=e._head._key,n=e._head._value,i=null,r=0,o=d.allMemberInfo.find((function(e){return e.termId===t}));o&&(i=o.userId,r=o.voiceEnergy||0,o.voiceEnergy=n,i&&f.callback(i,r,n))},c.CR__NotifyOpenVideo.callback=function(){console.crlog("[MEDIA] CR__NotifyOpenVideo.callback"),console.crlog("[MEDIA] ----- CRVideo_OpenVideo ----- userID:"+d.userInfo.userId),L(d.userInfo.userId)},c.CR__DisableSendVideo2Internet.callback=function(e){console.crlog("[MEDIA] DisableSendVideo2Internet Callback：camId-----"+e)},c.CR__EnableSendVideo2Internet.callback=function(e){console.crlog("[MEDIA] EnableSendVideo2Internet Callback：camId-----"+e)},c.CR__EnableUpload.callback=function(e,t){console.crlog("[MEDIA] CR__EnableUpload callback, camID:"+e+",bupload:"+t)};var k=function(e){if(console.crlog("[MEDIA] CRVideo_OpenMic: "+e),!d.audioStatusNotifyAfterSetAudioDeviceStatus||e!=d.selfMember.userId)return new Promise((function(t,n){var i=d.findUserInfo("userId",e);i||(console.crlog("[MEDIA] CRVideo_OpenMic user inexistence"),n()),e==d.userInfo.userId?d.pusherInfo.videoComponentDescriptor.setLivePusherOptions("muted",!1).then((function(e){console.crlog("[MEDIA] ----- CR__OpenMicEx -----"),c.CR__OpenMicEx(i.termId),t()})).catch((function(e){n(e)})):(console.crlog("[MEDIA] ----- CR__OpenMicEx -----"),c.CR__OpenMicEx(i.termId),t())}));O=!0};c.CR__CloseAllRslt.callback=function(e,t){console.crlog("[MEDIA] CloseAllRslt Callback："+e+" "+t)};var L=function(e){return new Promise((function(t,n){if(console.crlog("[MEDIA] CRVideo_OpenVideo："+e),e==d.userInfo.userId)d.pusherInfo.videoComponentDescriptor.setLivePusherOptions("enableCamera",!0).then((function(e){console.crlog("[MEDIA] ----- CR__StartVideo -----"),c.CR__StartVideo(),t()})).catch((function(e){n(e)}));else{var i=d.findMemberInfo({use:"userId",want:"termId",value:e});console.crlog("[MEDIA] ----- CR__ReqOpenVideo ----- : "+i),c.CR__ReqOpenVideo(i),t()}}))};c.CR__StartVideoRslt.callback=function(e,t){e=0==e?"success":"fail",t=null==t?"":t,console.crlog("[MEDIA] StartVideoRslt Callback："+e+" "+t)};c.CR__NotifyUpdateAllCameraInfos.callback=function(e,t){if(d.isMeeting){var n=d.findUserInfo("termId",e);n&&(console.crlog("[MEDIA] CR__NotifyUpdateAllCameraInfos userId: ".concat(n.userId)),n.allCams=t.split("\n").slice(0,-1))}};c.CR__GetScreenShareInfoRslt.callback=function(e,t,n){console.crlog("[MEDIA] CR__GetScreenShareInfoRslt Callback: "+e+" "+t),g.trigger(e,n)},c.CR__GetAllMarkDataRslt.callback=function(e,t){console.crlog("[MEDIA] CR__GetAllMarkDataRslt Callback: "+e),y.trigger(e,t)},c.CR__NotifyStopScreenShare.callback=function(e){var t=d.findUserInfo("termId",e);t&&(console.crlog("[MEDIA] NotifyStopScreenShare Callback: ".concat(t.userId,",userName: ").concat(t.nickname)),t.playUrl.screeb=null,d.setMemberAllComponentDescriptor(t.screenComponentDescriptor,"stop"),l.isScreenUserId=null,v.callback(t.userId)),d.isRemoteScreenShare=!1};var U={};!function(e,t){var n=null;function i(){n={state:2}}i(),t.GetMediaInfo=function(){console.crlog("[MEDIA] CR__GetMediaInfo"),e.CR__GetMediaInfo()},e.CR__NotifyStartPlayMedia.callback=function(e,t){var n=d.findUserInfo("termId",e);n&&(console.crlog("[MEDIA] NotifyStartPlayMedia Callback: ".concat(n.userId,",userName: ").concat(n.nickname)),S.callback(n.userId))},e.CR__NotifyPausePlayMedia.callback=function(e,t){var n=d.findUserInfo("termId",e);n&&(console.crlog("[MEDIA] NotifyPausePlayMedia Callback: ".concat(n.userId,",userName: ").concat(n.nickname,", pause: ").concat(t)),E.callback(n.userId,Number(t)))},e.CR__NotifyStopPlayMedia.callback=function(e){i();var t=d.findUserInfo("termId",e);t&&(delete t.playUrl.media,console.crlog("[MEDIA] NotifyStopPlayMedia Callback: ".concat(t.userId,",userName: ").concat(t.nickname)),R.callback(t.userId))},e.CR__GetMediaInfoRslt.callback=function(e,t,r){if(e)i();else{var o=d.findUserInfo("termId",r.termid);console.crlog("[MEDIA] CR__GetMediaInfoRslt Callback: ".concat(o&&o.userId,",userName: ").concat(o&&o.nickname,",state: ").concat(r.state)),n={mediaName:(c=r.mediaName,c.replace(/(.*\/)*([^.]+)/gi,"$2")),state:r.state,userId:o&&o.userId}}var c;m.callback(e,n)}}(c,U),e.exports={CreateVideoPlayerContext:function(e,t,n,i,r,o){console.crlog("[MEDIA] CreateVideoPlayerContext userId: ".concat(i,",type: ").concat(t,",componentId: ").concat(n));var s=d.findUserInfo("userId",i);if(s){var a,l,u=wx.createLivePlayerContext(n,e);if(r){r=+r;var h=+s.camList.split(";")[0];l=-1===r?h:r}switch(t){case"video":if(a="videoComponentDescriptor",s.playUrl.video&&s.playUrl.video[l])e.notifyPullSrcInfo(s.playUrl.video[l],(function(){u.play()}));else if(-1===s.subscribeCams.indexOf(l)){if(-1==+r&&!l)return console.crlog("[MEDIA] Not find default camId, termId:".concat(s.termId," ,camId: ").concat(r)),s[a].push({context:u,componentInstantiation:e,componentId:n,camId:l,defaultSub:!0}),u;s.subscribeCams.push(l),console.crlog("[MEDIA] ----- CR__BatchSubscribeVideo2 -----  termId:".concat(s.termId," ,camId:").concat(l," , definition: ").concat(o)),c.CR__BatchSubscribeVideo2(s.termId,l,o)}break;case"screen":a="screenComponentDescriptor",e.notifyPullSrcInfo(s.playUrl.screen,(function(){u.play()}));break;case"media":s.playUrl.media&&e.notifyPullSrcInfo(s.playUrl.media,(function(){u.play()})),console.crlog("[MEDIA] ----- CR__SubscribeMedia -----"),c.CR__SubscribeMedia(!0),a="mediaComponentDescriptor";break;default:return void console.crlog("[MEDIA] !!! type is not default")}return s[a].push({context:u,componentInstantiation:e,componentId:n,camId:l,defaultSub:-1===r}),u}},CreateAudioPlayerContext:function(e,t){console.crlog("[MEDIA] CreateAudioPlayerContext");var n=wx.createLivePlayerContext(t,e);return d.audioPlayerInfo={audioPlayerContext:n,componentDescriptor:e,componentId:t},n},CreateVideoPusherContext:function(e,t,n){console.crlog("[MEDIA] CreateVideoPusherContext"),O=!1;var i=getCurrentPages();d.pusherThis=i[i.length-1];var r,o,s=wx.createLivePusherContext();return d.pusherInfo={},d.pusherInfo.videoComponentDescriptor=e,d.pusherInfo.videoPusherContext=s,o=[r=1,r],console.crlog("[MEDIA] ----- CR__SetOpenedCameraNumber ----- : "+JSON.stringify(o)),c.CR__SetOpenedCameraNumber(o),d.allMemberInfo.forEach((function(e){e.userId==d.userInfo.userId&&(e.defaultCam=r)})),console.crlog("[MEDIA] ----- CR__SetVideoDeviceStatus true -----"),c.CR__SetVideoDeviceStatus(!0),console.crlog("[MEDIA] ----- CR__SetAudioDeviceStatus true -----"),c.CR__SetAudioDeviceStatus(!0),d.audioStatusNotifyAfterSetAudioDeviceStatus=!0,t&&(console.crlog("[MEDIA] ----- CR__StartVideo -----"),c.CR__StartVideo()),n&&(O=!0),s},GetAudioPlayType:function(){try{return d.audioPlayerInfo.componentDescriptor.data.RTCAudioPlayer.soundMode||"speaker"}catch(e){return"speaker"}},DestoryVideoPlayerContext:function(e,t,n){console.crlog("[MEDIA] DestoryVideoPlayerContext userId: ".concat(n,",type: ").concat(t,",ComponenId: ").concat(e));var i={video:"videoComponentDescriptor",media:"mediaComponentDescriptor",screen:"screenComponentDescriptor"},r=d.findUserInfo("userId",n);if(r&&"video"==t){var o=r.videoComponentDescriptor.find((function(t){return e===t.componentId}));if(!o)return;var s=o.camId;r.videoComponentDescriptor.filter((function(e){return s===e.camId})).length<=1&&(r.subscribeCams=r.subscribeCams.filter((function(e){return s!=e})),r.playUrl&&r.playUrl.video&&delete r.playUrl.video[s],console.crlog("[MEDIA] ----- CR__BatchSubscribeVideo2 -----  termId:".concat(r.termId," ,camId:").concat(s," , 'VIDEO_SS_NULL'")),c.CR__BatchSubscribeVideo2(r.termId,s,"VIDEO_SS_NULL"))}if(r&&r[i[t]]){var a=r[i[t]],l=a.findIndex((function(t){return e===t.componentId}));l>-1&&a.splice(l,1)}},DestoryAudioPlayerContext:function(){console.crlog("[MEDIA] DestoryAudioPlayerContext"),d.audioPlayerInfo=null},DestoryVideoPusherContext:function(){console.crlog("[MEDIA] DestoryVideoPusherContext"),d.pusherInfo=null},UpdateCamDefinition:function(e,t,n){var i=d.findUserInfo("userId",e);if(i){var r=+t;if(-1===r)r=+i.camList.split(";")[0];console.crlog("[MEDIA] ----- UpdateCamDefinition -----  termId:".concat(i.termId," ,camId:").concat(r," , definition: ").concat(n)),c.CR__BatchSubscribeVideo2(i.termId,r,n)}},CRVideo_OpenVideo:L,CRVideo_CloseVideo:function(e){if(e==d.userInfo.userId)d.pusherInfo.videoComponentDescriptor.setLivePusherOptions("enableCamera",!1),d.pusherInfo.videoPusherContext.stop({success:function(){d.pusherInfo.videoPusherContext.start()}}),console.crlog("[MEDIA] ----- CR__StopVideo -----"),c.CR__StopVideo();else{var t=d.findMemberInfo({use:"userId",want:"termId",value:e});console.crlog("[MEDIA] ----- CR__StopVideoEx ----- : "+t),c.CR__StopVideoEx(t)}},CRVideo_OpenMic:k,CRVideo_CloseMic:function(e){if(console.crlog("[MEDIA] CRVideo_CloseMic: "+e),!d.audioStatusNotifyAfterSetAudioDeviceStatus||e!=d.selfMember.userId){var t=d.findUserInfo("userId",e);return t?new Promise((function(n,i){if(e==d.userInfo.userId)d.pusherInfo.videoComponentDescriptor.setLivePusherOptions("muted",!0),console.crlog("[MEDIA] ----- CR__CloseMicEx ----- : "+d.userInfo.termId),c.CR__CloseMicEx(d.userInfo.termId),n();else{var r=t.termId;console.crlog("[MEDIA] ----- CR__CloseMicEx ----- : "+r),c.CR__CloseMicEx(r)}})):void 0}O=!1},CRVideo_SetAllAudioClose:function(){c.CR__CloseAll()},CRVideo_SetDefaultVideo:function(e,t){e==d.userInfo.userId&&d.pusherInfo.videoPusherContext.switchCamera({success:function(e){console.crlog("[MEDIA] switchCamera success...")},fail:function(e){console.crlog("[MEDIA] switchCamera fail...")}})},CRVideo_GetDefaultVideo:function(e){if(e==d.userInfo.userId)return 1;var t=null,n=d.allMemberInfo.find((function(t){return t.userId===e}));if(n){var i=n.camList.match(/^(\d+);/);t=i&&+i[1]}return t},CRVideo_GetAllVideoInfo:function(e){var t=[],n=d.allMemberInfo.find((function(t){return t.userId===e}));if(n)for(var r=n.allCams,o=0;o<r.length;o++){var c=i(r[o].split(";"),2),s=c[0],a=c[1];t.push({videoID:+s,videoName:a})}return t},CRVideo_GetWatchableVideos:function(e){var t,n=[];if(e){var i=d.allMemberInfo.find((function(t){return t.userId===e}));if(!i)return null;t=[i]}else t=d.allMemberInfo;for(var r=function(e){var i=t[e];if("VOPEN"!==i.videoStatus)return"continue";var r=i.camList.split(";");r.shift(),r.forEach((function(e){n.push({userID:i.userId,videoID:+e})}))},o=0;o<t.length;o++)r(o);return n},CRVideo_SetBeautifyFace:function(e,t){e==d.userInfo.userId&&((t.beauty||0==t.beauty)&&d.pusherInfo.videoComponentDescriptor.setLivePusherOptions("beauty",t.beauty),(t.whiteness||0==t.whiteness)&&d.pusherInfo.videoComponentDescriptor.setLivePusherOptions("whiteness",t.whiteness))},CRVideo_GetMediaInfo:U.GetMediaInfo,CRVideo_GetScreenInfo:function(){return l.isScreenUserId},CRVideo_GetScreenShareInfo:function(){console.crlog("[MEDIA] GetScreenShareInfo"),c.CR__GetScreenShareInfo()},CRVideo_GetAllMarkData:function(e){console.crlog("[MEDIA] GetAllMarkData"),c.CR__GetAllMarkData(e)},CRVideo_BroadcastLivePusher:N,CRVideo_BroadcastLivePusherNet:A,CRVideo_BroadcastLivePlayer:T,CRVideo_BroadcastAudioPlayer:function(e,t){2005!=e.detail.code&&2028!=e.detail.code&&console.crlog("音频状态变化code：".concat(e.detail.code,",").concat(e.detail.message))},CRVideo_VideoRequestFullscreen:function(e,t){e.requestFullScreen({direction:t,success:function(e){b.callback(0,e)},fail:function(e){console.log("[MEDIA] $err"),b.callback(1,e)}})},CRVideo_VideoExitFullscreen:function(e){e.exitFullScreen({success:function(e){w.callback(0,e)},fail:function(e){console.log("[MEDIA] $err"),w.callback(1,e)}})},CRVideo_PreventBlackScreen:function(e){d.allMemberInfo&&d.allMemberInfo.forEach((function(t){t.userId===d.userInfo.userId?d.pusherInfo&&d.pusherInfo.videoComponentDescriptor&&d.pusherInfo.videoComponentDescriptor.preventBlackScreen(e):t.videoComponentDescriptor&&t.videoComponentDescriptor.forEach((function(t){t.componentInstantiation.preventBlackScreen(e)}))}))},CRVideo_VideoStatusChanged:p,CRVideo_VideoDevChanged:_,CRVideo_AudioStatusChanged:h,CRVideo_MicEnergyUpdate:f,CRVideo_NotifyAllAudioClose:C,CRVideo_GetScreenShareInfoRslt:g,CRVideo_GetAllMarkDataRslt:y,CRVideo_NotifyScreenShareStarted:I,CRVideo_NotifyScreenShareStopped:v,CRVideo_GetMediaInfoRslt:m,CRVideo_NotifyMediaStart:S,CRVideo_NotifyMediaPause:E,CRVideo_NotifyMediaStop:R,CRVideo_VideoRequestFullscreenRslt:b,CRVideo_VideoExitFullscreenRslt:w,CRVideo_OpenVideoFailRslt:x,CRVideo_OpenMicFailRslt:P}},function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,c=void 0,c=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===i(c)?c:String(c)),r)}var o,c}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=n(2),a=n(1),l=n(34).InterfaceExports,u=n(12).InterfaceExports,d=s.Ice,h=s.CRVideo,f=o((function e(t){c(this,e),this.boardId=void 0===t.boardId?void 0:t.boardId,this.title=void 0===t.title?void 0:t.title,this.width=void 0===t.width?void 0:t.width,this.height=void 0===t.height?void 0:t.height,this.pageCount=void 0===t.pageCount?void 0:t.pageCount,this.docType=void 0===t.docType?void 0:t.docType,this.wordType=void 0===t.wType?void 0:t.wType,this.allowMarked=void 0===t.bAll?void 0:t.bAll})),p=function(){function e(t){c(this,e)}return o(e,[{key:"serialization",value:function(e){var t=e||this,n={};for(var i in t)if(t.hasOwnProperty(i))if("elementID"===i){var r=t[i].split(".");n.eID={},n.eID.ownerID=+r[0],n.eID.ID=+r[1]}else n[i]=t[i];return n}},{key:"deserialization",value:function(e){var t=e||this;for(var n in t)t.hasOwnProperty(n)&&("eID"===n?(this.elementID="".concat(t[n].ownerID,".").concat(t[n].ID),delete this.eID):this[n]=t[n]);return t}}]),e}(),_=new(function(){function e(t,n){c(this,e),this.rtc=t,this.CR=n,this.questId=[],this.wbDesc=[],this.termId=0,this.elementId=0,this.curTabValue=0,this.UIList=[],this.queryingPath=[]}return o(e,[{key:"init",value:function(){this.SDKEventInit(),this.RTCInterfaceInit()}},{key:"unInit",value:function(){this.SDKEventUninit()}},{key:"reset",value:function(){this.wbDesc=[],this.termId=0,this.elementId=0,this.curTabValue=0}},{key:"SDKEventInit",value:function(){this.updateWdDescDataFn=this.updateWdDescData.bind(this),this.resetFn=this.reset.bind(this),this.NotifySetMarkTerms=this.NotifySetMarkTerms.bind(this),a.SDK_event.addEventListener("EnterMeetingSuccess",this.updateWdDescDataFn).addEventListener("ClearMeetingData",this.resetFn).addEventListener("NotifySetMarkTerms",this.NotifySetMarkTerms)}},{key:"SDKEventUninit",value:function(){a.SDK_event.removeEventListener("EnterMeetingSuccess",this.updateWdDescDataFn).removeEventListener("ClearMeetingData",this.resetFn).removeEventListener("NotifySetMarkTerms",this.NotifySetMarkTerms),this.updateWdDescDataFn=null,this.resetFn=null}},{key:"userInterfaceExports",value:function(){return this.CRVideo_NotifyInitBoards=new a.NewCallBack("CRVideo_NotifyInitBoards"),this.CRVideo_NotifyCreateBoard=new a.NewCallBack("CRVideo_NotifyCreateBoard"),this.CRVideo_NotifyCloseBoard=new a.NewCallBack("CRVideo_NotifyCloseBoard"),this.CRVideo_NotifyBoardCurPageNo=new a.NewCallBack("CRVideo_NotifyBoardCurPageNo"),this.CRVideo_NotifySetMarkTerms=new a.NewCallBack("CRVideo_NotifySetMarkTerms"),{CreateBoard:this.CreateBoard.bind(this),CloseBoard:this.CloseBoard.bind(this),CreateElementID:this.CreateElementID.bind(this),GetBoardInfo:this.GetBoardInfo.bind(this),GetBoardList:this.GetBoardList.bind(this),QueryElementByIDs:this.QueryElementByIDs.bind(this),InitBoardPageDat:this.InitBoardPageDat.bind(this),GetCurPageNo:this.GetCurPageNo.bind(this),GetCurrentPage:this.GetCurrentPage.bind(this),Addboardelement:this.Addboardelement.bind(this),Delboardelement:this.Delboardelement.bind(this),SetCurrentPage:this.SetCurrentPage.bind(this),SetMarkTerms:this.SetMarkTerms.bind(this),CreateWhiteBoardContext:this.CreateWhiteBoardContext.bind(this),DestroyWhiteBoardContext:this.DestroyWhiteBoardContext.bind(this),NotifyInitBoards:this.CRVideo_NotifyInitBoards,NotifyCreateBoard:this.CRVideo_NotifyCreateBoard,NotifyCloseBoard:this.CRVideo_NotifyCloseBoard,NotifyBoardCurPageNo:this.CRVideo_NotifyBoardCurPageNo,NotifySetMarkTerms:this.CRVideo_NotifySetMarkTerms}}},{key:"RTCInterfaceInit",value:function(){var e=this;this.rtc.CR__NotifySetContainerSize.callback=function(e,t,n){console.crlog(e,t,n)},this.rtc.CR__NotifyCreate.callback=function(t,n){var i=e.CR.findUserInfo("termId",n);console.crlog("[WhiteBoard] NotifyCreate wihite board Callback: id is ".concat(t.wID.termID,".").concat(t.wID.localID)),e.wbDesc.push(t),e.CRVideo_NotifyCreateBoard.callback(e.wbDescToBoardObj(t),i?i.userId:void 0)},this.rtc.CR__QueryAllBoardListRslt.callback=function(t,n,i){console.crlog("[WhiteBoard] CR__QueryAllBoardListRslt errCode: ".concat(t)),0===t&&(e.wbDesc=i,e.CRVideo_NotifyInitBoards.callback(i.map((function(t){return e.wbDescToBoardObj(t)}))))},this.rtc.CR__NotifyClose.callback=function(t,n){var i=e.CR.findUserInfo("termId",n);console.crlog("[WhiteBoard] CR__NotifyClose callback whiteBoardId: ".concat(t.termID,".").concat(t.localID,", userId:").concat(i?i.userId:void 0));var r=e.wbDesc.findIndex((function(e){return e.wID.localID===t.localID&&e.wID.termID===t.termID}));r>-1&&(e.wbDesc.splice(r,1),e.CRVideo_NotifyCloseBoard.callback("".concat(t.termID,".").concat(t.localID),i.userId||void 0))},this.rtc.CR__QueryElementByIDsRslt.callback=function(t,n,i,r){if(console.crlog("[WhiteBoard] QueryElementByIDsRslt Callback: "+t+" "+n),i){var o=r.dirPath,c=r.uuid;if(e.queryingPath.includes(o)){e.queryingPath=e.queryingPath.filter((function(e){return e!==o}));for(var s=[],a=i.elementList,u="".concat(r.boardID.termID,".").concat(r.boardID.localID),d=("".concat(u,".").concat(i.pageNo),0);d<a.length;d++)s.push(p.prototype.deserialization.call(a[d]));var h=i.imgResourceID;h&&o&&l.DownloadData(h,c).then((function(t){try{e.explainData(t,o,r.component)}catch(e){console.error(e)}})),r.component._NotifyInitBoardElement(u,i.pageNo,s,o)}}},this.rtc.CR__NotifyAddElement.callback=function(t,n,i,r){var o=e.CR.findUserInfo("termId",r),c="".concat(t.termID,".").concat(t.localID);console.crlog("[WhiteBoard] CR__NotifyAddElement Callback: id is ".concat(c)),e.UIList.forEach((function(e){e._NotifyAddBoardElement(c,n,[p.prototype.deserialization.call(i)],o?o.userId:void 0)}))},this.rtc.CR__NotifyDelElement.callback=function(t,n,i,r){var o=e.CR.findUserInfo("termId",r),c="".concat(t.termID,".").concat(t.localID),s="".concat(c,".").concat(n);console.crlog("[WhiteBoard] CR__NotifyDelElement Callback pageId: ".concat(s,",userId: ").concat(o?o.userId:void 0));for(var a=[],l=0;l<i.length;l++)a.push("".concat(i[l].ownerID,".").concat(i[l].ID));e.UIList.forEach((function(e){e._NotifyDelBoardElement(c,n,a,o?o.userId:void 0)}))},this.rtc.CR__NotifyMoveElement.callback=function(t,n,i,r){var o="".concat(t.termID,".").concat(t.localID),c=e.CR.findUserInfo("termId",r);console.crlog("[WhiteBoard] CR__NotifyMoveElement Callback page id: ".concat(o,".").concat(n,",userId: ").concat(c&&c.userId));for(var s=[],a=0;a<i.length;a++)s.push(p.prototype.deserialization.call(i[a]));e.UIList.forEach((function(e){e._NotifyMoveElement(o,n,s,c&&c.userId)}))},this.rtc.CR__NotifyModifyElement.callback=function(t,n,i,r){var o="".concat(t.termID,".").concat(t.localID),c=e.CR.findUserInfo("termId",r);console.crlog("[WhiteBoard] CR__NotifyModifyElement Callback page id: ".concat(o,".").concat(n,",userId: ").concat(c&&c.userId)),e.UIList.forEach((function(e){e._NotifyModifyBoardElement(o,n,[p.prototype.deserialization.call(i)],c&&c.userId)}))},this.rtc.CR__NotifySetCurrentPage.callback=function(t,n,i,r,o){console.crlog("[mainPage] CR__NotifySetCurrentPage whiteBoardId: ".concat(t.termID,".").concat(t.localID," iPage：").concat(n,", animID：").concat(i,", animFrames:").concat(r,", opId: ").concat(o));var c=e.wbDesc.find((function(e){return e.wID.localID===t.localID&&e.wID.termID===t.termID}));c&&(c.curPage=n,c.animFrames=r,c.animID=i);var s=h.findUserInfo("termId",o);e.CRVideo_NotifyBoardCurPageNo.trigger("".concat(t.termID,".").concat(t.localID),n,i,r,s?s.userId:null)}}},{key:"CreateBoard",value:function(e,t,n,i,r){console.crlog("[WhiteBoard] CreateBoard title:".concat(e," ,width: ").concat(t,",height: ").concat(n,",pageCount: ").concat(i));var o={};return o.wID={termID:this.termId,localID:this.curTabValue++},o.width=t,o.height=n,o.name=e,o.docName=e,o.pageCount=i,o.wType=r?r.wType:0,o.scaleType=r?r.scaleType:0,o.docType=r?r.docType:0,o.bAll=!!r&&r.bAll,this.rtc.CR__SaveLastTabValue(this.curTabValue),this.rtc.CR__Create(o),"".concat(o.wID.termID,".").concat(o.wID.localID)}},{key:"CloseBoard",value:function(e){console.crlog("[WhiteBoard] CloseBoard boardId:".concat(e));var t=e.split("."),n=new this.rtc.Conference.TabID(t[0],t[1]);this.rtc.CR__Close(n)}},{key:"CreateWhiteBoardContext",value:function(e,t){this.UIList.find((function(t){return t===e}))||(console.crlog("[WhiteBoard] CreateWhiteBoardContext"),this.UIList.push(e)),l.CreateDownloadId(t)}},{key:"DestroyWhiteBoardContext",value:function(e,t,n){if(console.crlog("[WhiteBoard] DestroyWhiteBoardContext component: ".concat(!!e,",dir: ").concat(t)),e){var i=this.UIList.findIndex((function(t){return t===e}));i>-1&&this.UIList.splice(i,1)}n&&l.CancelDownloadId(n),this.queryingPath=this.queryingPath.filter((function(e){return e!==t})),t&&u.RemoveDir(t)}},{key:"GetCurPageNo",value:function(e){var t;return this.wbDesc.some((function(n){if("".concat(n.wID.termID,".").concat(n.wID.localID)===e)return t=n,!0})),t?t.curPage:null}},{key:"GetCurrentPage",value:function(e){var t;if(this.wbDesc.some((function(n){if("".concat(n.wID.termID,".").concat(n.wID.localID)===e)return t=n,!0})),!t)return null;var n=new Uint32Array(1);n[0]=t.animFrames;var i=new Uint16Array(n.buffer);return{x:i[0]/65535,y:i[1]/65535,curPage:t.curPage,animId:t.animID}}},{key:"Addboardelement",value:function(e,t,n){console.crlog("[WhiteBoard] Addboardelement boardId:".concat(e," ,pageId: ").concat(t));var i=p.prototype.serialization(n),r=e.split("."),o=new this.rtc.Conference.TabID(r[0],r[1]);this.rtc.CR__AddElement(o,t,i)}},{key:"Delboardelement",value:function(e,t,n){console.crlog("[WhiteBoard] Delboardelement boardId:".concat(e," ,pageId: ").concat(t,", elementIds:").concat(n));for(var i=e.split("."),r=new this.rtc.Conference.TabID(i[0],i[1]),o=[],c=0;c<n.length;c++){var s=n[c].split(".");o.push({ownerID:s[0],ID:s[1]})}this.rtc.CR__DelElement(r,t,o)}},{key:"SetCurrentPage",value:function(){var e;(e=this.rtc).CR__SetCurrentPage.apply(e,arguments)}},{key:"SetMarkTerms",value:function(){var e;(e=this.rtc).CR__SetMarkTerms.apply(e,arguments)}},{key:"GetBoardInfo",value:function(e){var t;return this.wbDesc.some((function(n){if("".concat(n.wID.termID,".").concat(n.wID.localID)===e)return t=n,!0})),t?this.wbDescToBoardObj(t):null}},{key:"GetBoardList",value:function(){var e=this;return this.wbDesc.map((function(t){return e.wbDescToBoardObj(t)}))}},{key:"QueryElementByIDs",value:function(e,t,n,i){console.crlog("[WhiteBoard] QueryElementByIDs boardId:".concat(t," ,pageIds: ").concat(n));var r=t.split("."),o=new this.rtc.Conference.TabID(r[0],r[1]),c=u.CreateDir(d.generateUUID());return this.queryingPath.push(c),this.rtc.CR__QueryElementByIDs(o,n,{component:e,boardID:o,dirPath:c,uuid:i}),c}},{key:"InitBoardPageDat",value:function(e,t){this.rtc.CR__ImportPage(e,t)}},{key:"queryAllBoardList",value:function(){this.rtc.CR__QueryAllBoardList()}},{key:"updateWdDescData",value:function(e){this.termId=e.termId,this.wbDesc=e.wbDescibes,this.elementId=e.lastElemValue,this.curTabValue=e.lastTabValue}},{key:"wbDescToBoardObj",value:function(e){return new f({boardId:"".concat(e.wID.termID,".").concat(e.wID.localID),title:e.docName,width:e.width,height:e.height,pageCount:e.pageCount,docType:e.docType.value,wType:e.wType.value,bAll:e.bAll})}},{key:"CreateElementID",value:function(){return"".concat(this.termId,".").concat(++this.elementId)}},{key:"NotifySetMarkTerms",value:function(e,t,n){for(var i=this.wbDesc,r=0;r<i.length;r++)if(i[r].wID.localID===e.localID&&i[r].wID.termID===e.termID)return i[r].bAll=t,i[r].allowTerms=n,void this.CRVideo_NotifySetMarkTerms.trigger("".concat(e.termID,".").concat(e.localID),t,n)}},{key:"DataHeadParse",value:function(e){var t={},n=new DataView(e.buffer);t.flag=n.getUint32(0,!0),t.verson="".concat(n.getUint8(4),".").concat(n.getUint8(5)),t.type=n.getUint32(6,!0);var i=n.getUint32(10,!0);return t.size=4294967295===i?0:i,t}},{key:"explainData",value:function(e,t,n){var i=this.DataHeadParse(e.slice(0,14));if(2290649224===i.flag&&"1.1"===i.verson)switch(e=e.slice(14),i.type){case 2:var r=i.size?u.WriteFile({dir:t,fileName:d.generateUUID(),buffer:e.buffer}):null;r?n._NotifyInitBoardBgImg(r):console.crlog("[WhiteBoard] parseImg fail: ".concat(r));break;case 3:var o=this.parsePPT(t,e);n._NotifyInitPPTBgImg(o)}}},{key:"parsePPT",value:function(e,t){var n=new DataView(t.buffer),i=(n.getUint32(0),n.getUint32(4),n.getFloat64(8),n.getFloat64(16),n.getUint32(24),n.getUint16(28),n.getUint32(30));i=4294967295===i?0:i;for(var r=t.buffer.slice(34,i+34),o=i?u.WriteFile({dir:e,fileName:d.generateUUID(),buffer:r}):null,c=i+34,s=(n.getUint8(c),n.getUint8(c+1),n.getFloat64(c+2),n.getUint16(c+10),n.getUint8(c+12),n.getUint8(c+13),n.getUint32(c+14)),a=n.buffer.slice(c+18),l=[],h=0;h<s;h++){var f=new DataView(a),p={},_=0;p.id=f.getUint16(_),p.left=f.getFloat64(_+=2),p.top=f.getFloat64(_+=8),p.width=f.getFloat64(_+=8),p.height=f.getFloat64(_+=8);var C=f.getUint32(_+=8);_+=4,p.size=4294967295===C?0:C;var g=p.size+_;p.path=p.size?u.WriteFile({dir:e,fileName:d.generateUUID(),buffer:f.buffer.slice(_,g)}):null,l.push(p),a=f.buffer.slice(g)}return{bgPath:o,imgTotalData:l}}}]),e}())(s,h);a.SDK_event.addEventListener("SDKInit",(function(){_.init()})).addEventListener("SDKUnInit",(function(){_.unInit()})),e.exports={InterfaceExports:_.userInterfaceExports()}},function(e,t,n){(function(t){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,s(i.key),i)}}function s(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}var a=n(1),l=n(2),u=n(11),d=n(12).InterfaceExports,h=l.Ice,f=l.CRVideo,p={NotifyUploadDocFileToNetDiskRslt:new a.NewCallBack("NotifyUploadDocFileToNetDiskRslt"),NotifyNetDiskDocFileTrsfProgress:new a.NewCallBack("NotifyNetDiskDocFileTrsfProgress"),GetNetDiskDocFilePageInfoRslt:new a.NewCallBack("GetNetDiskDocFilePageInfoRslt")},_=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,i,s;return n=e,(i=[{key:"init",value:function(){var e=this;this.downloadingID=[],a.SDK_event.addEventListener("startNetDiskService",(function(n,i,r,o){e.userId=o,e.prx=i.NDClientPrx.uncheckedCast(n.stringToProxy("NetDisk"),"Client"),e.prx.createConfSession(r,u(r)).then((function(n){e.meetingPrx=n,t.m_meetingPrx=n,e.startKeepAlive()}))})).addEventListener("EnterMeetingSuccess",(function(t){e.comid=t.confInfo.compid})).addEventListener("ClearMeetingData",(function(){e.stopKeepAlive(),e.userId=null,e.meetingPrx=null,e.comid=null,clearTimeout(e.docTrsfProgressTimerId),e.docTrsfProgressTimerId=null,e.ServerConvertStatus=null}))}},{key:"unInit",value:function(){a.SDK_event.removeAllEvent("startNetDiskService"),this.reset()}},{key:"reset",value:function(){this.userId=null,this.comid=null,this.meetingPrx=null,this.downloadingID=[]}},{key:"startKeepAlive",value:function(){this.stopKeepAlive(),this.meetingPrx.keepAlive(),this.keepAliveTimerId=setTimeout(this.startKeepAlive.bind(this),3e3)}},{key:"stopKeepAlive",value:function(){clearTimeout(this.keepAliveTimerId),this.keepAliveTimerId=null}},{key:"userInterfaceExports",value:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({getStat:this.getStat.bind(this),DownloadData:this.DownloadData.bind(this),CreateDownloadId:this.CreateDownloadId.bind(this),CancelDownloadId:this.CancelDownloadId.bind(this),DownloadBoardFile:this.DownloadBoardFile.bind(this),UploadDocFileToNetDisk:this.UploadDocFileToNetDisk.bind(this),GetNetDiskDocFilePageInfo:this.GetNetDiskDocFilePageInfo.bind(this)},p)}},{key:"MeetInterfaceExports",value:function(){return{GetListDir:this.GetListDir.bind(this),Import2Conf:this.Import2Conf.bind(this),ConnectUserPan:this.ConnectUserPan.bind(this),ConnectCompanyPan:this.ConnectCompanyPan.bind(this)}}},{key:"ConnectUserPan",value:function(){var e=this;return new Promise((function(n,i){e.prx.createUserSession(e.userId,u(e.userId)).then((function(i){e.userPrx=i,t.m_userPrx=i,n()})).exception((function(e){console.crlog("[NetDisk] ConnectUserPan Fail: ".concat(e.toString())),i()}))}))}},{key:"ConnectCompanyPan",value:function(){var e=this;return new Promise((function(n,i){e.prx.createCompanySession(e.comid,u(e.comid)).then((function(i){e.CompanyPrx=i,t.m_CompanyPrx=i,n()})).exception((function(e){console.crlog("[NetDisk] ConnectCompanyPan Fail: ".concat(e.toString())),i()}))}))}},{key:"getPanType",value:function(e){return e?[this.meetingPrx,this.userPrx,this.CompanyPrx][e]:this.meetingPrx}},{key:"GetListDir",value:function(e,t){var n=this.getPanType(t);return new Promise((function(t,i){if(!n)return i();n.listDir(e).then((function(e){t(e)})).exception((function(e){console.crlog("[NetDisk] GetListDir error: }"),console.crlog(e)}))}))}},{key:"Import2Conf",value:function(e,t,n,i){var r=this;return console.crlog("[NetDisk] Import2Conf Start path: ".concat(e)),new Promise((function(n,o){var c=new NetDiskService.DataDict;r.getPanType(i).import2ConfDD(e,t,c).then((function(t){console.crlog("[NetDisk] Import2Conf Success path: ".concat(e)),n({width:t.get("width"),height:t.get("height"),type:t.get("type"),files:t.get("rsltFiles").split(";")})})).exception((function(e){console.crlog("[NetDisk] Import2Conf Success Fail: ".concat(e.toString())),o()}))}))}},{key:"getStat",value:function(e){var t=this,n=0;return new Promise((function(i,r){if(!t.meetingPrx)return r();!function o(){t.meetingPrx.stat(e).then((function(e){i(e)})).exception((function(e){var t=e.toString();if(console.crlog("[NetDisk] error getStat error: ".concat(t)),t.indexOf("NetDiskService::FileOrDirectoryNotExists")>-1){if(n++>10)return r();setTimeout((function(){o()}),500)}else r()}))}()}))}},{key:"beginDownload",value:function(e){var t=this;return new Promise((function(n,i){if(!t.meetingPrx)return i();t.meetingPrx.beginDownload(e).then((function(e){n(e)})).exception((function(e){console.crlog("[NetDisk] error beginDownload error: ".concat(e.toString()))}))}))}},{key:"DownloadBoardFile",value:function(e,t,n){var i=this;return new Promise((function(r,o){var c=0;!function s(){i.GetListDir("").then((function(a){var l=a.files.find((function(t){return t.name===e}));l?i.DownloadData(l.path,n).then((function(n){var i=d.WriteFile({dir:t,fileName:e,buffer:n.buffer});i?r(i):o("[NetDisk] error write file: ".concat(i))})).catch((function(e){console.crlog(e),o(e)})):c++>10?o("[NetDisk] error not find file: ".concat(e)):setTimeout((function(){s()}),500)})).catch((function(e){console.crlog(e),o(e)}))}()}))}},{key:"DownloadData",value:function(e,t){var n=this;console.crlog("[NetDisk] start download netdisk Data File: ".concat(e));var i=function(){return n.downloadingID.find((function(e){return e===t}))};return new Promise((function(t,r){n.getStat(e).then((function(e){if(!i())return r();n.beginDownload(e.md5).then((function(n){if(!i())return r();console.log("[NetDisk] beginDownload success server length: ".concat(n.length));var o=+e.attributes.get("orgSize"),c=e.size.low;if(!(c>10485760)){var s=Math.ceil(c/1e6),l=new ArrayBuffer(c),u=new Uint8Array(l);!function l(d){if(!n[d])return console.crlog("[NetDisk] beginDownload fail: 尝试了所有服务器下载失败"),void r();n[d].createFSIOSession(e.md5,"r",e.md5).then((function(e){if(!i())return r();for(var n=0,f=function(f){var p=1e6*f,_=f===s-1?c%1e6:1e6;e.read(new h.Long(0,p),new h.Long(0,_)).then((function(e){if(!i())return r();u.set(e,p),++n===s&&(o!=c&&(u=new a.Zlib.Inflate(u).decompress()),console.crlog("[NetDisk] FSIOSession read Success"),t(u))})).exception((function(e){console.crlog("[NetDisk] FSIOSession read Fail: ".concat(e.toString())),l(++d)}))},p=0;p<s;p++)f(p)})).exception((function(e){console.crlog("[NetDisk] createFSIOSession Fail: ".concat(e.toString())),l(++d)}))}(0)}}))})).catch((function(e){console.crlog("[NetDisk] getStat Fail: ".concat(e))}))}))}},{key:"CreateDownloadId",value:function(e){this.downloadingID.find((function(t){return t===e}))||(console.crlog("[NetDisk] CreateDownloadId uuid: ".concat(e)),this.downloadingID.push(e))}},{key:"CancelDownloadId",value:function(e){console.crlog("[NetDisk] CancelDownloadId uuid: ".concat(e)),this.downloadingID=this.downloadingID.filter((function(t){return t!==e}))}},{key:"UploadDocFileToNetDisk",value:function(e,t){var n=this;try{p.NotifyUploadDocFileToNetDiskRslt.trigger(e,0,1);for(var i=new ArrayBuffer(t.size),r=new Uint8Array(i),o=Math.ceil(t.size/10485760),c=wx.getFileSystemManager(),s=0;s<o;s++){var l=10485760*s,d=c.readFileSync(t.path,void 0,l,s===o-1?t.size%10485760:10485760);r.set(new Uint8Array(d),l)}var _=e.match(/[^<>/\\\|:""\*\?]+\.\w+$/)[0],C=u(r),g=new h.Long(0,r.length),y=f.userInfo,I=new NetDiskService.DataDict;I.set("orgFileName",_),I.set("ownerName",y?String(y.nickname):"0"),I.set("orgSize",String(r.length)),I.set("ownerID",y?String(y.termId):"0");var v=new Date,m="".concat(v.getFullYear(),"-").concat(a.PrefixInteger(v.getMonth()+1,2),"-").concat(a.PrefixInteger(v.getDate(),2)," ").concat(a.PrefixInteger(v.getHours(),2),":").concat(a.PrefixInteger(v.getMinutes(),2),":").concat(a.PrefixInteger(v.getSeconds(),2)),S="/progData/".concat(e),E=new NetDiskService.StatInfo(_,S,C,g,m,I);this.meetingPrx.beginUpload(E).then((function(t,i){console.crlog("[NetDisk] 1.beginUpload Success services number: ".concat(i.length));var o=function(t){console.crlog("[NetDisk] beginUpload error: ".concat(t.toString())),++s>i.length-1?p.NotifyUploadDocFileToNetDiskRslt.trigger(e,1):c()},c=function(){i[s].createFSIOSession(t,"w",C).then((function(c){console.crlog("[NetDisk] 2.createFSIOSession Success host: ".concat(c._reference._endpoints[0]._host));var a=r.length,l=Math.ceil(a/1e6),u=0;!function d(){var f=1e6*u,_=f+(u+1===l?a%1e6:1e6),C=r.slice(f,_);console.crlog("[NetDisk] 3.write data start: ".concat(f,",length: ").concat(C.length)),p.NotifyUploadDocFileToNetDiskRslt.trigger(e,0,2,_/r.length),c.write(new h.Long(0,f),C).then((function(){++u===l?(console.crlog("[NetDisk] 4.write Success"),i[s].fileUploadCompleted(t,!0).then((function(r){console.crlog("[NetDisk] 5.fileUploadCompleted Success"),n.meetingPrx.endUpload(t,r).then((function(){console.crlog("[NetDisk] 6.endUpload Success"),p.NotifyUploadDocFileToNetDiskRslt.trigger(e,0,3),n.ServerConvert(S,e,i[s])})).exception(o)})).exception(o)):d()})).exception(o)}()})).exception(o)},s=0;c()})).exception((function(t){if(console.crlog("[NetDisk] beginUpload error: ".concat(t.toString())),t instanceof NetDiskService.FileAlreadyExists||t instanceof NetDiskService.FdfsFileAlreadyExists)return p.NotifyUploadDocFileToNetDiskRslt.trigger(e,0,4),void n.ServerConvert(S,e);p.NotifyUploadDocFileToNetDiskRslt.trigger(e,1)}))}catch(t){console.crlog("[NetDisk] beginUpload error: ".concat(t)),p.NotifyUploadDocFileToNetDiskRslt.trigger(e,1)}}},{key:"ServerConvert",value:function(e,t,n){var i=this,r=new NetDiskService.DataDict;n=n||null,this.meetingPrx.convert(e,r,n).then((function(e){console.crlog("[NetDisk] ServerConvert startting"),i.getDocTrsfProgress(e,t)})).exception((function(e){console.crlog(e.toString())}))}},{key:"getDocTrsfProgress",value:function(e,t){var n=this;this.meetingPrx.getConvertStatus(e).then((function(i){console.log(i),n.ServerConvertStatus!==i.status&&p.NotifyNetDiskDocFileTrsfProgress.callback(t,i.status),4===i.status?n.ServerConvertStatus=null:(n.ServerConvertStatus=i.status,n.docTrsfProgressTimerId=setTimeout((function(){n.getDocTrsfProgress(e,t)}),500))}))}},{key:"GetNetDiskDocFilePageInfo",value:function(e){var t=this,n="/progData/".concat(e);function i(){p.GetNetDiskDocFilePageInfoRslt.trigger(e,1,null)}this.getStat(n).then((function(n){t.meetingPrx.getConvertStatus(n.md5).then((function(t){var n={height:+t.attributes.get("height"),width:+t.attributes.get("width"),fileList:t.fileList};p.GetNetDiskDocFilePageInfoRslt.trigger(e,0,n)})).exception((function(){i()}))})).catch((function(e){console.crlog(e),i()}))}}])&&c(n.prototype,i),s&&c(n,s),Object.defineProperty(n,"prototype",{writable:!1}),e}());a.SDK_event.addEventListener("SDKInit",(function(){_.init()})).addEventListener("SDKUnInit",(function(){_.unInit()})),e.exports={InterfaceExports:_.userInterfaceExports(),MeetInterfaceExports:_.MeetInterfaceExports()}}).call(this,n(7))},function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,c=void 0,c=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===i(c)?c:String(c)),r)}var o,c}var o=n(2),c=n(1),s=o.CRVideo,a=new(function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.rtc=t,this.CR=n,this.mainPage=null,this.subTab=null}var t,n,i;return t=e,(n=[{key:"init",value:function(){this.SDKEventInit(),this.RTCInterfaceInit()}},{key:"unInit",value:function(){this.SDKEventUninit(),this.mainPage=null,this.subTab=null}},{key:"SDKEventInit",value:function(){this.updateFn=this.update.bind(this),this.resetFn=this.reset.bind(this),c.SDK_event.addEventListener("EnterMeetingSuccess",this.updateFn).addEventListener("ClearMeetingData",this.resetFn)}},{key:"SDKEventUninit",value:function(){c.SDK_event.removeEventListener("EnterMeetingSuccess",this.updateFn).removeEventListener("ClearMeetingData",this.resetFn),this.updateFn=null,this.resetFn=null}},{key:"userInterfaceExports",value:function(){return this.CRVideo_NotifySwitchToPage=new c.NewCallBack("CRVideo_NotifySwitchToPage"),{SwitchToPage:this.Switchtopage.bind(this),GetCurrentMainPage:this.GetCurrentMainPage.bind(this),GetCurrentSubPage:this.GetCurrentSubPage.bind(this),NotifySwitchToPage:this.CRVideo_NotifySwitchToPage}}},{key:"Switchtopage",value:function(e,t){if(void 0!==e&&(this.mainPage.localID=e),void 0!==t){var n=t.split(".");this.subTab={termID:n[0],localID:n[1]}}this.rtc.CR__SetCurrentTab(this.mainPage,this.subTab)}},{key:"GetCurrentMainPage",value:function(){return this.mainPage&&this.mainPage.localID}},{key:"GetCurrentSubPage",value:function(){return"".concat(this.subTab.termID,".").concat(this.subTab.localID)}},{key:"reset",value:function(){this.mainPage=null,this.subTab=null}},{key:"update",value:function(e){var t=e.curMainTab,n=e.curSubTab;console.crlog("[mainPage] mainPage: ".concat(JSON.stringify(t),",subTab:").concat(JSON.stringify(n))),this.mainPage=t,this.subTab=n}},{key:"RTCInterfaceInit",value:function(){var e=this;this.rtc.CR__NotifySetCurrentTab.callback=function(t,n,i){console.crlog("[mainPage] CR__NotifySetCurrentTab mainPage: ".concat(JSON.stringify(t),",SubTab:").concat(JSON.stringify(n)," ,opId: ").concat(i)),e.mainPage=t,e.subTab=n,e.CRVideo_NotifySwitchToPage.callback(t.localID,"".concat(n.termID,".").concat(n.localID))}}}])&&r(t.prototype,n),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}())(o,s);c.SDK_event.addEventListener("SDKInit",(function(){a.init()})).addEventListener("SDKUnInit",(function(){a.unInit()})),e.exports={InterfaceExports:a.userInterfaceExports()}}]);
//# sourceMappingURL=RTC_Miniapp_SDK.min.js.map