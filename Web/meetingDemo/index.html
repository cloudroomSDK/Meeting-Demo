<!DOCTYPE html>
<script type="text/javascript">
    var protocol = window.location.protocol;
    var host = window.location.host;
    var isLocal = false;

    if (host.includes('127.0.0.1') || host.includes('localhost:') || protocol.includes('file')) isLocal = true;

    console.log(`isLocal: ${isLocal}`);
    console.log(`href: ${window.location.href}`);
    console.log(`referrer: ${document.referrer}`);
    console.log(`page protocol: ${protocol}`);
    console.log(`isMobile: ${navigator.userAgent.includes('Mobile')}`);

    // http强制跳转https
    if (protocol != 'https:' && !isLocal) {
        location.href = 'https:' + location.href.substring(protocol.length);
    }

    // 移动端/pc端自动跳转
    const htmlName = /\w+.html/.exec(window.location.href)[0];
    console.log(htmlName);
    if (navigator.userAgent.includes('Mobile') && !htmlName.includes('m_')) { // 移动端打开pc页面
        window.location.href = window.location.href.replace(htmlName, `m_${htmlName}`);
    } else if (!navigator.userAgent.includes('Mobile') && htmlName.includes('m_')) { // pc端打开移动端页面
        window.location.href = window.location.href.replace(htmlName, `${htmlName.replace('m_', '')}`);
    }

    // ios上webview打开，如果referrer为空则会获取不到相关媒体api，这里强制刷新一下，让referrer不为空(Firefox不行)
    if (document.referrer == '' && !isLocal && !navigator.userAgent.includes('Firefox')) {
        window.location.reload();
    }
</script>

<html>

<head>
    <meta charset="UTF-8">
    <title>MeetingDemo</title>
    <meta name="renderer" content="webkit" />
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="cache-control" content="no-cache">
    <meta http-equiv="expires" content="0">
    <meta name="format-detection" content="telephone=no" />
    <meta name="keywords" content="webRTC" />
    <meta name="description" content="webRTC" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="./image/favicon.ico">
    <link rel="stylesheet" href="../static/lib/layui/css/layui.css">
    <link rel="stylesheet" href="../static/css/common.css" />
    <link rel="stylesheet" href="./css/meeting.css">
    <script type="text/javascript" src="../static/lib/layui/layui.js"></script>
    <script type="text/javascript" src="../static/js/jquery.2.0.0.min.js"></script>

</head>

<body>
    <!-- 浏览器不支持提示 开始 -->
    <div class="alert-wrapper" style="display: none">
        <div class="mask"></div>
        <div class="alert-box alert-box-1">
            <div class="alert-header">
                <div class="title">提示</div>
                <div class="close" id="wrapperCloseBtn"></div>
            </div>
            <div class="alert-body">
                <div class="check-compatibility">
                    <i class="icon-tip"></i>
                    <div class="tip-content">
                        <div class="c1">当前浏览器不支持WebRTC，无法正常使用H5音视频功能。</div>
                        <div class="c3">请下载最新Chrome浏览器后重新打开此页面。</div>
                    </div>
                </div>
            </div>
            <div class="alert-footer">
                <button class="btn btn-longer f-mgr-10" id="downloadChromeBtn">立即下载</button>
                <button class="btn btn-cancle" id="laterDownloadBtn">稍后下载</button>
            </div>
        </div>
        <script>
            // IE浏览器提示不受支持
            if (navigator.userAgent.indexOf("MSIE") > -1 || navigator.userAgent.indexOf("Trident") > -1) {
                $(".alert-wrapper").show();
                $("#downloadChromeBtn").click(function () {
                    window.location.href = "https://www.baidu.com/s?wd=chrome";
                })
                $("#laterDownloadBtn").click(function () {
                    $(".alert-wrapper").hide();
                })
                $("#wrapperCloseBtn").click(function () {
                    $(".alert-wrapper").hide();
                })
            }
        </script>
    </div>
    <!-- 浏览器不支持提示 结束 -->

    <!-- 登录界面 开始 -->
    <div id="page_login" class="disableSelect">
        <div class="login_cont">
            <div class="login_form">
                <div class="form_label form_title">Meeting Demo</div>
                <div class="form_dec">
                    <span id="formDesc">创建一个新房间或输入房间号加入已有房间</span>
                </div>
                <div class="form_input">
                    <label for="g_meet_id" class="meet-id-label">房间号：</label>
                    <input type="text" id="g_meet_id" placeholder="请输入房间号" value="" />
                </div>
                <!-- 会议产品特有参数，SDK用户无需关注 -->
                <div class="form_input meet_pwd_form">
                    <label for="g_meet_pwd">密&emsp;码：</label>
                    <input type="password" id="g_meet_pwd" placeholder="请输入房间密码" value="" />
                </div>
                <div class="form_input nickname">
                    <label for="userInputName">昵&ensp;&ensp;称：</label>
                    <input type="text" id="userInputName" placeholder="请输入昵称" value="" />
                </div>
                <div class="enmeet_btn" onclick="MeetingDemo.RoomMgr.onClickEnterBtn()">进入房间</div>
                <div class="login_order">
                    <span class="line"></span>
                    <span class="text">或者</span>
                    <span class="line"></span>
                </div>
                <div class="create_meet_btn" onclick="MeetingDemo.RoomMgr.onClickCreateBtn()">创建房间</div>
                <div class="loginSet">
                    <div id="login_sel" class="disableSelect" onclick="MeetingDemo.Login.clickLoginSel()">登录设置
                    </div>
                    <div class="logset_hide">
                        <div class="token_radio">
                            <form action="">
                                <span>鉴权方式：</span>
                                <input id="loginPassRadio" type="radio" name="login_set" value=1 checked>
                                <label for="loginPassRadio">密码</label>&nbsp;
                                <input id="loginTokeRadio" type="radio" name="login_set" value=2>
                                <label for="loginTokeRadio">Token&nbsp;</label>
                            </form>
                        </div>
                        <div class="login_set_mstype">
                            <span>流媒体协议：</span>
                            <input id="msTypeUDPTCP" type="radio" name="msTypeSet" value=0>
                            <label for="msTypeUDPTCP">自适应</label>&ensp;
                            <input id="msTypeUDP" type="radio" name="msTypeSet" value=1 checked>
                            <label for="msTypeUDP">UDP</label>&ensp;
                            <input id="msTypeTCP" type="radio" name="msTypeSet" value=2>
                            <label for="msTypeTCP">TCP</label>
                        </div>
                        <div class="input_box">
                            <form action="">
                                <input type="password" style="display: none;">
                                <div class="form_input">
                                    <label for="server_add">服务器地址：</label>
                                    <input type="text" id="server_add" value="" />
                                </div>
                                <div class="form_input form-account">
                                    <label for="cr_account">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AppID：</label>
                                    <input type="text" id="cr_account" placeholder="默认账号" value="默认APPID" />
                                </div>
                                <div class="form_input form-password">
                                    <label for="comp_psdw">AppSecret：</label>
                                    <input type="password" id="comp_psdw" placeholder="默认Secret" value="默认Secret" />
                                </div>
                                <div class="form_input form-token" style="display: none;">
                                    <label for="loginToken">&emsp;&emsp;Token：</label>
                                    <input type="text" id="loginToken" value="" />
                                </div>
                                <div class="form_input form-userAuth">
                                    <label for="loginToken">第三方鉴权：</label>
                                    <input type="password" id="userAuthCode" value="" onfocus="this.type='text'" placeholder="未启用第三方鉴权则无需填写" />
                                </div>
                            </form>
                        </div>
                        <div class="resetBtn bottom-btn form_input" onclick="MeetingDemo.Login.resetLoginParam()">重置
                        </div>
                        <div class="confirmBtn bottom-btn form_input" onclick="MeetingDemo.Login.saveLoginParam()">确定
                        </div>
                    </div>
                </div>
                <div class="form_sdkver">SDKVer：<span id="sdkver"></span></div>
            </div>
        </div>
    </div>
    <!-- 登录界面 结束 -->

    <!-- 会议界面 开始 -->
    <div id="page_meeting">
        <!-- 顶部开始 -->
        <div class="page_meet_head por">
            <div class="meet_head_main">
                <div class="page_meet_logo"><img src="./image/pc/meeting_header_icon-user.png" alt="">视频会议Demo</div>
                <div class="net-state-icon fine"></div>
                <div class="page_meet_id">
                    <span id="meetNickName">昵称：xxxx</span>&ensp;&ensp;
                    <span id="meetId">房间号：88888888</span>
                    <!-- <button id="shareUrl" onclick="MeetingDemo.RoomMgr.onClickShareUrlBtn()">分享会议</button> -->
                    <input type="text" id="copyInput" style="position:absolute;right:0;top:0;opacity:0;z-index:-999;width:1px;height:1px;">
                </div>
                <div id="page_meet_record" class="page_meet_record icon">
                    <button id="recordBtn" onclick="$('.more-box').toggle()"><span>录制</span></button>
                </div>
            </div>
        </div>
        <!-- 顶部结束 -->
        <!-- 主要内容开始 -->
        <div class="por main disableSelect">
            <div class="page_meet_cont">
                <div class="page_meet_view">
                    <div class="page_meet_video">
                        <div class="page_screen">
                            <div class="screenbox screenBox1"></div>
                            <div class="screenbox screenBox2"></div>
                            <div class="screenbox screenBox3"></div>
                            <div class="screenbox screenBox4"></div>
                            <div class="screenbox screenBox5"></div>
                            <div class="screenbox screenBox6"></div>
                            <div class="screenbox screenBox7"></div>
                            <div class="screenbox screenBox8"></div>
                            <div class="screenbox screenBox9"></div>
                        </div>
                        <div class="page-btn last" id="lastPageBtn" onclick="MeetingDemo.Video.lastPage(this)">
                            <img src="./image/pc/meeting_page_last.png" alt="">
                        </div>
                        <div class="page-btn next" id="nextPageBtn" onclick="MeetingDemo.Video.nextPage(this)">
                            <img src="./image/pc/meeting_page_next.png" alt="">
                        </div>
                        <div class="page_chat_box">
                            <ul>
                                <!-- <span>乖乖兔：这是干啥呢</span> -->
                            </ul>
                        </div>
                    </div>
                    <div class="page_share_box">等待成员开启共享 ...</div>
                    <div class="page_board_box">
                        <div class="board-page-tool">
                            <button class="page-tool-btn cr-btn" onclick="MeetingDemo.Board.closeDoc()">关闭</button>
                            <button class="page-tool-btn cr-btn" onclick="MeetingDemo.Board.createNewBoard()">新建</button>
                            <button class="page-tool-btn cr-btn" onclick="MeetingDemo.Board.lastPage()">上一页</button>
                            <button class="page-tool-btn cr-btn" onclick="MeetingDemo.Board.nextPage()">下一页</button>
                            <div class="page-tool-pageNum"><span id="pageCur">1</span> / <span id="pageTotal">3</span>
                            </div>
                        </div>
                        <div class="board-tool-box">
                            <div class="mark-tool-list">
                                <button class="mark-tool-btn cr-btn" onclick="MeetingDemo.Board.undo()">撤销</button>
                                <button class="mark-tool-btn cr-btn" onclick="MeetingDemo.Board.redo()">恢复</button>
                                <button class="mark-tool-btn cr-btn" onclick="MeetingDemo.Board.clear()">清空</button>
                                <button class="mark-tool-btn cr-btn linewidth">粗细</button>
                                <button class="mark-tool-btn cr-btn color">颜色</button>
                                <button class="mark-tool-btn cr-btn" onclick="MeetingDemo.Board.toggleScale()">缩放</button>
                                <button class="mark-tool-btn cr-btn" onclick="MeetingDemo.Board.importBgImg()">背景</button>
                            </div>
                            <div class="line-width-list item-list">
                                <ul>
                                    <li class='l-w-10' onclick="MeetingDemo.Board.onChooseLineWidth(10,this)"><i></i>
                                    </li>
                                    <li class='l-w-8' onclick="MeetingDemo.Board.onChooseLineWidth(8,this)"><i></i></li>
                                    <li class='l-w-6' onclick="MeetingDemo.Board.onChooseLineWidth(6,this)"><i></i></li>
                                    <li class='l-w-4' onclick="MeetingDemo.Board.onChooseLineWidth(4,this)"><i></i></li>
                                    <li class='l-w-2 active' onclick="MeetingDemo.Board.onChooseLineWidth(2,this)">
                                        <i></i>
                                    </li>
                                </ul>
                            </div>
                            <div class="line-color-list item-list">
                                <ul>
                                    <li class='l-c-black' onclick="MeetingDemo.Board.onChooseColor('#000000',this)">
                                        <i></i>
                                    </li>
                                    <li class='l-c-red' onclick="MeetingDemo.Board.onChooseColor('#FF0000',this)">
                                        <i></i>
                                    </li>
                                    <li class='l-c-blue active' onclick="MeetingDemo.Board.onChooseColor('#0000FF',this)">
                                        <i></i>
                                    </li>
                                    <li class='l-c-orange' onclick="MeetingDemo.Board.onChooseColor('#FFA500',this)">
                                        <i></i>
                                    </li>
                                    <li class='l-c-green' onclick="MeetingDemo.Board.onChooseColor('#008000',this)">
                                        <i></i>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="board-main">当前没有白板</div>
                    </div>
                    <div class="page_meet_chat">
                        <input type="text" name="chat_msg" placeholder="请输入聊天内容" />
                        <span id="sendMsg" onclick="MeetingDemo.Chat.onClickSendBtn()">发送</span>
                    </div>
                    <div class="page_meet_tools por">
                        <ul class="page_meet_tool">
                            <li id="openChatBtn" onclick="MeetingDemo.Chat.onClickChatBtn(this)">
                                <span>聊天</span>
                            </li>
                            <li id="openMicBtn" class="mic_close" onclick="MeetingDemo.Audio.onClickMicOnOffBtn(this)">
                                <span>开关麦克风</span>
                            </li>
                            <li id="openSpeakerBtn" class="speaker_open" onclick="MeetingDemo.Audio.onClickSpeakerOnOffBtn(this)">
                                <span>开关扬声器</span>
                            </li>
                            <li id="openCamBtn" class="cam_close" onclick="MeetingDemo.Video.onClickCamOnOffBtn(this)">
                                <span>开关摄像头</span>
                            </li>
                            <li id="openScreenBtn" onclick="MeetingDemo.Screen.onClickScreenShareBtn(this)">
                                <span>屏幕共享</span>
                                <div class="screenControl btnlist">
                                    <ul>
                                        <li id="startMarkBtn" onclick="MeetingDemo.Screen.onClickStartMarkBtn(event)">
                                            开启标注
                                        </li>
                                        <li id="stopScreenShareBtn" onclick="MeetingDemo.Screen.onClickStopScreenShareBtn(event)">
                                            结束共享
                                        </li>
                                    </ul>
                                </div>
                            </li>
                            <li id="openMediaBtn" onclick="MeetingDemo.Media.onClickMediaShareBtn(this)">
                                <span>影音共享</span>
                                <div class="mediaControl btnlist">
                                    <input type="file" id="mediaFileInput" onchange="MeetingDemo.Media.onLoadMediaFiles(this)">
                                    <ul>
                                        <li id="stopMediaBtn" onclick="MeetingDemo.Media.onClickStopMediaBtn(event)">
                                            停止播放</li>
                                    </ul>
                                </div>
                            </li>
                            <li id="switchToBoardBtn" onclick="MeetingDemo.Board.onClickSwitchToBoardBtn(this)">
                                <span>白板</span>
                            </li>
                            <!-- <li id="openInviteBtn" onclick="MeetingDemo.Invite.openInviteBtn()"> -->
                            <li id="openInviteBtn" onclick="MeetingDemo.RoomMgr.onClickShareUrlBtn()">
                                <span>邀请参会</span>
                            </li>
                            <li id="openSetBtn" onclick="MeetingDemo.onClickSetBtn()">
                                <span>设置</span>
                            </li>
                        </ul>
                        <div class="page_meet_close" onclick="MeetingDemo.RoomMgr.onClickCloseBtn()"></div>
                    </div>
                    <div class="page_open_set">
                        <div class="page_set_title">
                            <div class="title-text">设置</div>
                            <span class="close-icon" onclick="$('.page_open_set').hide()"></span>
                        </div>
                        <div class="page_set_main">
                            <div class="page_set_form item">
                                <label>摄像头：</label>
                                <select class="select" id="select_cam" onchange="MeetingDemo.Video.setDefaultVideo(this.value)"></select>
                            </div>
                            <div class="page_set_form item">
                                <label>扬声器：</label>
                                <select class="select" id="select_speaker" onchange="MeetingDemo.Audio.setAudioCongfig({speakerID:this.value})"></select>
                            </div>
                            <div class="page_set_form item">
                                <label>麦克风：</label>
                                <select class="select" id="select_mic" onchange="MeetingDemo.Audio.setAudioCongfig({micID:this.value})"></select>
                            </div>
                            <div class="page_set_form item">
                                <label>分屏数：</label>
                                <select class="select" id="select_pageVideoNum" onchange="MeetingDemo.Video.setPageVideoNum({videoNum:this.value})">
                                    <option value="1">自动调整，最多1分屏</option>
                                    <option value="2">自动调整，最多2分屏</option>
                                    <option value="4">自动调整，最多4分屏</option>
                                    <option value="9" selected="true">自动调整，最多9分屏</option>
                                </select>
                            </div>
                            <div class="video_set item">
                                <div class="video_set_form">
                                    <label>视频质量：</label>
                                    <select class="select" id="select_size" onchange="MeetingDemo.Video.setVideoConfig({size:this.value})">
                                        <option value="1" selected="true">流畅360p</option>
                                        <option value="2">标清480p</option>
                                        <option value="3">高清720p</option>
                                        <option value="4">超清1080p</option>
                                    </select>
                                </div>
                                <div class="video_set_form">
                                    <label>视频帧率：</label>
                                    <select class="select" id="select_frame" onchange="MeetingDemo.Video.setVideoConfig({fps:this.value})">
                                        <option value="5">5帧/秒</option>
                                        <option value="10">10帧/秒</option>
                                        <option value="15" selected="true">15帧/秒</option>
                                        <option value="20">20帧/秒</option>
                                        <option value="25">25帧/秒</option>
                                        <option value="30">30帧/秒</option>
                                    </select>
                                </div>
                                <div class="video_set_form ratio">
                                    <label>视频比例：</label>
                                    <input type="text" id="set_video_ratio" value="16/9" onchange="MeetingDemo.Video.setVideoConfig({aspectRatio:this.value})">
                                </div>
                            </div>

                            <div class="page-set-check item h3">
                                <div class="muti-cam">
                                    <input type="checkbox" id="mutiCam" onchange="MeetingDemo.Video.setEnableMutiVideo()"><label for="mutiCam"> 启用多摄像头</label>&emsp;
                                </div>
                                <div class="voice-energy">
                                    <input type="checkbox" id="voiceTrack" onchange="MeetingDemo.RoomMgr.setMainVideoMode()"><label for="voiceTrack"> 语音激励模式</label>
                                </div>
                            </div>
                            <div class="screen-area item h3">
                                <input type="checkbox" id="regionShare" onchange="MeetingDemo.Screen.regionShare(this)"><label for="regionShare"> 屏幕区域共享&ensp;</label>
                                <label>L: </label><input type="text" class="regionShare-input" id="regShareLeft" onchange="MeetingDemo.Screen.catchRectChange(this)">&ensp;
                                <label>T: </label><input type="text" class="regionShare-input" id="regShareTop" onchange="MeetingDemo.Screen.catchRectChange(this)">&ensp;
                                <label>W: </label><input type="text" class="regionShare-input" id="regShareWidth" onchange="MeetingDemo.Screen.catchRectChange(this)">&ensp;
                                <label>H: </label><input type="text" class="regionShare-input" id="regShareHeight" onchange="MeetingDemo.Screen.catchRectChange(this)">&emsp;
                            </div>
                            <div class="mic-set item h3">
                                麦克风：
                                <input type="checkbox" id="autoGainControl" checked onchange="MeetingDemo.Audio.setAutoGainControl()"><label for="autoGainControl"> 自动增益</label>&emsp;
                                <input type="checkbox" id="echoCancellation" checked onchange="MeetingDemo.Audio.setEchoCancellation()"><label for="echoCancellation"> 回声消除</label>&emsp;
                                <input type="checkbox" id="noiseSuppression" checked onchange="MeetingDemo.Audio.setNoiseSuppression()"><label for="noiseSuppression"> 噪声抑制</label>&emsp;
                                <button id="closeAllMic" class="cr-btn cr-btn-xs" onclick="MeetingDemo.Audio.onClickCloseAll(this)">全体静音</button>
                            </div>
                            <div class="mic-volume item h3">
                                <label>麦克风音量：</label><input type="range" id="micVolInput" value="100" max="1000" min="0" onchange="MeetingDemo.Audio.setMicVol(this)"><span id="micVolStr">100</span>
                            </div>
                            <div class="set-buttons item">
                                <button id="toggleVirtualBG" class="cr-btn cr-btn-xs" onclick="MeetingDemo.Video.onClickVBGBtn()">虚拟背景</button>
                                <button id="addCanvasCamBtn" class="cr-btn cr-btn-xs" data-toggle=0 onclick="MeetingDemo.Video.onClickAddCanvasCamBtn(this)">添加虚拟摄像头(图片)</button>
                                <button id="addScreenCamBtn" class="cr-btn cr-btn-xs" data-toggle=0 onclick="MeetingDemo.Video.onClickAddScreenCamBtn(this)">添加桌面摄像头</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
        <!-- 主要内容结束 -->
        <!-- 更多 开始 -->
        <div class="more-box pa-center">
            <div class="close-btn poa">
                <span id="closeImg" onclick="$('.more-box').toggle()"></span>
            </div>
            <div class="layui-tab layui-tab-card">
                <ul class="layui-tab-title disableSelect">
                    <li class="layui-this">单流</li>
                    <li >合流</li>
                    <li >第三方云存储平台设置</li>
                </ul>
                <div class="layui-tab-content">
                    <div class="layui-tab-item layui-show">
                        <div class="list-item">
                            <label>
                                <input type="checkbox" id="isMp4File" checked> 是否生成mp4文件
                            </label>
                        </div>
                        <div class="list-item">
                            <span>mp4文件中的音频内容: </span>
                            <label>
                                <input id="aStreamType0" type="radio" name="aStreamType" value=0> 自己的声音
                            </label>&ensp;
                            <label>
                                <input id="aStreamType1" type="radio" name="aStreamType" value=1 checked> 所有人的声音
                            </label>&ensp;
                        </div>
                        <div class="list-item">
                            <span>mp4文件生成: </span>
                            <label>
                                <input id="subscribeVideos_all" type="radio" name="subscribeVideos" value=0 onchange="MeetingDemo.Mixer.updateUnaflowRecord('mp4', 0)" checked> 所有人的所有摄像头
                            </label>&ensp;
                            <label>
                                <input id="subscribeVideos_all_default" type="radio" name="subscribeVideos" value=1 onchange="MeetingDemo.Mixer.updateUnaflowRecord('mp4', 1)"> 所有人的默认摄像头
                            </label>&ensp;
                            <label>
                                <input id="subscribeVideos_myself_all" type="radio" name="subscribeVideos" value=2 onchange="MeetingDemo.Mixer.updateUnaflowRecord('mp4', 2)"> 自己的所有摄像头
                            </label>&ensp;
                            <label>
                                <input id="subscribeVideos_myself_default" type="radio" name="subscribeVideos" value=3 onchange="MeetingDemo.Mixer.updateUnaflowRecord('mp4', 3)"> 自己的默认摄像头
                            </label>&ensp;
                            <p>说明: 每个摄像头对应一个mp4文件,默认摄像头是编号为-1的摄像头,可在录制中修改(mp4文件生成)参数</p>
                        </div>
                        <div class="list-item">
                            <label>
                                <input type="checkbox" id="isMp3File" checked> 是否生成mp3文件
                            </label>
                        </div>
                        <div class="list-item">
                            <span>mp3文件生成: </span>
                            <label>
                                <input id="subscribeAudios_self" type="radio" name="subscribeAudios" value=0 onchange="MeetingDemo.Mixer.updateUnaflowRecord('mp3', 0)"> 自己的麦克风
                            </label>&ensp;
                            <label>
                                <input id="subscribeAudios_all" type="radio" name="subscribeAudios" value=1 checked onchange="MeetingDemo.Mixer.updateUnaflowRecord('mp3', 1)"> 所有人麦克风
                            </label>&ensp;
                            <p>说明: 每个人对应一个mp3文件,可在录制中修改(mp3文件生成)参数</p>
                        </div>
                        <div class="list-item btns-list">
                            <button id="unaflowRecordBtn" class="cr-btn" onclick="MeetingDemo.Mixer.startRecord('unaflowRecord')">开始单流录制</button>
                        </div>
                        <div class="info-list">
                            <ul class="file-info-list">
                                <!-- <li>ID:xsdvso，FileName:xowsndosd.mp4，state:1</li> -->
                            </ul>
                        </div>
                    </div>
                    <div class="layui-tab-item">
                        <div class="list-item">
                            <span>mp3的声道类型：</span>
                            <label>
                                <input type="radio" name="audioTpyeForMp3" value=0 checked> 单声道
                            </label>&ensp;
                            <label>
                                <input type="radio" name="audioTpyeForMp3" value=1> 左右声道
                            </label>
                        </div>
                        <div class="list-item">
                            <span>mp4的声道类型：</span>
                            <label>
                                <input type="radio" name="audioTpyeForMp4" value=0 checked> 单声道
                            </label>&ensp;
                            <label>
                                <input type="radio" name="audioTpyeForMp4" value=1> 左右声道
                            </label>
                        </div>
                        <div class="list-item">
                            <label>
                                <input type="checkbox" id="isCreateInterflowMp4File" checked> 是否生成mp4文件
                            </label>&ensp;&ensp;&ensp;
                            <label>
                                <input type="checkbox" id="isCreateInterflowMp3File"> 是否生成mp3文件
                            </label>
                        </div>
                        <div class="list-item">
                            <label>
                                <input type="checkbox" id="isOpenLiveStream"> 直播推流
                            </label>&ensp;&ensp;&ensp;
                            <label>
                                <input type="text" id="liveStreamVal" placeholder="填写推流地址后开启录制即可推流"  class="input lg">
                            </label>
                        </div>
                        <div class="list-item btns-list">
                            <button id="interflowRecordBtn" class="cr-btn" onclick="MeetingDemo.Mixer.startRecord()">开始合流录制</button>
                        </div>
                        <div class="list-item">
                            <div id="recordFilePath"></div>
                        </div>
                        <div class="info-list">
                            <ul class="file-info-list">
                                <!-- <li>ID:xsdvso，FileName:xowsndosd.mp4，state:1</li> -->
                            </ul>
                        </div>
                    </div>
                    <div class="layui-tab-item">
                        <div class="list-item">
                            <label for="isUploadOss">
                                <input type="checkbox" id="isUploadOss"> 是否上传到第三方平台
                            </label>
                        </div>
                        <div class="list-item">
                            <div class="l-text">云存储平台</div> 
                            <select name="cloudPlatform" id="ossCloudPlatform" disabled>
                                <option value="1">阿里云</option>
                            </select>
                        </div>
                        <div class="list-item">
                            <div class="l-text">地区</div> 
                            <input type="text" value="oss-cn-hangzhou" id="ossArea" class="input">
                        </div>
                        <div class="list-item">
                            <div class="l-text">Bucket</div> 
                            <input type="text" id="ossBucket" class="input">
                        </div>
                        <div class="list-item">
                            <div class="l-text">Access Key</div> 
                            <input type="text" id="ossAccess" class="input lg">
                        </div>
                        <div class="list-item">
                            <div class="l-text">Secret Key</div> 
                            <input type="text" id="ossSecret" class="input lg">
                        </div>
                </div>
            </div>
        </div>
        <!-- 更多 结束 -->
        <!-- 虚拟背景图片选择面板 开始 -->
        <div class="bgimg-choose">
            <div class="layui-layer-shade" style="z-index: 19921201; background-color: rgb(0, 0, 0); opacity: 0.3;">
            </div>
            <div class="img-choose-box pa-center">
                <div class="header-title">
                    <span>请选择虚拟背景图片</span>
                </div>
                <div class="choose-list">
                    <ul>
                        <li onclick="MeetingDemo.Video.chooseVBImg(this)" class="active" data-url="">
                            <div class="img-box box0">
                                无
                            </div>
                        </li>
                        <li onclick="MeetingDemo.Video.chooseVBImg(this)" id="vbImg1" data-url="">
                            <div class="img-box box1">
                                <img src="" alt="虚拟背景1">
                            </div>
                        </li>
                        <li onclick="MeetingDemo.Video.chooseVBImg(this)" id="vbImg2" data-url="">
                            <div class="img-box box2">
                                <img src="" alt="虚拟背景2">
                            </div>
                        </li>
                        <li onclick="MeetingDemo.Video.chooseVBImg(this)" id="vbImg3" data-url="">
                            <div class="img-box box3">
                                <img src="" alt="虚拟背景3">
                            </div>
                        </li>
                    </ul>
                </div>
                <div class="footer-btns">
                    <button class="cr-btn" onclick="MeetingDemo.Video.onClickVBConfirmBtn()">确定</button>
                    <button class="cr-btn cancel-btn" onclick="MeetingDemo.Video.onClickVBCancelBtn()">取消</button>
                </div>
            </div>
        </div>
        <!-- 虚拟背景图片选择面板 结束 -->
    </div>
    <!-- 会议界面 结束 -->

    <!-- 透明通道 开始 -->
    <div class="data-channel">
        <div class="msg-box">
            <div class='header'>
                <div class="title">
                    透明通道
                </div>
                <span class='close-btn' onclick="MeetingDemo.CMD.onClickCloseBtn()">×</span>
            </div>
            <div class="main">
                <div class="send">
                    <div class="tab">
                        <span class='tab-cmd tab-title checked' onclick="MeetingDemo.CMD.onClickTabBtn(this,'cmd')">文本命令</span>
                        <span class='tab-file tab-title' onclick="MeetingDemo.CMD.onClickTabBtn(this,'file')">文件数据</span>
                    </div>
                    <div class="send-file">
                        <div class="file-input">
                            <input type="file" id="fileInput" onchange="MeetingDemo.CMD.onLoadFile(this)">
                            <button id="fileInputBtn" class="pa-center btn" onclick="MeetingDemo.CMD.onClickFileLoadBtn()">选择文件</button>
                        </div>
                        <div class="file-info" id="sendFileInfo">未选择任何文件</div>
                        <div class="send-user">
                            <label for="userIDInput">接收人</label>
                            <input type="text" id="fileUserIDInput" class="userID-input">
                            <button id="fileSendBtn" class="send-btn h-pa-center btn" onclick="MeetingDemo.CMD.onClickFileSendBtn(this)">发送</button>
                        </div>
                    </div>
                    <div class="send-cmd">
                        <div class="cmd-box">
                            <textarea name="cmdbox" id="cmdInputBox" cols="20" rows="5" class="pa-center" placeholder="请输入文本"></textarea>
                        </div>
                        <div class="send-user">
                            <label for="userIDInput">接收人</label>
                            <input type="text" id="cmdUserIDInput" class="userID-input">
                            <button id="cmdSendBtn" class="send-btn h-pa-center btn" onclick="MeetingDemo.CMD.onClickCmdSendBtn()">发送</button>
                        </div>
                    </div>
                </div>
                <div class="recive">
                    <div class="from-user">
                        <div>收到来自 <span id="fromUserID"></span> 的</div>
                        <div><span id="msgType"></span></div>
                    </div>
                    <div class="data-value">
                        <div class="notify-cmd">
                            <div class="value-box h-pa-center" id="cmdValueBox"></div>
                            <button class="value-btn pa-center" id="answerBtn">回复</button>
                        </div>
                        <div class="notify-buffer">
                            <div class="value-box h-pa-center" id="bufferValueBox"></div>
                        </div>
                        <div class="notify-file">
                            <div class="value-box h-pa-center" id="fileNameBox"></div>
                            <button class="value-btn pa-center" id="downloadBtn">下载</button>
                        </div>
                    </div>
                    <div class="download-btn"></div>
                </div>
            </div>
        </div>
    </div>
    <div class="open-channel-btn" onclick="MeetingDemo.CMD.onClickDataChannelBtn(this)">透明通道</div>
    <!-- 透明通道 结束 -->

    <!-- 会议产品特殊处理，SDK开发者无须关注以下内容 -->
    <script>
        if (document.location.href.includes('/join/meeting/') || document.location.href.includes('type=meetapp')) window
            .isWebMeetingApp = true;
        if (!!window.isWebMeetingApp) {
            const scriptEle = document.createElement('script');
            scriptEle.src = "./js/meetDif.js";
            document.querySelector('body').appendChild(scriptEle);
        }
    </script>

    <script type="text/javascript">
        // 设置rem根字体大小
        function setFontSize() {
            const curSize = document.documentElement.style.fontSize;
            let fontSize = window.innerHeight ? Math.ceil(window.innerHeight / 950 * 100) : Math.ceil(document
                .documentElement.clientHeight / 950 * 100);
            fontSize = Math.ceil(fontSize / 2) * 2;
            if (`${fontSize}px` == curSize) return;
            document.documentElement.style.fontSize = `${fontSize}px`;
        }
        window.onresize = setFontSize;
        setFontSize();
        // 兼容electron
        var global = {
            window: window
        };

        document.querySelectorAll('.disableSelect').forEach(item => {
            item.onselectstart = function (e) {
                return false
            }
        })
    </script>

    <script type="text/javascript" src="../static/js/md5.js"></script>
    <script type="text/javascript" src="../static/js/rem.min.js"></script>

<script src="../SDK/RTCSDKV2.min.js?v=d0da"></script></body>

<script src="./js/index.js"></script>

</html>